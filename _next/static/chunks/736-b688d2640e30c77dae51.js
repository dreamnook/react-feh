(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{9487:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(5893),o=r(7294),a=r(8285),i=r(6156),s=r(7386),c=r(1728),l=r(6234),u=r(1780),p=r.n(u);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=e.index,r=e.style,o=e.data,a=o.heroId,i=o.heroes,s=o.heroesOrder,c=o.onClick,u=i[t];return(0,n.jsx)("button",{className:p()["hero-option"],disabled:a===u.id,"data-active":a===u.id,value:u.id,hidden:u.hidden,onClick:c,style:f(f({},r),{},{order:s[u.id]}),children:(0,n.jsx)(l.Z,f({id:u.id},u))},u.id)}function h(e){var t=e.heroId,r=e.heroes,a=e.heroesOrder,i=e.onSelect,l=(0,o.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]),u=(0,o.useMemo)((function(){return{heroId:t,heroes:r,heroesOrder:a,onClick:l}}),[t,r,a,l]),p=(0,o.useCallback)((function(e){return r[e].id}),[r]);return(0,n.jsx)(c.Z,{children:function(e){var t=e.width,o=e.height;return(0,n.jsx)(s.t7,{width:t,height:o,itemCount:r.length,itemSize:160,itemData:u,itemKey:p,children:g})}})}var y=(0,o.memo)(h),v=r(5545),b=r(4912),m=r(9127);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=e.heroId,r=e.noDropdown,n=void 0!==r&&r,a=e.noStat,s=void 0!==a&&a,c=e.onSelect,l=e.resplendent,u=(0,m.K)(),p=u.heroDB,d=u.assistDB,f=u.resplendentDB,g=(0,o.useMemo)((function(){return(0,v.$f)({heroDB:p,assistDB:d,resplendentDB:f,noStat:s})}),[p,d,f,s]),h=(0,o.useMemo)((function(){var e=p[t];return"".concat(e.name," - ").concat(e.title)}),[t,p]),y=(0,o.useRef)(),O=(0,o.useState)(n||!1),j=O[0],S=O[1],D=(0,o.useCallback)((function(){S((function(e){return e?y.current.value=h:(y.current.focus(),y.current.value="",y.current.placeholder=h),!e}))}),[h]),B=(0,o.useCallback)((function(e){e.stopPropagation(),j||(S(!0),y.current.focus(),y.current.value="",y.current.placeholder=h)}),[j,h]),P=(0,o.useState)(""),w=P[0],_=P[1],x=(0,o.useCallback)((function(e){_(e.currentTarget.value)}),[]),C=(0,b.Z)(),R=C.allChecked,Z=C.allIndeterminated,T=C.toggleAll,H=C.moveTypeFilter,N=C.toggleMoveType,I=C.weaponTypeFilter,A=C.toggleWeaponType,F=C.isRarity5,M=C.toggleRarity5,E=C.isRarity4,G=C.toggleRarity4,W=C.isGrail,U=C.toggleGrail,K=C.isDuo,z=C.toggleDuo,J=C.isDancer,$=C.toggleDancer,L=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1],n=(0,o.useCallback)((function(){r((function(e){return!e}))}),[]),a=(0,o.useState)(!1),i=a[0],s=a[1],c=(0,o.useCallback)((function(){s((function(e){return!e}))}),[]),l=(0,o.useState)(!1),u=l[0],p=l[1],d=(0,o.useCallback)((function(){p((function(e){return!e}))}),[]),f=(0,o.useState)(!1),g=f[0],h=f[1],y=(0,o.useCallback)((function(){h((function(e){return!e}))}),[]),v=(0,o.useState)(!1),b=v[0],m=v[1],O=(0,o.useCallback)((function(){m((function(e){return!e}))}),[]);return{sortBy:(0,o.useMemo)((function(){var e=[];return t&&e.push("hp"),i&&e.push("atk"),u&&e.push("spd"),g&&e.push("def"),b&&e.push("res"),e}),[t,i,u,g,b]),sortByHP:t,toggleSortByHp:n,sortByAtk:i,toggleSortByAtk:c,sortBySpd:u,toggleSortBySpd:d,sortByDef:g,toggleSortByDef:y,sortByRes:b,toggleSortByRes:O}}(),V=L.sortBy,Y=L.sortByHP,q=L.toggleSortByHp,Q=L.sortByAtk,X=L.toggleSortByAtk,ee=L.sortBySpd,te=L.toggleSortBySpd,re=L.sortByDef,ne=L.toggleSortByDef,oe=L.sortByRes,ae=L.toggleSortByRes,ie=(0,o.useMemo)((function(){return g.sort((function(e,t){var r=V.reduce((function(t,r){return t+e[r]}),0),n=V.reduce((function(e,r){return e+t[r]}),0);return r>n?-1:n>r?1:e.index-t.index})).reduce((function(e,t,r){return k(k({},e),{},(0,i.Z)({},t.id,r))}),{})}),[g,V]),se=(0,o.useMemo)((function(){return g.filter((function(e){return!(0,v._u)(e,{filter:w,moveTypeFilter:H,weaponTypeFilter:I,isRarity5:F,isRarity4:E,isGrail:W,isDuo:K,isDancer:J})})).map((function(e){return k(k({},e),{},{faceSrc:l?e.faceSrcR:e.faceSrc})})).sort((function(e,t){return ie[e.id]-ie[t.id]}))}),[g,ie,w,H,I,F,E,W,K,J,l]),ce=(0,o.useCallback)((function(e){if(c(e),S(n||!1),!n){var t=p[e],r="".concat(t.name," - ").concat(t.title);y.current.value=r}}),[c,S,n,p]);return{inputRef:y,open:j,setOpen:S,toggleOpen:n?void 0:D,placeholder:h,disabled:g.length<2,onInputClick:n?void 0:B,handleOnSelect:ce,filter:w,onChangeFilter:x,allChecked:R,allIndeterminated:Z,toggleAll:T,moveTypeFilter:H,toggleMoveType:N,weaponTypeFilter:I,toggleWeaponType:A,isRarity5:F,toggleRarity5:M,isRarity4:E,toggleRarity4:G,isGrail:W,toggleGrail:U,isDuo:K,toggleDuo:z,isDancer:J,toggleDancer:$,sortByHP:Y,toggleSortByHp:q,sortByAtk:Q,toggleSortByAtk:X,sortBySpd:ee,toggleSortBySpd:te,sortByDef:re,toggleSortByDef:ne,sortByRes:oe,toggleSortByRes:ae,computedHeroes:se,heroesOrder:ie}}function S(e){var t=e.noDropdown,r=e.inputRef,o=e.disabled,a=e.placeholder,i=e.open,s=e.toggleOpen,c=e.onInputClick,l=e.onChangeFilter;return t?(0,n.jsx)("input",{className:p()["toggle-input"],ref:r,placeholder:"\u8f38\u5165\u540d\u5b57/\u7a31\u865f",onChange:l,disabled:o}):(0,n.jsxs)("button",{className:p().toggle,onClick:s,role:"button",disabled:o,"data-open":i,children:[(0,n.jsx)("input",{className:p()["toggle-input"],ref:r,defaultValue:a,placeholder:a,onClick:c,onChange:l,disabled:o}),(0,n.jsx)("span",{className:p().arrow,children:"\u25bc"})]})}var D=function(e){var t=e.heroId,r=e.onSelect,o=e.noDropdown,i=void 0!==o&&o,s=e.noStat,c=j({heroId:t,noDropdown:i,noStat:void 0!==s&&s,onSelect:r,resplendent:e.resplendent}),l=c.inputRef,u=c.open,d=c.toggleOpen,f=c.placeholder,g=c.disabled,h=c.onInputClick,v=c.handleOnSelect,b=c.onChangeFilter,m=c.allChecked,O=c.allIndeterminated,k=c.toggleAll,D=c.moveTypeFilter,B=c.toggleMoveType,P=c.weaponTypeFilter,w=c.toggleWeaponType,_=c.isRarity5,x=c.toggleRarity5,C=c.isRarity4,R=c.toggleRarity4,Z=c.isGrail,T=c.toggleGrail,H=c.isDuo,N=c.toggleDuo,I=c.isDancer,A=c.toggleDancer,F=c.sortByHP,M=c.toggleSortByHp,E=c.sortByAtk,G=c.toggleSortByAtk,W=c.sortBySpd,U=c.toggleSortBySpd,K=c.sortByDef,z=c.toggleSortByDef,J=c.sortByRes,$=c.toggleSortByRes,L=c.computedHeroes,V=c.heroesOrder;return(0,n.jsxs)("div",{className:p().container,children:[(0,n.jsx)(S,{noDropdown:i,inputRef:l,disabled:g,placeholder:f,open:u,toggleOpen:d,onInputClick:h,onChangeFilter:b}),(0,n.jsx)("div",{className:p().anchor,"data-open":u,children:(0,n.jsxs)("div",{className:p().menu,"data-nobgcolor":i,children:[(0,n.jsx)(a.Z,{allChecked:m,allIndeterminated:O,toggleAll:k,moveTypeFilter:D,toggleMoveType:B,weaponTypeFilter:P,toggleWeaponType:w,isRarity5:_,toggleRarity5:x,isRarity4:C,toggleRarity4:R,isGrail:Z,toggleGrail:T,isDuo:H,toggleDuo:N,isDancer:I,toggleDancer:A}),(0,n.jsxs)("div",{className:p()["stats-buttons"],children:[(0,n.jsx)("div",{className:p().title,children:"\u6392\u5e8f\u4f9d\u64da"}),(0,n.jsx)("button",{"data-active":F,onClick:M,children:"HP"}),(0,n.jsx)("button",{"data-active":E,onClick:G,children:"\u653b\u64ca"}),(0,n.jsx)("button",{"data-active":W,onClick:U,children:"\u901f\u5ea6"}),(0,n.jsx)("button",{"data-active":K,onClick:z,children:"\u9632\u5b88"}),(0,n.jsx)("button",{"data-active":J,onClick:$,children:"\u9b54\u9632"})]}),(0,n.jsx)("div",{className:p().list,children:(0,n.jsx)(y,{heroId:t,heroes:L,onSelect:v,heroesOrder:V})})]})})]})}},4162:function(e,t,r){"use strict";var n=r(5893),o=(r(7294),r(6374)),a=[0,1,2,3,4,5,6,7,8,9,10];t.Z=function(e){var t=e.merge,r=e.onSelect;return(0,n.jsx)(o.Z,{value:t,onSelect:r,options:a})}},6374:function(e,t,r){"use strict";var n=r(5893),o=r(7294),a=r(7253),i=r.n(a);t.Z=function(e){var t=e.value,r=e.options,a=e.onSelect,s=(0,o.useCallback)((function(e){a&&a(Number(e.currentTarget.value))}),[a]);return(0,n.jsx)("div",{className:i().wrapper,children:(0,n.jsx)("div",{className:i().container,children:r.map((function(e){return(0,n.jsx)("button",{value:e,"data-active":e===t,onClick:s,children:e},e)}))})})}},5170:function(e,t,r){"use strict";var n=r(5893),o=r(7294),a=r(2721),i=r.n(a),s=[{name:"5\u2606",value:5},{name:"4\u2605",value:4}];t.Z=function(e){var t=e.rarity,r=void 0===t?5:t,a=e.minRarity,c=void 0===a?5:a,l=e.onSelect,u=(0,o.useCallback)((function(e){l&&l(Number(e.currentTarget.value))}),[l]),p=(0,o.useMemo)((function(){return c<5?s:s.slice(0,1)}),[c]);return(0,n.jsx)("div",{className:i().raritypicker,children:p.map((function(e){return(0,n.jsx)("button",{onClick:u,"data-active":e.value===r,value:e.value,children:e.name},e.value)}))})}},629:function(e,t,r){"use strict";r.d(t,{$r:function(){return s},Ty:function(){return c},Ud:function(){return l},YM:function(){return u},Zx:function(){return p}});var n=r(6156),o=r(4699);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){if(!e||"-"===e)return{boon:"hp",bane:"hp"};var t=e.substring(1).split("-");return{boon:t[0],bane:t[1]}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hp:0,atk:0,spd:0,def:0,res:0},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=Array.isArray(e.hp),c=s(t),l=c.boon,u=c.bane,p={hp:1,atk:1,spd:1,def:1,res:1};p[l]+=1,p[u]-=1;var d=Object.entries(e).reduce((function(e,t){var r,s=(0,o.Z)(t,2),c=s[0],l=s[1],u=a?l[p[c]]:l;return i(i({},e),{},(r={},(0,n.Z)(r,c,u),(0,n.Z)(r,"bst",e.bst+u),r))}),{bst:0});return r>0&&(a?(d[u]=e[u][1],d.bst+=l===u?3:e[u][1]-e[u][0]):(d[u]=e[u],d.bst+=3)),d},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hp:0,atk:0,spd:0,def:0,res:0},t=arguments.length>1?arguments[1]:void 0,r=s(t),a=r.boon,c=r.bane,l={hp:0,atk:0,spd:0,def:0,res:0};return l[a]+=1,l[c]-=1,Object.entries(e).reduce((function(e,t){var r=(0,o.Z)(t,2),a=r[0],s=r[1];return i(i({},e),{},(0,n.Z)({},a,s+l[a]))}),{hp:0,atk:0,spd:0,def:0,res:0})},u=[{name:"+HP -\u653b\u64ca",value:"+hp-atk"},{name:"+HP -\u901f\u5ea6",value:"+hp-spd"},{name:"+HP -\u9632\u5b88",value:"+hp-def"},{name:"+HP -\u9b54\u9632",value:"+hp-res"},{name:"+\u653b\u64ca -HP",value:"+atk-hp"},{name:"+\u653b\u64ca -\u901f\u5ea6",value:"+atk-spd"},{name:"+\u653b\u64ca -\u9632\u5b88",value:"+atk-def"},{name:"+\u653b\u64ca -\u9b54\u9632",value:"+atk-res"},{name:"+\u901f\u5ea6 -HP",value:"+spd-hp"},{name:"+\u901f\u5ea6 -\u653b\u64ca",value:"+spd-atk"},{name:"+\u901f\u5ea6 -\u9632\u5b88",value:"+spd-def"},{name:"+\u901f\u5ea6 -\u9b54\u9632",value:"+spd-res"},{name:"+\u9632\u5b88 -HP",value:"+def-hp"},{name:"+\u9632\u5b88 -\u653b\u64ca",value:"+def-atk"},{name:"+\u9632\u5b88 -\u901f\u5ea6",value:"+def-spd"},{name:"+\u9632\u5b88 -\u9b54\u9632",value:"+def-res"},{name:"+\u9b54\u9632 -HP",value:"+res-hp"},{name:"+\u9b54\u9632 -\u653b\u64ca",value:"+res-atk"},{name:"+\u9b54\u9632 -\u901f\u5ea6",value:"+res-spd"},{name:"+\u9b54\u9632 -\u9632\u5b88",value:"+res-def"}];function p(e){var t=u.find((function(t){return e===t.value}));return(null===t||void 0===t?void 0:t.name)||"-"}},1665:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={hp:0,atk:0,spd:0,def:0,res:0};r&&t>0&&(n[e[0]]=1,n[e[1]]=1,n[e[2]]=1);for(var o=0;o<2*t;o+=1){var a=o%5;n[e[a]]+=1}return n}},6032:function(e,t,r){"use strict";r.d(t,{h:function(){return u},f:function(){return p}});var n=r(6156),o=r(7375),a=r(4699),i=r(629),s=r(1665);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){var t=Object.entries(e).map((function(e,t){var r=(0,a.Z)(e,2);return{key:r[0],stat:r[1],index:t}}));return t.sort((function(e,t){return e.stat>t.stat?-1:e.stat<t.stat?1:e.index<t.index?-1:e.index>t.index?1:0})),t.map((function(e){return e.key}))}var p=function(e){var t=e.rarity,r=e.stats,c=e.iv,p=e.merge,d=e.support,f=e.skillStats,g=e.lv1,h=e.arena,y=e.dragonflower,v=e.resplendent,b=e.mythicBonus1,m=e.mythicBonus2,O=e.mythicBonus3,k=e.mythicBonus4,j=(0,i.Ty)(r["".concat(t)],c,p),S=j.bst,D=(0,o.Z)(j,["bst"]),B=(0,i.Ud)(r["".concat(t,"-1")],c),P=u((0,i.Ud)(r["5-1"],c)),w=(0,s.s)(P,p,!c||"-"===c),_=function(e,t){for(var r={hp:0,atk:0,spd:0,def:0,res:0},n=0;n<t;n+=1)r[e[n%5]]+=1;return r}(P,y),x=d?{hp:5,atk:2,spd:2,def:2,res:2}:{hp:0,atk:0,spd:0,def:0,res:0},C=h?{hp:10,atk:4,spd:4,def:4,res:4}:{hp:0,atk:0,spd:0,def:0,res:0},R=v?2:0,Z=[b,m,O,k].reduce((function(e,t){switch(t){default:return e;case"atk":return e.hp+=5,e.atk+=3,e;case"spd":return e.hp+=5,e.spd+=4,e;case"def":return e.hp+=5,e.def+=5,e;case"res":return e.hp+=5,e.res+=5,e}}),{hp:0,atk:0,spd:0,def:0,res:0});return{stats:Object.entries(g?B:D).reduce((function(e,t){var r=(0,a.Z)(t,2),o=r[0],i=r[1]+f[o]+w[o]+_[o]+x[o]+C[o]+Z[o]+R;return l(l({},e),{},(0,n.Z)({},o,i>-1?i:0))}),{}),bst:S}}},1780:function(e){e.exports={container:"heroselect_container__3rZU3",toggle:"heroselect_toggle__3mzOy","toggle-input":"heroselect_toggle-input__1HNnH",arrow:"heroselect_arrow__29LW2",anchor:"heroselect_anchor__2sHR4",menu:"heroselect_menu__2cACs",list:"heroselect_list__2sGnM","stats-buttons":"heroselect_stats-buttons__1K-Wh",title:"heroselect_title__Ht44m","hero-option":"heroselect_hero-option__1EONx"}},7253:function(e){e.exports={container:"numberpicker_container__2xJWI",wrapper:"numberpicker_wrapper__19oMe"}},2721:function(e){e.exports={raritypicker:"raritypicker_raritypicker__JEpxm"}}}]);