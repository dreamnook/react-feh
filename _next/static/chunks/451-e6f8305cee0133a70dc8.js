(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{1720:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(7294),o=r(8767),a=r(4942),i=r(4825),s=r(1728),c=r(8132),l=r(401),u=r.n(l),p=r(5893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=e.index,r=e.style,n=e.data,o=n.heroId,a=n.heroes,i=n.heroesOrder,s=n.onClick,l=a[t];return(0,p.jsx)("button",{className:u()["hero-option"],disabled:o===l.id,"data-active":o===l.id,value:l.id,hidden:l.hidden,onClick:s,style:f(f({},r),{},{order:i[l.id]}),children:(0,p.jsx)(c.Z,f({id:l.id},l))},l.id)}function h(e){var t=e.heroId,r=e.heroes,o=e.heroesOrder,a=e.onSelect,c=(0,n.useCallback)((function(e){e.stopPropagation(),a(e.currentTarget.value)}),[a]),l=(0,n.useMemo)((function(){return{heroId:t,heroes:r,heroesOrder:o,onClick:c}}),[t,r,o,c]),u=(0,n.useCallback)((function(e){return r[e].id}),[r]);return(0,p.jsx)(s.Z,{children:function(e){var t=e.width,n=e.height;return(0,p.jsx)(i.t7,{width:t,height:n,itemCount:r.length,itemSize:160,itemData:l,itemKey:u,children:g})}})}var v=(0,n.memo)(h),y=r(7901),b=r(5576),m=r(4808);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=e.heroId,r=e.noDropdown,o=void 0!==r&&r,i=e.noStat,s=void 0!==i&&i,c=e.onSelect,l=e.resplendent,u=(0,m.K)(),p=u.heroDB,d=u.assistDB,f=u.resplendentDB,g=(0,n.useMemo)((function(){return(0,y.$f)({heroDB:p,assistDB:d,resplendentDB:f,noStat:s})}),[p,d,f,s]),h=(0,n.useMemo)((function(){var e=p[t];return"".concat(e.name," - ").concat(e.title)}),[t,p]),v=(0,n.useRef)(),O=(0,n.useState)(o||!1),j=O[0],S=O[1],D=(0,n.useCallback)((function(){S((function(e){return e?v.current.value=h:(v.current.focus(),v.current.value="",v.current.placeholder=h),!e}))}),[h]),B=(0,n.useCallback)((function(e){e.stopPropagation(),j||(S(!0),v.current.focus(),v.current.value="",v.current.placeholder=h)}),[j,h]),P=(0,n.useState)(""),w=P[0],_=P[1],x=(0,n.useCallback)((function(e){_(e.currentTarget.value)}),[]),C=(0,b.Z)(),R=C.allChecked,Z=C.allIndeterminated,T=C.toggleAll,H=C.moveTypeFilter,N=C.toggleMoveType,I=C.weaponTypeFilter,A=C.toggleWeaponType,F=C.isRarity5,M=C.toggleRarity5,E=C.isRarity4,G=C.toggleRarity4,W=C.isGrail,U=C.toggleGrail,K=C.isDuo,z=C.toggleDuo,J=C.isDancer,$=C.toggleDancer,L=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],o=(0,n.useCallback)((function(){r((function(e){return!e}))}),[]),a=(0,n.useState)(!1),i=a[0],s=a[1],c=(0,n.useCallback)((function(){s((function(e){return!e}))}),[]),l=(0,n.useState)(!1),u=l[0],p=l[1],d=(0,n.useCallback)((function(){p((function(e){return!e}))}),[]),f=(0,n.useState)(!1),g=f[0],h=f[1],v=(0,n.useCallback)((function(){h((function(e){return!e}))}),[]),y=(0,n.useState)(!1),b=y[0],m=y[1],O=(0,n.useCallback)((function(){m((function(e){return!e}))}),[]);return{sortBy:(0,n.useMemo)((function(){var e=[];return t&&e.push("hp"),i&&e.push("atk"),u&&e.push("spd"),g&&e.push("def"),b&&e.push("res"),e}),[t,i,u,g,b]),sortByHP:t,toggleSortByHp:o,sortByAtk:i,toggleSortByAtk:c,sortBySpd:u,toggleSortBySpd:d,sortByDef:g,toggleSortByDef:v,sortByRes:b,toggleSortByRes:O}}(),V=L.sortBy,Y=L.sortByHP,q=L.toggleSortByHp,Q=L.sortByAtk,X=L.toggleSortByAtk,ee=L.sortBySpd,te=L.toggleSortBySpd,re=L.sortByDef,ne=L.toggleSortByDef,oe=L.sortByRes,ae=L.toggleSortByRes,ie=(0,n.useMemo)((function(){return g.sort((function(e,t){var r=V.reduce((function(t,r){return t+e[r]}),0),n=V.reduce((function(e,r){return e+t[r]}),0);return r>n?-1:n>r?1:e.index-t.index})).reduce((function(e,t,r){return k(k({},e),{},(0,a.Z)({},t.id,r))}),{})}),[g,V]),se=(0,n.useMemo)((function(){return g.filter((function(e){return!(0,y._u)(e,{filter:w,moveTypeFilter:H,weaponTypeFilter:I,isRarity5:F,isRarity4:E,isGrail:W,isDuo:K,isDancer:J})})).map((function(e){return k(k({},e),{},{faceSrc:l?e.faceSrcR:e.faceSrc})})).sort((function(e,t){return ie[e.id]-ie[t.id]}))}),[g,ie,w,H,I,F,E,W,K,J,l]),ce=(0,n.useCallback)((function(e){if(c(e),S(o||!1),!o){var t=p[e],r="".concat(t.name," - ").concat(t.title);v.current.value=r}}),[c,S,o,p]);return{inputRef:v,open:j,setOpen:S,toggleOpen:o?void 0:D,placeholder:h,disabled:g.length<2,onInputClick:o?void 0:B,handleOnSelect:ce,filter:w,onChangeFilter:x,allChecked:R,allIndeterminated:Z,toggleAll:T,moveTypeFilter:H,toggleMoveType:N,weaponTypeFilter:I,toggleWeaponType:A,isRarity5:F,toggleRarity5:M,isRarity4:E,toggleRarity4:G,isGrail:W,toggleGrail:U,isDuo:K,toggleDuo:z,isDancer:J,toggleDancer:$,sortByHP:Y,toggleSortByHp:q,sortByAtk:Q,toggleSortByAtk:X,sortBySpd:ee,toggleSortBySpd:te,sortByDef:re,toggleSortByDef:ne,sortByRes:oe,toggleSortByRes:ae,computedHeroes:se,heroesOrder:ie}}function S(e){var t=e.noDropdown,r=e.inputRef,n=e.disabled,o=e.placeholder,a=e.open,i=e.toggleOpen,s=e.onInputClick,c=e.onChangeFilter;return t?(0,p.jsx)("input",{className:u()["toggle-input"],ref:r,placeholder:"\u8f38\u5165\u540d\u5b57/\u7a31\u865f",onChange:c,disabled:n}):(0,p.jsxs)("button",{className:u().toggle,onClick:i,role:"button",disabled:n,"data-open":a,children:[(0,p.jsx)("input",{className:u()["toggle-input"],ref:r,defaultValue:o,placeholder:o,onClick:s,onChange:c,disabled:n}),(0,p.jsx)("span",{className:u().arrow,children:"\u25bc"})]})}var D=function(e){var t=e.heroId,r=e.onSelect,n=e.noDropdown,a=void 0!==n&&n,i=e.noStat,s=j({heroId:t,noDropdown:a,noStat:void 0!==i&&i,onSelect:r,resplendent:e.resplendent}),c=s.inputRef,l=s.open,d=s.toggleOpen,f=s.placeholder,g=s.disabled,h=s.onInputClick,y=s.handleOnSelect,b=s.onChangeFilter,m=s.allChecked,O=s.allIndeterminated,k=s.toggleAll,D=s.moveTypeFilter,B=s.toggleMoveType,P=s.weaponTypeFilter,w=s.toggleWeaponType,_=s.isRarity5,x=s.toggleRarity5,C=s.isRarity4,R=s.toggleRarity4,Z=s.isGrail,T=s.toggleGrail,H=s.isDuo,N=s.toggleDuo,I=s.isDancer,A=s.toggleDancer,F=s.sortByHP,M=s.toggleSortByHp,E=s.sortByAtk,G=s.toggleSortByAtk,W=s.sortBySpd,U=s.toggleSortBySpd,K=s.sortByDef,z=s.toggleSortByDef,J=s.sortByRes,$=s.toggleSortByRes,L=s.computedHeroes,V=s.heroesOrder;return(0,p.jsxs)("div",{className:u().container,children:[(0,p.jsx)(S,{noDropdown:a,inputRef:c,disabled:g,placeholder:f,open:l,toggleOpen:d,onInputClick:h,onChangeFilter:b}),(0,p.jsx)("div",{className:u().anchor,"data-open":l,children:(0,p.jsxs)("div",{className:u().menu,"data-nobgcolor":a,children:[(0,p.jsx)(o.Z,{allChecked:m,allIndeterminated:O,toggleAll:k,moveTypeFilter:D,toggleMoveType:B,weaponTypeFilter:P,toggleWeaponType:w,isRarity5:_,toggleRarity5:x,isRarity4:C,toggleRarity4:R,isGrail:Z,toggleGrail:T,isDuo:H,toggleDuo:N,isDancer:I,toggleDancer:A}),(0,p.jsxs)("div",{className:u()["stats-buttons"],children:[(0,p.jsx)("div",{className:u().title,children:"\u6392\u5e8f\u4f9d\u64da"}),(0,p.jsx)("button",{"data-active":F,onClick:M,children:"HP"}),(0,p.jsx)("button",{"data-active":E,onClick:G,children:"\u653b\u64ca"}),(0,p.jsx)("button",{"data-active":W,onClick:U,children:"\u901f\u5ea6"}),(0,p.jsx)("button",{"data-active":K,onClick:z,children:"\u9632\u5b88"}),(0,p.jsx)("button",{"data-active":J,onClick:$,children:"\u9b54\u9632"})]}),(0,p.jsx)("div",{className:u().list,children:(0,p.jsx)(v,{heroId:t,heroes:L,onSelect:y,heroesOrder:V})})]})})]})}},6870:function(e,t,r){"use strict";r(7294);var n=r(4637),o=r(5893),a=[0,1,2,3,4,5,6,7,8,9,10];t.Z=function(e){var t=e.merge,r=e.onSelect;return(0,o.jsx)(n.Z,{value:t,onSelect:r,options:a})}},4637:function(e,t,r){"use strict";var n=r(7294),o=r(6560),a=r.n(o),i=r(5893);t.Z=function(e){var t=e.value,r=e.options,o=e.onSelect,s=(0,n.useCallback)((function(e){o&&o(Number(e.currentTarget.value))}),[o]);return(0,i.jsx)("div",{className:a().wrapper,children:(0,i.jsx)("div",{className:a().container,children:r.map((function(e){return(0,i.jsx)("button",{value:e,"data-active":e===t,onClick:s,children:e},e)}))})})}},6349:function(e,t,r){"use strict";var n=r(7294),o=r(5901),a=r.n(o),i=r(5893),s=[{name:"5\u2606",value:5},{name:"4\u2605",value:4}];t.Z=function(e){var t=e.rarity,r=void 0===t?5:t,o=e.minRarity,c=void 0===o?5:o,l=e.onSelect,u=(0,n.useCallback)((function(e){l&&l(Number(e.currentTarget.value))}),[l]),p=(0,n.useMemo)((function(){return c<5?s:s.slice(0,1)}),[c]);return(0,i.jsx)("div",{className:a().raritypicker,children:p.map((function(e){return(0,i.jsx)("button",{onClick:u,"data-active":e.value===r,value:e.value,children:e.name},e.value)}))})}},5294:function(e,t,r){"use strict";r.d(t,{$r:function(){return s},Ty:function(){return c},Ud:function(){return l},YM:function(){return u},Zx:function(){return p}});var n=r(4942),o=r(885);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){if(!e||"-"===e)return{boon:"",bane:""};var t=e.substring(1).split("-");return{boon:t[0],bane:t[1]}},c=function(e){var t=e.stats,r=void 0===t?{hp:0,atk:0,spd:0,def:0,res:0}:t,a=e.iv,c=e.merge,l=e.bloom,u=Array.isArray(r.hp),p=s(a),d=p.boon,f=p.bane,g={hp:1,atk:1,spd:1,def:1,res:1};g[d]+=1,g[f]-=1;var h,v,y,b=Object.entries(r).reduce((function(e,t){var r,a=(0,o.Z)(t,2),s=a[0],c=a[1],l=u?c[g[s]]:c;return i(i({},e),{},(r={},(0,n.Z)(r,s,l),(0,n.Z)(r,"bst",e.bst+l),r))}),{bst:0});c>0&&(u?(b[f]=null===(h=r[f])||void 0===h?void 0:h[1],b.bst+=d===f?3:(null===(v=r[f])||void 0===v?void 0:v[1])-(null===(y=r[f])||void 0===y?void 0:y[0])):(b[f]=r[f],b.bst+=3));if(l&&l!==d){var m=2;c<=0&&f===l&&(m=1),b[l]=u?r[l][m]:r[l]}return b},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hp:0,atk:0,spd:0,def:0,res:0},t=arguments.length>1?arguments[1]:void 0,r=s(t),a=r.boon,c=r.bane,l={hp:0,atk:0,spd:0,def:0,res:0};return l[a]+=1,l[c]-=1,Object.entries(e).reduce((function(e,t){var r=(0,o.Z)(t,2),a=r[0],s=r[1];return i(i({},e),{},(0,n.Z)({},a,s+l[a]))}),{hp:0,atk:0,spd:0,def:0,res:0})},u=[{name:"+HP -\u653b\u64ca",value:"+hp-atk"},{name:"+HP -\u901f\u5ea6",value:"+hp-spd"},{name:"+HP -\u9632\u5b88",value:"+hp-def"},{name:"+HP -\u9b54\u9632",value:"+hp-res"},{name:"+\u653b\u64ca -HP",value:"+atk-hp"},{name:"+\u653b\u64ca -\u901f\u5ea6",value:"+atk-spd"},{name:"+\u653b\u64ca -\u9632\u5b88",value:"+atk-def"},{name:"+\u653b\u64ca -\u9b54\u9632",value:"+atk-res"},{name:"+\u901f\u5ea6 -HP",value:"+spd-hp"},{name:"+\u901f\u5ea6 -\u653b\u64ca",value:"+spd-atk"},{name:"+\u901f\u5ea6 -\u9632\u5b88",value:"+spd-def"},{name:"+\u901f\u5ea6 -\u9b54\u9632",value:"+spd-res"},{name:"+\u9632\u5b88 -HP",value:"+def-hp"},{name:"+\u9632\u5b88 -\u653b\u64ca",value:"+def-atk"},{name:"+\u9632\u5b88 -\u901f\u5ea6",value:"+def-spd"},{name:"+\u9632\u5b88 -\u9b54\u9632",value:"+def-res"},{name:"+\u9b54\u9632 -HP",value:"+res-hp"},{name:"+\u9b54\u9632 -\u653b\u64ca",value:"+res-atk"},{name:"+\u9b54\u9632 -\u901f\u5ea6",value:"+res-spd"},{name:"+\u9b54\u9632 -\u9632\u5b88",value:"+res-def"}];function p(e){var t=u.find((function(t){return e===t.value}));return(null===t||void 0===t?void 0:t.name)||"-"}},6832:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={hp:0,atk:0,spd:0,def:0,res:0};r&&t>0&&(n[e[0]]=1,n[e[1]]=1,n[e[2]]=1);for(var o=0;o<2*t;o+=1){var a=o%5;n[e[a]]+=1}return n}},443:function(e,t,r){"use strict";r.d(t,{h:function(){return p},f:function(){return d}});var n=r(4942),o=r(4925),a=r(885),i=r(5294),s=r(6832),c=["bst"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){var t=Object.entries(e).map((function(e,t){var r=(0,a.Z)(e,2);return{key:r[0],stat:r[1],index:t}}));return t.sort((function(e,t){return e.stat>t.stat?-1:e.stat<t.stat?1:e.index<t.index?-1:e.index>t.index?1:0})),t.map((function(e){return e.key}))}var d=function(e){var t=e.rarity,r=e.stats,l=e.iv,d=e.merge,f=e.support,g=e.skillStats,h=e.lv1,v=e.arena,y=e.dragonflower,b=e.resplendent,m=e.mythicBonus1,O=e.mythicBonus2,k=e.mythicBonus3,j=e.mythicBonus4,S=e.bloom,D=(0,i.Ty)({stats:r["".concat(t)],iv:l,merge:d,bloom:S}),B=D.bst,P=(0,o.Z)(D,c),w=(0,i.Ud)(r["".concat(t,"-1")],l),_=p((0,i.Ud)(r["5-1"],l)),x=(0,s.s)(_,d,!l||"-"===l),C=function(e,t){for(var r={hp:0,atk:0,spd:0,def:0,res:0},n=0;n<t;n+=1)r[e[n%5]]+=1;return r}(_,y),R=f?{hp:5,atk:2,spd:2,def:2,res:2}:{hp:0,atk:0,spd:0,def:0,res:0},Z=v?{hp:10,atk:4,spd:4,def:4,res:4}:{hp:0,atk:0,spd:0,def:0,res:0},T=b?2:0,H=[m,O,k,j].reduce((function(e,t){switch(t){default:return e;case"atk":return e.hp+=5,e.atk+=3,e;case"spd":return e.hp+=5,e.spd+=4,e;case"def":return e.hp+=5,e.def+=5,e;case"res":return e.hp+=5,e.res+=5,e}}),{hp:0,atk:0,spd:0,def:0,res:0});return{stats:Object.entries(h?w:P).reduce((function(e,t){var r=(0,a.Z)(t,2),o=r[0],i=r[1]+g[o]+x[o]+C[o]+R[o]+Z[o]+H[o]+T;return u(u({},e),{},(0,n.Z)({},o,i>-1?i:0))}),{}),bst:B}}},401:function(e){e.exports={container:"heroselect_container__3rZU3",toggle:"heroselect_toggle__3mzOy","toggle-input":"heroselect_toggle-input__1HNnH",arrow:"heroselect_arrow__29LW2",anchor:"heroselect_anchor__2sHR4",menu:"heroselect_menu__2cACs",list:"heroselect_list__2sGnM","stats-buttons":"heroselect_stats-buttons__1K-Wh",title:"heroselect_title__Ht44m","hero-option":"heroselect_hero-option__1EONx"}},6560:function(e){e.exports={container:"numberpicker_container__2xJWI",wrapper:"numberpicker_wrapper__19oMe"}},5901:function(e){e.exports={raritypicker:"raritypicker_raritypicker__JEpxm"}}}]);