(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{6314:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uniteditor",function(){return t(4435)}])},6688:function(e,l,t){"use strict";var s=t(5893),n=t(7294),i=t(7321),a=t(8884),r=t(5273),c=t.n(r);l.Z=function(e){let{blessing:l}=e,{src:t,name:r}=(0,n.useMemo)(()=>(0,i.QJ)(l),[l]);return(0,s.jsxs)("div",{className:c().blessing,children:[t&&(0,s.jsx)(a.Z,{src:t,loading:"lazy",width:"50px",height:"50px"}),(0,s.jsx)("div",{className:c()["blessing-name"],children:r})]})}},7963:function(e,l,t){"use strict";var s=t(5893),n=t(7294),i=t(7321),a=t(6688),r=t(3497),c=t.n(r);l.Z=e=>{let{blessing:l,selectBlessing:t}=e,r=(0,n.useCallback)(e=>{e.stopPropagation(),t(e.currentTarget.value)},[t]);return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("button",{className:c()["neutral-button"],"data-active":!l,value:"",onClick:r,children:"-"}),i.YM.map(e=>(0,s.jsx)("button",{className:c()["blessing-button"],"data-active":l===e.value,value:e.value,onClick:r,children:(0,s.jsx)(a.Z,{blessing:e.value})},e.value))]})}},7902:function(e,l,t){"use strict";var s=t(5893),n=t(7294),i=t(4051),a=t(7396),r=t.n(a);l.Z=e=>{let{iv:l,selectIV:t}=e,a=(0,n.useCallback)(e=>{e.stopPropagation(),t(e.currentTarget.value)},[t]);return(0,s.jsxs)("div",{className:r().container,children:[(0,s.jsx)("button",{className:r()["neutral-button"],"data-active":!l,value:"",onClick:a,children:"-"}),i.YM.map(e=>(0,s.jsx)("button",{className:r()["iv-button"],"data-active":l===e.value,value:e.value,onClick:a,children:e.name},e.value))]})}},8692:function(e,l,t){"use strict";t.d(l,{BH:function(){return r},BQ:function(){return p},DK:function(){return m},Dx:function(){return c},Ei:function(){return x},M9:function(){return h},P9:function(){return u},VY:function(){return d},W2:function(){return a},dH:function(){return o},qn:function(){return k}});var s=t(5893),n=t(6902),i=t.n(n);function a(e){let{hidden:l,style:t,children:n}=e;return(0,s.jsx)("div",{hidden:l,className:i().container,style:t,children:n})}function r(e){let{children:l}=e;return(0,s.jsx)("div",{className:i()["title-and-content"],children:l})}function c(e){let{children:l,style:t}=e;return(0,s.jsx)("div",{className:i().title,style:t,children:l})}function o(e){let{children:l}=e;return(0,s.jsx)("div",{className:i()["title-textgroup"],children:l})}function d(e){let{children:l}=e;return(0,s.jsx)("div",{className:i().content,children:l})}function u(e){let{children:l}=e;return(0,s.jsx)("div",{className:i()["section-group"],children:l})}function h(e){let{children:l,disabled:t,onClick:n}=e;return(0,s.jsx)("button",{className:"".concat(i().button," ").concat(i().section),disabled:t,onClick:n,children:l})}function p(e){let{children:l,style:t}=e;return(0,s.jsx)("div",{className:i()["button-content"],style:t,children:l})}function k(e){let{children:l}=e;return(0,s.jsx)("div",{className:i().optionsContainer,children:l})}function x(e){let{children:l}=e;return(0,s.jsx)("div",{className:i().options,children:l})}function m(e){let{children:l}=e;return(0,s.jsx)("div",{className:i().subTitle,children:l})}},8735:function(e,l,t){"use strict";var s=t(5893);t(7294),l.Z=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...e,children:[(0,s.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),(0,s.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})},5863:function(e,l,t){"use strict";t.d(l,{JO:function(){return d},XR:function(){return u},Z4:function(){return x},bP:function(){return c},eM:function(){return k},i5:function(){return p},lG:function(){return m},lJ:function(){return h},n0:function(){return o},pp:function(){return r}});var s=t(5893),n=t(8884),i=t(9445),a=t.n(i);function r(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().skillTitle,children:l})}function c(e){let{children:l,style:t}=e;return(0,s.jsx)("div",{className:a().skillName,style:t,children:l})}function o(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().skillSp,children:l})}function d(e){let{src:l}=e;return(0,s.jsx)(n.Z,{src:l,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"},loading:"lazy"})}function u(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().might,children:l})}function h(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().extractStats,children:l})}function p(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().extractStat,children:l})}function k(e){let{cd:l,children:t}=e;return l?(0,s.jsx)("div",{style:{color:l<0?"lightskyblue":"palevioletred"},children:t}):null}function x(e){let{children:l}=e;return(0,s.jsx)("div",{style:{color:"salmon"},children:l})}let m=e=>e>0?"+".concat(e):"".concat(e)},6397:function(e,l,t){"use strict";var s=t(5893),n=t(7294),i=t(8485),a=t.n(i);function r(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().weaponTitle,children:l})}function c(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().weaponName,children:l})}function o(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().weaponSp,children:l})}function d(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().might,children:l})}function u(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().extractStats,children:l})}function h(e){let{children:l}=e;return(0,s.jsx)("div",{className:a().extractStat,children:l})}function p(e){let{cd:l,children:t}=e;return l?(0,s.jsx)("div",{style:{color:l<0?"lightskyblue":"palevioletred"},children:t}):null}function k(e){let{children:l}=e;return(0,s.jsx)("div",{style:{color:"salmon"},children:l})}let x=e=>e>0?"+".concat(e):"".concat(e);l.Z=(0,n.memo)(function(e){let{weapon:l}=e;return l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r,{children:[(0,s.jsx)(c,{children:l.name}),(0,s.jsxs)(o,{children:[l.sp,"SP"]})]}),(0,s.jsxs)(d,{children:["威力 ",l.mt]}),l.cd&&(0,s.jsxs)(p,{cd:l.cd,children:["奧義 cd",x(l.cd)]}),(0,s.jsxs)(u,{children:[l.hp&&(0,s.jsxs)(h,{children:["HP ",x(l.hp)]}),l.atk&&(0,s.jsxs)(h,{children:["攻擊 ",x(l.atk)]}),l.spd&&(0,s.jsxs)(h,{children:["速度 ",x(l.spd)]}),l.def&&(0,s.jsxs)(h,{children:["防守 ",x(l.def)]}),l.res&&(0,s.jsxs)(h,{children:["魔防 ",x(l.res)]})]}),l.exclusive&&(0,s.jsx)(k,{children:"限定本人裝備"})]}):null})},9952:function(e,l,t){"use strict";var s=t(5893),n=t(7294),i=t(7951),a=t.n(i);let r=[{name:"5☆",value:5},{name:"4★",value:4}];l.Z=function(e){let{rarity:l=5,minRarity:t=5,onSelect:i}=e,c=(0,n.useCallback)(e=>{i&&i(Number(e.currentTarget.value))},[i]),o=(0,n.useMemo)(()=>t<5?r:r.slice(0,1),[t]);return(0,s.jsx)("div",{className:a().raritypicker,children:o.map(e=>(0,s.jsx)("button",{onClick:c,"data-active":e.value===l,value:e.value,children:e.name},e.value))})}},442:function(e,l,t){"use strict";t.d(l,{L6:function(){return o},S3:function(){return d},Sv:function(){return r},UD:function(){return p},Xp:function(){return h},ce:function(){return u},yI:function(){return c}});var s=t(9327),n=t(9531),i=t(1546),a=t(940);function r(e){let{fehDB:l,heroId:t}=e,s={},{rules2DB:n,heroDB:a,weaponDB:r}=l;return(0,i.CB)({rules2DB:n,heroDB:a,weaponDB:r,heroId:t}).forEach(e=>{e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp},e.refine&&!e.exclusive&&(s[350]={id:"350",label:"350SP",sp:350}))}),s}function c(e){let{heroId:l,fehDB:t}=e,n={},{rules2DB:i,heroDB:a,weaponDB:r,assistDB:c,defaultSkillDB:o}=t;return(0,s.Gt)({rules2DB:i,heroDB:a,weaponDB:r,assistDB:c,defaultSkillDB:o,heroId:l,weaponId:"",skillXId:""}).forEach(e=>{e.last&&(n[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp})}),n}function o(e){let{fehDB:l,heroId:t}=e,s={},{rules2DB:i,heroDB:a,weaponDB:r,specialDB:c,defaultSkillDB:o}=l;return(0,n.TZ)({rules2DB:i,heroDB:a,weaponDB:r,defaultSkillDB:o,specialDB:c,heroId:t,weaponId:"",skillXId:""}).forEach(e=>{e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp})}),s}function d(e){let{fehDB:l,skillType:t,heroId:s}=e,n={},{rules2DB:i,heroDB:r,weaponDB:c,defaultSkillDB:o}=l,d=l["".concat(t,"DB")];return(0,a.AY)({rules2DB:i,heroDB:r,weaponDB:c,defaultSkillDB:o,skillDB:d,heroId:s,weaponId:"",skillXId:""}).forEach(e=>{e.last&&(n[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp},e.bst&&(n["".concat(e.sp,"-duel")]={id:"".concat(e.sp,"-duel"),label:"".concat(e.name," (").concat(e.sp,"SP)"),sp:e.sp,bst:e.bst,bbst:e.bbst}))}),n}function u(e){let{fehDB:l,heroId:t}=e,s={},{rules2DB:n,heroDB:i,weaponDB:r,defaultSkillDB:c,sealDB:o}=l,d=(0,a.AY)({rules2DB:n,heroDB:i,weaponDB:r,defaultSkillDB:c,skillDB:o.skillB,heroId:t,weaponId:"",skillXId:""});return[...d,...(0,a.AY)({rules2DB:n,heroDB:i,weaponDB:r,defaultSkillDB:c,skillDB:o.skillB,heroId:t,weaponId:"",skillXId:""}),...(0,a.AY)({rules2DB:n,heroDB:i,weaponDB:r,defaultSkillDB:c,skillDB:o.skillC,heroId:t,weaponId:"",skillXId:""}),...(0,a.AY)({rules2DB:n,heroDB:i,weaponDB:r,defaultSkillDB:c,skillDB:o.seal,heroId:t,weaponId:"",skillXId:""})].forEach(e=>{e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp})}),s}function h(e){if(!e)return[];let l=Object.values(e).filter(e=>!!e);return l.push({id:"",label:"-",sp:0}),l.sort((e,l)=>l.bst>0||e.bst>0?(l.bst||0)-(e.bst||0):l.bbst>0||e.bbst>0?(l.bbst||0)-(e.bbst||0):l.sp-e.sp)}function p(e){let{heroId:l,fehDB:t}=e,s=h(r({heroId:l,fehDB:t})),n=h(c({heroId:l,fehDB:t})),i=h(o({heroId:l,fehDB:t})),a=h(d({heroId:l,skillType:"skillA",fehDB:t})),p=h(d({heroId:l,skillType:"skillB",fehDB:t})),k=h(d({heroId:l,skillType:"skillC",fehDB:t})),x=h(u({fehDB:t,heroId:l}));return{weapon:s[0],assist:n[0],special:i[0],skillA:a[0],skillB:p[0],skillC:k[0],seal:x[0]}}},4412:function(e,l){"use strict";let t={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};l.Z=function(e){let{rarity:l=5,merge:s,bst:n,spt:i,blesser:a=0}=e,r=t[l];return 2*(150+r.base+r.float+2*s+Math.floor(n/5)+Math.floor(i/100)+4*a)}},4435:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return l8}});var s=t(5893),n=t(9008),i=t.n(n),a=t(7294),r=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",...e,children:[(0,s.jsx)("path",{d:"M38 18h-8v-12h-12v12h-8l14 14 14-14zm-28 18v4h28v-4h-28z"}),(0,s.jsx)("path",{d:"M0 0h48v48h-48z",fill:"none"})]}),c=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...e,children:[(0,s.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,s.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]}),o=t(8053),d=t(9327),u=t(1200),h=t(3240);function p(e){let{sealDB:l,sealId:t}=e;return l&&t?l.skillA[t]?l.skillA[t]:l.skillB[t]?l.skillB[t]:l.skillC[t]?l.skillC[t]:l.seal[t]?l.seal[t]:null:null}var k=t(940),x=t(9531),m=t(1546);let f={atk:"atk",spd:"spd",def:"def",res:"res"};function j(e){let{heroDB:l,weaponDB:t,assistDB:s,specialDB:n,skillADB:i,skillBDB:a,skillCDB:r,skillXDB:c,sealDB:o,heroId:u,skillIds:h}=e;return{weapon:(0,m.i7)({heroDB:l,weaponDB:t,heroId:u,weaponId:h.weaponId}),assist:(0,d.NV)({assistDB:s,assistId:h.assistId}),special:(0,x.cf)({specialDB:n,specialId:h.specialId}),skillA:(0,k.PU)({skillDB:i,skillId:h.skillAId}),skillB:(0,k.PU)({skillDB:a,skillId:h.skillBId}),skillC:(0,k.PU)({skillDB:r,skillId:h.skillCId}),skillX:(0,k.PU)({skillDB:c,skillId:h.skillXId}),seal:p({sealDB:o,sealId:h.sealId})}}let g=["assist","special","skillA","skillB","skillC","seal","skillX"];var b=t(1887),I=t(4412),v=t(8237),w=t(442);class C{load(e){e!==this.src&&(this.loadedData=!1,this.src=e,this.imageData.src=e)}get loaded(){return this.loadedData}get image(){return this.imageData}constructor(e){this.imageData=new Image,this.src="",this.loadedData=!1,this.callback=e,this.imageData.onload=()=>{this.loadedData=!0,this.callback&&this.callback(!0)},this.imageData.onerror=()=>{this.loadedData=!1,this.callback&&this.callback(!1)}}}var _=t(7893);let B={x:16,y:554},y=_.s6,S={x:174,y:555},D=["infantry","armored","cavalry","flying"],M={yellow:1,white:43,blue:85,red:127,green:169},A=[0,1,2,3,4,5,6,7,8,9,"x","+","-"].reduce((e,l,t)=>({...e,[l]:34*t+1}),{});function N(e,l,t,s,n,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;A[s]&&e.drawImage(l,A[s],t,32,40,n,i,16*a,20*a)}let X={x:240,y:557},P=[14,28,42],T=["infantry","armored","cavalry","flying"],Z=(e,l,t)=>{e.drawImage(l,275,37*t+1+594,35,35)},E={x:82,y:557},H=[14,28,42],R={x:112,y:557},J=[14,28,42],K={x:130,y:594},W=[14,28,42,56],F=[1e3,100,10],O=function(e,l,t,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M.yellow,i=8+K.y+37*s;F.forEach((s,a)=>{t>=s&&N(e,l,n,Math.floor(t/s%10),K.x+W[a],i)}),N(e,l,n,t%10,K.x+56,i)},Q=function(e,l,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M.white;N(e,l,s,t,465,676)},V=(e,l,t)=>{if(!t)return;let s=t>=10?M.green:M.white;"+".concat(t).split("").reverse().forEach((t,n)=>{N(e,l,s,t,300-10*n,688,.75)})};var Y=t(4051);let q=["#ffa0af","white","#aaf0fa"],G=Object.entries({hp:"HP",atk:"攻擊",spd:"速度",def:"防守",res:"魔防",bst:"BST",arena:"鬥技分"}),U={x:634,y:1224},z={weapon:0,assist:1,special:2,skillA:3,skillB:4,skillC:5,seal:6,skillX:7},L={x:460,y:530},$={0:{x:432,y:425,w:108,h:115},1:{x:324,y:425,w:108,h:115},2:{x:216,y:425,w:108,h:115}},ee={0:{x:448.6,y:445,w:86.4,h:92},1:{x:372.2,y:445,w:86.4,h:92},2:{x:535-86.4*3+20,y:445,w:86.4,h:92}};function el(e,l){return l>=3?ee[e]||ee[0]:$[e]||$[0]}let et=(0,u.QV)(),es=[["background","/assets/background.jpg"],["foreground","/assets/foreground.webp"],["foreground2","/assets/foreground2.webp"],["xPlaceholder","/assets/x-placeholder.webp"],["portrait",""],["rarityAtlas","/assets/rarity.webp"],["weaponTypeAtlas","/assets/weapon-type.webp"],["moveTypeAtlas","/assets/move-type.webp"],["dragonflowerAtlas","/assets/dragonflower.webp"],["supportAtlas","/assets/support.webp"],["supportPlusAtlas","/assets/support+.webp"],["duoAtlas","/assets/unit-duo.webp"],["harAtlas","/assets/Icon_Resonance.webp"],["ascendRearmedAtlas","/assets/Diabolos.webp"],["attunedAtlas","/assets/attuned.webp"],["emblemAtlas","/assets/Icon_Emblem.webp"],["aidedAtlas","/assets/Icon_Aided.webp"],["entwinedAtlas","/assets/Icon_ConnectPlayer.webp"],["blessingAtlas",""],["numberAtlas","/assets/number.webp"],["weaponIcon","/skills/weapon.webp"],["assistIcon","/skills/assist.webp"],["specialIcon","/skills/special.webp"],["textA","/assets/skill-a.webp"],["textB","/assets/skill-b.webp"],["textC","/assets/skill-c.webp"],["textX","/assets/skill-x.webp"],["textS","/assets/skill-s.webp"],["arenaIcon","/assets/Arena_Crown.webp"],["skillAIcon",""],["skillBIcon",""],["skillCIcon",""],["skillXIcon",""],["sealIcon",""],["resplendentIcon","/assets/god-wear-l.webp"],["bloomIcon","/assets/Icon_FlowerBud.webp"],["aidedIcon","/assets/Icon_Tamer.webp"],["connectIcon","/assets/Icon_Connect_2.webp"],["chosenIcon","/assets/Icon_Hero_Type_Chosen.webp"]],en=[{skillName:"weapon",empty:"/skills/weapon"},{skillName:"skillA",empty:"/skills/empty"},{skillName:"skillB",empty:"/skills/empty"},{skillName:"skillC",empty:"/skills/empty"},{skillName:"skillX",empty:"/skills/empty"},{skillName:"seal",empty:"/skills/seal-empty"}];var ei=function(e){let{heroId:l,rarity:t,iv:s,merge:n,dragonflower:i,blessing:r,support:c,arena:d,resplendent:h,mythicBonus1:p,mythicBonus2:k,mythicBonus3:x,mythicBonus4:m,bloom:_,emblemMerge:A,aided:K,chosenMerge:W,weaponId:F,refine:$,assistId:ee,specialId:ei,skillAId:ea,skillBId:er,skillCId:ec,skillXId:eo,sealId:ed,lv1:eu}=e,eh=(0,v.K)(),ep=(0,a.useRef)(null),ek=(0,a.useRef)(null),ex=(0,a.useRef)(),em=(0,a.useRef)(),ef=(0,a.useRef)(),ej=(0,a.useRef)(),eg=(0,a.useRef)(),eb=(0,a.useRef)(),eI=(0,a.useRef)(),ev=(0,a.useRef)(),ew=(0,a.useRef)(),eC=(0,a.useRef)(),e_=(0,a.useRef)(),eB=(0,a.useRef)(),ey=(0,a.useRef)(),eS=(0,a.useRef)(),eD=(0,a.useRef)(),eM=(0,a.useRef)(),eA=(0,a.useMemo)(()=>(0,u.cK)(eh.heroDB,l),[eh.heroDB,l]),eN=(0,a.useMemo)(()=>({weaponId:F,assistId:ee,specialId:ei,skillAId:ea,skillBId:er,skillCId:ec,skillXId:eo,sealId:ed}),[ee,ed,ea,er,ec,eo,ei,F]),eX=eA.stats,eP=(0,a.useMemo)(()=>(function(e){var l,t,s,n,i,a,r,c,o,d;let{heroDB:h,weaponDB:p,assistDB:k,specialDB:x,skillADB:m,skillBDB:f,skillCDB:g,skillXDB:b,sealDB:I,heroId:v,skillIds:w,refine:C,rarity:_}=e,B=(0,u.cK)(h,v),y=j({heroDB:h,weaponDB:p,assistDB:k,specialDB:x,skillADB:m,skillBDB:f,skillCDB:g,skillXDB:b,sealDB:I,heroId:v,skillIds:w}),S={weapon:"-",assist:"-",special:"-",skillA:"-",skillB:"-",skillC:"-",skillX:"-",seal:"-"},D=0,M=(null===(l=y.special)||void 0===l?void 0:l.cd)||0;D+=((null===(t=y.weapon)||void 0===t?void 0:t.cd)||0)+((null===(s=y.assist)||void 0===s?void 0:s.cd)||0)+((null===(n=y.skillA)||void 0===n?void 0:n.cd)||0)+((null===(i=y.skillB)||void 0===i?void 0:i.cd)||0)+((null===(a=y.skillC)||void 0===a?void 0:a.cd)||0)+((null===(r=y.skillX)||void 0===r?void 0:r.cd)||0)+((null===(c=y.seal)||void 0===c?void 0:c.cd)||0);let A={hp:0,atk:0,spd:0,def:0,res:0},N=0,X=0;Object.entries(y).forEach(e=>{let[l,t]=e;if(S[l]=(null==t?void 0:t.name)||"-",A.hp+=(null==t?void 0:t.hp)||0,A.atk+=((null==t?void 0:t.mt)||0)+((null==t?void 0:t.atk)||0),A.spd+=(null==t?void 0:t.spd)||0,A.def+=(null==t?void 0:t.def)||0,A.res+=(null==t?void 0:t.res)||0,N+=(null==t?void 0:t.sp)||0,5===_){let e=null==t?void 0:t.bst;B.blesser&&(null==t?void 0:t.bbst)&&(e=null==t?void 0:t.bbst),X=Math.max(e||0,X)}});let P=null===(d=y.weapon)||void 0===d?void 0:null===(o=d.refine)||void 0===o?void 0:o[C];if(P){if(P.newStats){A.hp-=y.weapon.hp||0,A.atk-=(y.weapon.mt||0)+(y.weapon.atk||0),A.spd-=y.weapon.spd||0,A.def-=y.weapon.def||0,A.res-=y.weapon.res||0,D-=y.weapon.cd||0;let e=P.newStats;A.hp+=e.hp||0,A.atk+=(e.mt||0)+(e.atk||0),A.spd+=e.spd||0,A.def+=e.def||0,A.res+=e.res||0,D+=e.cd||0,A.hp+=P.hp||0,A.atk+=(P.mt||0)+(P.atk||0),A.spd+=P.spd||0,A.def+=P.def||0,A.res+=P.res||0,D+=P.cd||0}else A.hp+=P.hp||0,A.atk+=(P.mt||0)+(P.atk||0),A.spd+=P.spd||0,A.def+=P.def||0,A.res+=P.res||0,D+=P.cd||0;y.weapon.exclusive||(N+=50),5===_&&(X=Math.max(X,P.bst||0))}return"-"===S.skillX&&(S.skillX=""),{names:S,stats:A,accelerate:D,specialCD:M,spt:N,bst:X}})({heroDB:eh.heroDB,weaponDB:eh.weaponDB,assistDB:eh.assistDB,specialDB:eh.specialDB,skillADB:eh.skillADB,skillBDB:eh.skillBDB,skillCDB:eh.skillCDB,skillXDB:eh.skillXDB,sealDB:eh.sealDB,skillIds:eN,heroId:l,refine:$,rarity:t}),[eh,eN,l,$,t]),eT=(0,a.useMemo)(()=>{var e,l;return(0,b.f)({rarity:t,stats:eX,iv:s,merge:n,support:c,skillStats:eP.stats,lv1:eu,arena:d,dragonflower:i,resplendent:h,mythicBonus1:p,mythicBonus2:k,mythicBonus3:x,mythicBonus4:m,bloom:_,emblemMerge:A,aided:K||(null===(e=ex.current)||void 0===e?void 0:e.pool)==="aided",entwined:(null===(l=ex.current)||void 0===l?void 0:l.pool)==="entwined",chosenMerge:W})},[t,eX,s,n,c,eP.stats,eu,d,i,h,p,k,x,m,_,A,K,W]),eZ=(0,a.useMemo)(()=>{if("chosen"!==(0,u.cK)(eh.heroDB,l).pool)return 0;let e=(0,w.UD)({heroId:l,fehDB:eh});return e.weapon.sp+e.assist.sp+e.special.sp+e.skillA.sp+e.skillB.sp+e.skillC.sp+e.seal.sp},[eh,l]),eE=(0,a.useMemo)(()=>(0,I.Z)({rarity:t,merge:n,bst:Math.max(eT.bst,eP.bst,eA.bst||0,eT.chosenBst||0),spt:Math.max(eP.spt,eZ)}),[t,n,eT.bst,eT.chosenBst,eP.bst,eP.spt,eA.bst,eZ]),eH=(0,a.useRef)({}),eR=(0,a.useCallback)(()=>{if(!ep.current)return;let{background:e,foreground:l,foreground2:t,xPlaceholder:s,portrait:n,rarityAtlas:i,weaponTypeAtlas:a,moveTypeAtlas:r,dragonflowerAtlas:c,supportAtlas:o,supportPlusAtlas:d,duoAtlas:u,harAtlas:h,ascendRearmedAtlas:p,attunedAtlas:k,emblemAtlas:x,aidedAtlas:m,entwinedAtlas:f,blessingAtlas:j,numberAtlas:g,weaponIcon:b,assistIcon:I,specialIcon:v,textA:w,textB:C,textC:_,textS:A,textX:K,arenaIcon:W,skillAIcon:F,skillBIcon:$,skillCIcon:ee,skillXIcon:es,sealIcon:en,resplendentIcon:ei,bloomIcon:ea,aidedIcon:er,connectIcon:ec,chosenIcon:eo}=eH.current,{title:ed,name:eu,weaponType:eh,moveType:eA,pool:eN}=ex.current,eX=!!ex.current.blessing||!!ew.current,eP=ep.current.getContext("2d");eP.clearRect(0,0,540,960),e.loaded&&function(e){let{context:l,background:t,support:s}=e;s?l.drawImage(t,540,0,540,960,0,0,540,960):l.drawImage(t,0,0,540,960,0,0,540,960)}({context:eP,background:e.image,support:eC.current}),n.loaded&&function(e){let{context:l,portrait:t}=e;l.drawImage(t,0,0,540,960,0,0,540,960)}({context:eP,portrait:n.image}),l.loaded&&function(e){let{context:l,foreground:t}=e;l.drawImage(t,0,0,540,960,0,0,540,960)}({context:eP,foreground:l.image}),t.loaded&&function(e){let{context:l,foreground2:t,dragonflower:s}=e;s?l.drawImage(t,0,50,540,50,0,542,540,50):l.drawImage(t,0,0,540,50,0,542,540,50)}({context:eP,foreground2:t.image,dragonflower:eI.current}),em.current.names.skillX&&function(e){let{context:l,xPlaceholder:t,skillXIcon:s,textX:n}=e;l.drawImage(t,255,851,248,42),s.loaded&&l.drawImage(s.image,275,854,35,35),l.drawImage(n,295,872,18,18)}({context:eP,xPlaceholder:s.image,skillXIcon:es,textX:K.image}),i.loaded&&function(e){let{context:l,rarityAtlas:t,rarity:s}=e;switch(s){case 5:l.drawImage(t,0,0,153,40,48,380,153,40);break;case 4:l.drawImage(t,0,41,153,40,42,380,153,40)}}({context:eP,rarityAtlas:i.image,rarity:ej.current}),a.loaded&&function(e){let{context:l,weaponTypeAtlas:t,weaponType:s}=e,n=y.indexOf(s);n>-1&&l.drawImage(t,56*n,0,56,55,B.x,B.y,28,28)}({context:eP,weaponTypeAtlas:a.image,weaponType:eh}),r.loaded&&function(e){let{context:l,moveTypeAtlas:t,moveType:s}=e,n=D.indexOf(s);n>-1&&l.drawImage(t,56*n,0,52,52,S.x,S.y,26,26)}({context:eP,moveTypeAtlas:r.image,moveType:eA}),c.loaded&&g.loaded&&function(e){let{context:l,dragonflowerAtlas:t,numberAtlas:s,moveType:n,dragonflower:i}=e;if(!i)return;let a=T.indexOf(n);a>-1&&l.drawImage(t,0,58*a,64,58,216,546,48,44);let r=0,c=M.white;N(l,s,c,"+",X.x+14,X.y),r+=1,i>9&&(N(l,s,c,Math.floor(i/10),X.x+P[r],X.y),r+=1),N(l,s,c,i%10,X.x+P[r],X.y)}({context:eP,dragonflowerAtlas:c.image,numberAtlas:g.image,moveType:eA,dragonflower:eI.current}),function(e){let{context:l,supportAtlas:t,supportPlusAtlas:s,support:n,duoAtlas:i,harAtlas:a,ascendRearmedAtlas:r,attunedAtlas:c,emblemAtlas:o,aidedAtlas:d,entwinedAtlas:u,pool:h,blessingAtlas:p,hasBlessing:k}=e,x=[];n&&x.push("support"),et.includes(h)&&x.push("pool"),k&&x.push("blessing"),x.reverse();let m=x.findIndex(e=>"support"===e),f=x.findIndex(e=>"pool"===e),j=x.findIndex(e=>"blessing"===e),g=x.length;m>-1&&function(e){let{context:l,supportAtlas:t,supportPlusAtlas:s,support:n,position:i,count:a}=e,r=el(i,a),c=null;switch(n){case 2:c=s;break;case 1:c=t}c&&n&&l.drawImage(c,r.x,r.y,r.w,r.h)}({context:l,supportAtlas:t,supportPlusAtlas:s,support:n,position:m,count:g}),f>-1&&function(e){let{context:l,duoAtlas:t,harAtlas:s,ascendRearmedAtlas:n,attunedAtlas:i,emblemAtlas:a,aidedAtlas:r,entwinedAtlas:c,pool:o,position:d,count:u}=e,h=null,p=null;switch(o){case"duo":h=t;break;case"harmonized":h=s;break;case"ascended":h=n,p={x:5,y:0,w:235,h:222};break;case"rearmed":h=n,p={x:245,y:0,w:235,h:222};break;case"attuned":h=i;break;case"emblem":h=a;break;case"aided":h=r;break;case"entwined":h=c}if(!h)return;let k=el(d,u);if(p){l.save(),l.rotate(-90*Math.PI/180),l.drawImage(h,p.x,p.y,p.w,p.h,0-k.h-k.y,0+k.x,k.h,k.w),l.restore();return}l.drawImage(h,k.x,k.y,k.w,k.h)}({context:l,duoAtlas:i,harAtlas:a,ascendRearmedAtlas:r,attunedAtlas:c,emblemAtlas:o,aidedAtlas:d,entwinedAtlas:u,pool:h,position:f,count:g}),j>-1&&function(e){let{context:l,blessingAtlas:t,position:s,count:n}=e;if(!t)return;let i=el(s,n);l.drawImage(t,i.x,i.y,i.w,i.h)}({context:l,blessingAtlas:p,position:j,count:g})}({context:eP,supportAtlas:o.image,supportPlusAtlas:d.image,support:eC.current,duoAtlas:u.image,harAtlas:h.image,ascendRearmedAtlas:p.image,attunedAtlas:k.image,emblemAtlas:x.image,aidedAtlas:m.image,entwinedAtlas:f.image,pool:eN,hasBlessing:eX,blessingAtlas:j.image}),function(e){let{context:l,weaponIcon:t,assistIcon:s,specialIcon:n,textA:i,textB:a,textC:r,textS:c,skillAIcon:o,skillBIcon:d,skillCIcon:u,sealIcon:h}=e;t.loaded&&Z(l,t.image,0),s.loaded&&Z(l,s.image,1),n.loaded&&Z(l,n.image,2),o.loaded&&Z(l,o.image,3),l.drawImage(i.image,295,724,18,18),d.loaded&&Z(l,d.image,4),l.drawImage(a.image,295,761,18,18),u.loaded&&Z(l,u.image,5),l.drawImage(r.image,295,798,18,18),h.loaded&&Z(l,h.image,6),l.drawImage(c.image,295,835,18,18)}({context:eP,weaponIcon:b,assistIcon:I,specialIcon:v,textA:w,textB:C,textC:_,textS:A,skillAIcon:F,skillBIcon:$,skillCIcon:ee,sealIcon:en}),g.loaded&&(function(e){let{context:l,numberAtlas:t,lv1:s}=e,n=s?1:40,i=0;n>9&&N(l,t,M.white,4,E.x+H[i],E.y),i+=1,N(l,t,M.white,n%10,E.x+H[i],E.y)}({context:eP,numberAtlas:g.image,lv1:eD.current}),function(e){let{context:l,numberAtlas:t,merge:s}=e;if(s<=0)return;let n=0,i=s>9?M.green:M.white;N(l,t,i,"+",R.x+14,R.y),n+=1,s>9&&(N(l,t,i,1,R.x+J[n],R.y),n+=1),N(l,t,i,s%10,R.x+J[n],R.y)}({context:eP,numberAtlas:g.image,merge:eb.current}),function(e){let{context:l,numberAtlas:t,stats:s,score:n,sbst:i,bst:a,chosenBst:r}=e;Object.values(s).forEach((e,s)=>{s>4||O(l,t,e,s,M.yellow)});let c=M.green;i>a&&(c=M.blue),r>i&&(c=M.white),O(l,t,a,5,M.green),O(l,t,n,6,c)}({context:eP,numberAtlas:g.image,score:eM.current,sbst:Math.max(em.current.bst||0,ex.current.bst||0),...ef.current}),function(e){let{context:l,numberAtlas:t,accelerate:s,specialCD:n,emblemMerge:i}=e;if(i&&V(l,t,i),!n)return;let a=M.white;s<0&&(a=M.blue),s>0&&(a=M.red),Q(l,t,Math.max(s+n,1),a)}({context:eP,numberAtlas:g.image,accelerate:em.current.accelerate,specialCD:em.current.specialCD,emblemMerge:ef.current.emblemMerge})),ek.current.getContext("2d").clearRect(0,0,1080,1920),function(e){let{canvas:l,iv:t,merge:s,bloom:n}=e,i=l.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#101010",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8;let{boon:a,bane:r}=(0,Y.$r)(t),c={hp:1,atk:1,spd:1,def:1,res:1,bst:1,arena:1};c[a]+=1,c[r]-=1,c[r]=s>0?1:c[r],n&&(c[n]=Math.min(2,c[n]+1)),G.forEach((e,l)=>{let[t,s]=e,n=1224+74*l;i.fillStyle=q[c[t]],i.strokeText(s,206,n),i.fillText(s,206,n)})}({canvas:ek.current,iv:eg.current,merge:eb.current,bloom:ev.current}),function(e){let{canvas:l,refine:t,weapon:s,...n}=e,i=l.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.textAlign="left",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8,i.strokeStyle="#101010",i.fillStyle=t&&"-"!==t?"lime":"white";let a=U.x+("-"===s?4:0),r=U.y;i.strokeText(s,a,r),i.fillText(s,a,r),i.fillStyle="white",Object.keys(n).forEach(e=>{let l=n[e],t=U.y+74*z[e],s="-"===l?4:0;l&&(i.strokeText(l,U.x+s,t),i.fillText(l,U.x+s,t))})}({canvas:ek.current,refine:eS.current,...em.current.names}),function(e){let{canvas:l,title:t,name:s}=e,n=l.getContext("2d");n.font="500 50px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",n.fillStyle="white",n.strokeStyle="#220d00",n.textAlign="center",n.textBaseline="middle",n.lineJoin="round",n.lineWidth=8,n.strokeText(t,296,876),n.fillText(t,296,876),n.font="500 52px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",n.strokeText(s,336,992),n.fillText(s,336,992)}({canvas:ek.current,title:ed,name:eu}),e_.current&&W&&function(e){let{context:l,arenaIcon:t}=e;l.drawImage(t,L.x,L.y,50,49)}({context:eP,arenaIcon:W.image}),eB.current&&ei&&function(e){let{context:l,resplendentIcon:t}=e;l.drawImage(t,195,370,64,63)}({context:eP,resplendentIcon:ei.image}),ev.current&&ea&&function(e){let{context:l,bloomIcon:t}=e;l.drawImage(t,5,375,45,45)}({context:eP,bloomIcon:ea.image}),ey.current&&er&&function(e){let{context:l,aidedIcon:t}=e;l.drawImage(t,5,455,45,45)}({context:eP,aidedIcon:er.image}),eC.current>1&&"entwined"!==eN&&ec&&function(e){let{context:l,connectIcon:t}=e;l.drawImage(t,5,505,45,45)}({context:eP,connectIcon:ec.image}),ef.current.chosenMerge>-1&&eo&&function(e){let{context:l,chosenIcon:t}=e;l.drawImage(t,135,824,20,22.25)}({context:eP,chosenIcon:eo.image}),eP.drawImage(ek.current,0,0,540,960)},[]);(0,a.useEffect)(()=>{ek.current=document.createElement("canvas"),ek.current.width=1080,ek.current.height=1920},[]),(0,a.useEffect)(()=>{es.forEach(e=>{let[l,t]=e;eH.current[l]=new C(eR),eH.current[l].load((0,o.Z)(t))})},[eH,eR]),(0,a.useEffect)(()=>{let e=function(e){let{resplendentDB:l,heroId:t,enable:s}=e;return s&&(null==l?void 0:l.includes(t))?"".concat(t,"(R)"):t}({resplendentDB:eh.resplendentDB,heroId:eA.id,enable:h});eH.current.portrait.load((0,o.Z)("/portraits/".concat(e,".webp")));let l=function(e){let{heroDB:l,weaponDB:t,assistDB:s,specialDB:n,skillADB:i,skillBDB:a,skillCDB:r,skillXDB:c,sealDB:o,heroId:d,skillIds:u,refine:h}=e,p=j({heroDB:l,weaponDB:t,assistDB:s,specialDB:n,skillADB:i,skillBDB:a,skillCDB:r,skillXDB:c,sealDB:o,heroId:d,skillIds:u}),k={};if(g.forEach(e=>{let l=p[e];k[e]=(null==l?void 0:l.icon)&&"/skills/".concat(l.icon)}),h&&"-"!==h){var x,m,b;let e=f[h]||(null===(b=p.weapon)||void 0===b?void 0:null===(m=b.refine)||void 0===m?void 0:null===(x=m[h])||void 0===x?void 0:x.icon);e&&(k.weapon="/skills/weapon/".concat(e))}return k}({heroDB:eh.heroDB,weaponDB:eh.weaponDB,assistDB:eh.assistDB,specialDB:eh.specialDB,skillADB:eh.skillADB,skillBDB:eh.skillBDB,skillCDB:eh.skillCDB,skillXDB:eh.skillXDB,sealDB:eh.sealDB,skillIds:eN,heroId:eA.id,refine:$});en.forEach(e=>{let{skillName:t,empty:s}=e;eH.current["".concat(t,"Icon")].load((0,o.Z)("".concat(l[t]||s,".webp")))});let t="-"!==eA.blessing&&!!eA.blessing||!!r,s=(0,o.Z)("/assets/blessing-".concat(eA.blessing||r,".webp"));eH.current.blessingAtlas.load(t?s:"")},[eA,h,eN,$,r,eT,eh.heroDB,eh.weaponDB,eh.assistDB,eh.specialDB,eh.skillADB,eh.skillBDB,eh.skillCDB,eh.skillXDB,eh.sealDB,eh.resplendentDB]),(0,a.useEffect)(()=>{ex.current=eA,ej.current=t,eg.current=s,eb.current=n,eI.current=i,ew.current=r,eC.current=c,e_.current=d,eB.current=h,eS.current=$,eD.current=eu,eM.current=eE,em.current=eP,ef.current=eT,ev.current=_,ey.current=K,eR()},[eA,t,s,n,i,r,c,d,h,$,eu,eE,eP,eT,_,K,eR]);let eJ=(0,a.useCallback)(()=>{let e=ep.current.toDataURL("image/png"),l=document.createElement("a");l.href=e,l.download="".concat(null==eA?void 0:eA.name,"-").concat(null==eA?void 0:eA.title,".png"),l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)},[null==eA?void 0:eA.name,null==eA?void 0:eA.title]);return{canvasRef:ep,triggerDownload:eJ}},ea=t(9513),er=t.n(ea),ec=(0,a.memo)(function(e){let{openEditor:l,...t}=e,{canvasRef:n,triggerDownload:i}=ei(t);return(0,s.jsxs)("div",{className:er().container,children:[(0,s.jsx)("canvas",{className:er().canvas,width:"540",height:"960",ref:n}),(0,s.jsx)("button",{className:"".concat(er().button," ").concat(er().download),onClick:i,"aria-label":"下載",children:(0,s.jsx)(r,{})}),(0,s.jsx)("button",{className:"".concat(er().button," ").concat(er().menu),onClick:l,"aria-label":"開啟編輯器",children:(0,s.jsx)(c,{})})]})});let eo=[{name:"+攻擊",value:"atk"},{name:"+速度",value:"spd"},{name:"+防守",value:"def"},{name:"+魔防",value:"res"}];function ed(e){let l=eo.find(l=>e===l.value);return(null==l?void 0:l.name)||"-"}let eu=[{name:"+HP",value:"hp"},{name:"+攻擊",value:"atk"},{name:"+速度",value:"spd"},{name:"+防守",value:"def"},{name:"+魔防",value:"res"}];var eh=t(8735),ep=t(9083),ek=t.n(ep);function ex(){return(0,s.jsx)("div",{className:ek().checked})}var em=function(e){let{className:l,checked:t,onChange:n}=e,i=(0,a.useCallback)(e=>{n&&(e.stopPropagation(),n(!t))},[t,n]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{role:"button",className:"".concat(ek().button," ").concat(l),onClick:i,"aria-label":e["aria-label"]||"Checkbox",children:t&&(0,s.jsx)(ex,{})})})},ef=t(7601),ej=t.n(ef),eg=function(e){let{children:l,checked:t,onChange:n}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("label",{className:ej().label,children:[l,(0,s.jsx)(em,{className:ej()["label-checkbox"],checked:t,onChange:n,"aria-label":e["aria-label"]})]})})},eb=t(8884),eI=t(6688),ev=t(6902),ew=t.n(ev),eC=function(e){let{onClick:l}=e;return(0,s.jsx)("button",{className:ew().button,onClick:l,style:{fontSize:"16px",marginLeft:"1em"},children:"使用原生技能"})},e_=t(8692),eB=t(1123),ey=function(e){let{heroId:l,resplendent:t}=e,{heroDB:n,dragonflowersDB:i,assistDB:r,resplendentDB:c}=(0,v.K)(),o=(0,a.useMemo)(()=>(0,u.gO)({heroDB:n,dragonflowersDB:i,assistDB:r,resplendentDB:c,heroId:l,noStat:!0}),[n,i,r,c,l]);return(0,s.jsx)(eB.Z,{...o,faceSrc:t?o.faceSrcR:o.faceSrc})},eS=function(e){let{heroId:l,weaponId:t}=e,{heroDB:n,weaponDB:i}=(0,v.K)();return(0,s.jsx)(s.Fragment,{children:(0,m.fu)({heroDB:n,weaponDB:i,heroId:l,weaponId:t})})},eD=t(5863),eM=function(e){let{heroId:l,weaponId:t,refine:n}=e,{heroDB:i,weaponDB:a}=(0,v.K)(),{icon:r,name:c}=(0,m.Wu)({heroDB:i,weaponDB:a,heroId:l,weaponId:t,refine:n});return(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)(eD.JO,{src:"/skills/weapon/".concat(r,".png")}),c]})},eA=function(e){let{assistId:l}=e,{assistDB:t}=(0,v.K)();return(0,s.jsx)(s.Fragment,{children:(0,d.sq)({assistDB:t,assistId:l})})},eN=function(e){let{specialId:l}=e,{specialDB:t}=(0,v.K)();return(0,s.jsx)(s.Fragment,{children:(0,x.R_)({specialDB:t,specialId:l})})};let eX=["skillA","skillB","skillC","skillX"];var eP=function(e){let{skillType:l,skillId:t}=e,n=(0,v.K)();if(eX.includes(l)){let e=n["".concat(l,"DB")],{icon:i,name:a}=(0,k.cp)({skillDB:e,skillId:t});return(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsx)(eD.JO,{src:"/skills/".concat(i)}),a]})}if("seal"===l){let{icon:e,name:l}=function(e){let{sealDB:l,sealId:t}=e,s=p({sealDB:l,sealId:t});return s?{icon:s.icon,name:s.name}:{icon:"",name:""}}({sealDB:n.sealDB,sealId:t});return(0,s.jsxs)(s.Fragment,{children:[e&&(0,s.jsx)(eD.JO,{src:"/skills/".concat(e)}),l]})}return null},eT=function(e){let{hidden:l,heroId:t,rarity:n,iv:i,merge:r,dragonflower:c,blessing:o,support:d,arena:h,resplendent:p,mythicBonus1:k,mythicBonus2:x,mythicBonus3:f,mythicBonus4:j,bloom:g,emblemMerge:b,aided:I,chosenMerge:w,weaponId:C,refine:_,assistId:B,specialId:y,skillAId:S,skillBId:D,skillCId:M,skillXId:A,sealId:N,lv1:X,maxSkill:P,...T}=e,{hasRarity:Z,hasBlessing:E,hasWeapon:H,hasRefine:R,hasAssist:J,hasSpecial:K,hasSkillA:W,hasSkillB:F,hasSkillC:O,hasSkillX:Q,hasSeal:V,blessing:q,isMythic:G,isAided:U}=function(e){let{heroId:l,weaponId:t,maxSkill:s}=e,{rules2DB:n,heroDB:i,weaponDB:r}=(0,v.K)(),c=(0,a.useMemo)(()=>(0,u.cK)(i,l),[i,l]),o=(0,a.useMemo)(()=>{if("Feh"===l)return!1;let e=(0,m.CB)({rules2DB:n,heroDB:i,weaponDB:r,heroId:l});return s?e.filter(e=>e.last).length>0:e.length>0},[l,n,i,r,s]),d=(0,a.useMemo)(()=>"Feh"!==l&&(0,m.Mf)({heroDB:i,weaponDB:r,heroId:l,weaponId:t}).length>0,[i,r,l,t]),h=(0,a.useMemo)(()=>"Feh"!==l&&"mythic"===c.pool,[l,c]);return"Feh"===l?{hasRarity:!1,hasBlessing:!0,hasWeapon:!1,hasRefine:!1,hasAssist:!1,hasSpecial:!1,hasSkillA:!1,hasSkillB:!1,hasSkillC:!1,hasSeal:!1,isMythic:!1}:{hasRarity:c.rarity.length>0,hasBlessing:!!c.blessing,hasWeapon:o,hasRefine:d,hasAssist:!0,hasSpecial:!0,hasSkillA:!0,hasSkillB:!0,hasSkillC:!0,hasSkillX:!0,hasSeal:!0,blessing:c.blessing,isMythic:h,isAided:"aided"===c.pool}}({heroId:t,weaponId:C,maxSkill:P});return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsx)("button",{className:ew()["close-button"],onClick:T.closeEditor,"aria-label":"關閉",children:(0,s.jsx)(eh.Z,{})}),(0,s.jsxs)(e_.BH,{children:[(0,s.jsx)(e_.Dx,{children:(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:"英雄"}),(0,s.jsx)(eg,{checked:X,onChange:T.toggleLv1,children:"Lv1"})]})}),(0,s.jsxs)(e_.VY,{children:[(0,s.jsx)("button",{className:"".concat(ew().button," ").concat(ew()["hero-header"]),onClick:T.openHeroPicker,"aria-label":"開啟英雄選單",children:(0,s.jsx)(ey,{heroId:t,resplendent:p})}),(0,s.jsxs)(e_.P9,{children:[(0,s.jsxs)(e_.M9,{disabled:!Z,onClick:T.openRarityPicker,children:["稀有度",(0,s.jsx)(e_.BQ,{children:4===n?"4★":"5☆"})]}),(0,s.jsxs)(e_.M9,{disabled:"Feh"===t,onClick:T.openIVPicker,children:["IV",(0,s.jsx)(e_.BQ,{children:(0,Y.Zx)(i)})]}),(0,s.jsxs)(e_.M9,{disabled:E,onClick:T.openBlessingPicker,children:["祝福",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eI.Z,{blessing:q||o})})]}),(0,s.jsxs)(e_.M9,{onClick:T.openMergePicker,children:["突破次數",(0,s.jsx)(e_.BQ,{children:r?"+".concat(r):"-"})]}),(0,s.jsxs)(e_.M9,{onClick:T.openDragonflowerPicker,children:["神龍之花",(0,s.jsx)(e_.BQ,{children:c?"+".concat(c):"-"})]})]})]})]}),(0,s.jsxs)(e_.BH,{children:[(0,s.jsx)(e_.Dx,{children:(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:"技能"}),(0,s.jsx)(eg,{checked:P,onChange:T.toggleMaxSkill,children:"僅高級技能"}),(0,s.jsx)(eC,{onClick:T.setAllSkillDefault})]})}),(0,s.jsxs)(e_.VY,{children:[(0,s.jsxs)(e_.P9,{children:[(0,s.jsxs)(e_.M9,{disabled:!H,onClick:T.openWeaponPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"武器",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eS,{heroId:t,weaponId:C})})]}),(0,s.jsxs)(e_.M9,{disabled:!R,onClick:T.openRefinePicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/refining-stone.png"}),"鍛造",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eM,{heroId:t,weaponId:C,refine:_})})]})]}),(0,s.jsxs)(e_.P9,{children:[(0,s.jsxs)(e_.M9,{disabled:!J,onClick:T.openAssistPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"輔助",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eA,{assistId:B})})]}),(0,s.jsxs)(e_.M9,{disabled:!K,onClick:T.openSpecialPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"奧義",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eN,{specialId:y})})]})]}),(0,s.jsxs)(e_.P9,{children:[(0,s.jsxs)(e_.M9,{disabled:!W,onClick:T.openSkillAPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A技能",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eP,{skillType:"skillA",skillId:S})})]}),(0,s.jsxs)(e_.M9,{disabled:!F,onClick:T.openSkillBPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B技能",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eP,{skillType:"skillB",skillId:D})})]}),(0,s.jsxs)(e_.M9,{disabled:!O,onClick:T.openSkillCPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C技能",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eP,{skillType:"skillC",skillId:M})})]}),(0,s.jsxs)(e_.M9,{disabled:!V,onClick:T.openSealPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),"聖印",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eP,{skillType:"seal",skillId:N})})]}),(0,s.jsxs)(e_.M9,{disabled:!Q,onClick:T.openSkillXPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-x.png"}),"X技能",(0,s.jsx)(e_.BQ,{children:(0,s.jsx)(eP,{skillType:"skillX",skillId:A})})]})]})]})]}),(0,s.jsxs)(e_.BH,{children:[(0,s.jsx)(e_.Dx,{children:"強化"}),(0,s.jsx)(e_.VY,{children:(0,s.jsxs)(e_.P9,{children:[(0,s.jsxs)(e_.M9,{onClick:T.openSupportPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/support.png"}),"召喚師契約",(0,s.jsx)(e_.BQ,{style:{height:"42px"},children:2===d?"S+":1===d?"S":"-"})]}),(0,s.jsxs)(e_.M9,{onClick:T.toggleArena,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Arena_Crown.png"}),"鬥技場",(0,s.jsx)(em,{checked:h,"aria-label":"鬥技場開關"})]}),(0,s.jsxs)(e_.M9,{onClick:T.toggleResplendent,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/god-wear.png"}),"神裝",(0,s.jsx)(em,{checked:p,"aria-label":"神裝開關"})]}),(0,s.jsxs)(e_.M9,{onClick:T.openBloomPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Icon_FlowerBud.png"}),"綻放",(0,s.jsx)(e_.BQ,{style:{height:"42px"},children:function(e){let l=eu.find(l=>e===l.value);return(null==l?void 0:l.name)||"-"}(g)})]}),(0,s.jsxs)(e_.M9,{onClick:T.openEmblemPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Icon_Hero_Type_Emblem.webp"}),"結合突破",(0,s.jsx)(e_.BQ,{style:{height:"42px"},children:b?"+".concat(b):"-"})]}),(0,s.jsxs)(e_.M9,{onClick:T.toggleAided,disabled:U,children:[(0,s.jsx)(eb.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Icon_Aided.webp"}),"攜伴",(0,s.jsx)(em,{checked:U||I,"aria-label":"攜伴開關"})]}),(0,s.jsxs)(e_.M9,{onClick:T.openChosenPicker,children:[(0,s.jsx)(eb.Z,{width:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Icon_Hero_Type_Chosen.webp"}),"救世",(0,s.jsx)(e_.BQ,{style:{height:"42px"},children:w>-1?"+".concat(w):"-"})]})]})})]}),!G&&(0,s.jsxs)(e_.BH,{children:[(0,s.jsx)(e_.Dx,{children:"祝福強化"}),(0,s.jsx)(e_.VY,{children:(0,s.jsxs)(e_.P9,{children:[(0,s.jsxs)(e_.M9,{disabled:"Feh"===t,onClick:T.openMythicBonus1,children:["神階1",(0,s.jsx)(e_.BQ,{children:ed(k)})]}),(0,s.jsxs)(e_.M9,{disabled:"Feh"===t,onClick:T.openMythicBonus2,children:["神階2",(0,s.jsx)(e_.BQ,{children:ed(x)})]}),(0,s.jsxs)(e_.M9,{disabled:"Feh"===t,onClick:T.openMythicBonus3,children:["神階3",(0,s.jsx)(e_.BQ,{children:ed(f)})]}),(0,s.jsxs)(e_.M9,{disabled:"Feh"===t,onClick:T.openMythicBonus4,children:["神階4",(0,s.jsx)(e_.BQ,{children:ed(j)})]})]})})]})]})},eZ=t(6785),eE=t(8821),eH=t(3060),eR=t.n(eH),eJ=function(e){let{hidden:l,heroId:t,onChangeHero:n,onClickBack:i,resplendent:r}=e,c=(0,a.useCallback)(e=>{n(e),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"英雄"]}),(0,s.jsx)("div",{className:eR().picker,children:(0,s.jsx)(eZ.Z,{heroId:t,onSelect:c,noDropdown:!0,resplendent:r})})]})},eK=t(9952),eW=function(e){let{hidden:l,rarity:t,selectRarity:n,onClickBack:i}=e,r=(0,a.useCallback)(e=>{n(e),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"稀有度"]}),(0,s.jsx)(eK.Z,{rarity:t,minRarity:4,onSelect:r})]})},eF=t(7902),eO=function(e){let{hidden:l,iv:t,selectIV:n,onClickBack:i}=e,r=(0,a.useCallback)(e=>{n(e),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"IV"]}),(0,s.jsx)(eF.Z,{iv:t,selectIV:r})]})},eQ=t(7963),eV=function(e){let{hidden:l,blessing:t,selectBlessing:n,onClickBack:i}=e,r=(0,a.useCallback)(e=>{n(e),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"IV"]}),(0,s.jsx)(eQ.Z,{blessing:t,selectBlessing:r})]})},eY=t(3474),eq=function(e){let{hidden:l,merge:t,selectMerge:n,onClickBack:i}=e,r=(0,a.useCallback)(e=>{n(e),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"突破次數"]}),(0,s.jsx)(eY.Z,{merge:t,onSelect:r})]})},eG=t(6719),eU=t(4227),ez=function(e){let{maxDragonflowerOptions:l,dragonflower:t,maxDragonflower:n,onSelect:i}=e,r=(0,a.useMemo)(()=>Array(l+1).fill(0).map((e,l)=>l),[l]);return(0,s.jsx)(eU.Z,{value:t,max:n,onSelect:i,options:r})},eL=function(e){let{hidden:l,heroId:t,dragonflower:n,selectDragonflower:i,onClickBack:r}=e,{heroDB:c,dragonflowersDB:o}=(0,v.K)(),d=(0,a.useMemo)(()=>{let e=(0,u.cK)(c,t);return(0,eG.A)({dfKey:e.dfKey,dragonflowersDB:o})},[o,c,t]),h=(0,a.useMemo)(()=>(0,eG.A)({dfKey:1,dragonflowersDB:o}),[o]),p=(0,a.useCallback)(e=>{i(e),r()},[i,r]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:r}),"神龍之花"]}),(0,s.jsx)(ez,{maxDragonflowerOptions:h,dragonflower:n,maxDragonflower:d,onSelect:p})]})},e$=t(3851),e0=t.n(e$),e4=function(e){let{active:l,last:t,hidden:n,value:i,children:a,onClick:r}=e;return(0,s.jsx)("button",{className:e0().button,"data-active":l,"data-last":t,value:i,onClick:r,hidden:n,children:a})},e2=t(6397),e1=function(e){let{active:l,weapon:t,hidden:n,onClick:i}=e;return(0,s.jsx)(e4,{active:l,last:t.last,hidden:n,value:t.id,onClick:i,children:(0,s.jsx)(e2.Z,{weapon:t})})},e5=(0,a.memo)(function(e){let{heroId:l,weaponId:t,selectWeaponId:n,filter:i,maxSkill:r}=e,{options:c}=function(e){let{heroId:l,filter:t,maxSkill:s}=e,{rules2DB:n,heroDB:i,weaponDB:r}=(0,v.K)(),c=(0,a.useMemo)(()=>(0,m.CB)({rules2DB:n,heroDB:i,weaponDB:r,heroId:l}),[n,i,r,l]);return{options:(0,a.useMemo)(()=>c.map(e=>{let l=!1;return s&&!e.last&&(l=!0),!l&&t&&(l=!e.query.includes(t.toLowerCase())),{...e,hidden:l}}),[c,t,s])}}({heroId:l,filter:i,maxSkill:r}),o=(0,a.useCallback)(e=>{e.stopPropagation(),n(e.currentTarget.value)},[n]);return(0,s.jsxs)(e_.Ei,{children:[(0,s.jsx)(e4,{active:!t,value:"",onClick:o,children:"無武器"}),c.map(e=>{let{hidden:l,...n}=e;return(0,s.jsx)(e1,{hidden:l,weapon:n,active:t===e.id,onClick:o},e.id)})]})}),e9=function(e){let{hidden:l,onClickBack:t,heroId:n,weaponId:i,selectWeaponId:r,maxSkill:c,toggleMaxSkill:o,setDefaultSkill:d}=e,[u,h]=(0,a.useState)(""),p=(0,a.useCallback)(e=>{h(e.currentTarget.value)},[]),k=(0,a.useCallback)(e=>{r(e),t()},[r,t]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:t}),(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:"武器"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(eg,{checked:c,onChange:o,children:"僅高級技能"}),(0,s.jsx)(eC,{onClick:d})]})]})]}),(0,s.jsx)("input",{className:ew().input,placeholder:"武器名稱",onChange:p}),(0,s.jsx)(e_.qn,{children:(0,s.jsx)(e5,{heroId:n,weaponId:i,filter:u,maxSkill:c,selectWeaponId:k})})]})},e8=t(2849),e3=t.n(e8);function e6(e){let{children:l}=e;return(0,s.jsx)("div",{className:e3().refineName,children:l})}function e7(e){let{src:l}=e;return(0,s.jsx)(eb.Z,{src:l,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function le(e){let{children:l}=e;return(0,s.jsx)("div",{className:e3().might,children:l})}function ll(e){let{children:l}=e;return(0,s.jsx)("div",{className:e3().extractStats,children:l})}function lt(e){let{children:l}=e;return(0,s.jsx)("div",{className:e3().extractStat,children:l})}function ls(e){let{cd:l,children:t}=e;return l?(0,s.jsx)("div",{style:{color:l<0?"lightskyblue":"palevioletred"},children:t}):null}function ln(e){let{children:l}=e;return(0,s.jsx)("div",{style:{color:"salmon"},children:l})}let li=e=>e>0?"+".concat(e):"".concat(e);function la(e){var l;let{weaponMt:t,refine:n}=e;if(!n)return null;let i=t;return((null===(l=n.newStats)||void 0===l?void 0:l.mt)&&(i=n.newStats.mt),(i+=n.mt||0)===t)?null:(0,s.jsxs)(le,{children:["威力 ",i]})}function lr(e){let{refine:l}=e;if(!l)return null;let t=0;return(l.newStats&&(t=l.newStats.cd||0),0===(t+=l.cd||0))?null:(0,s.jsxs)(ls,{cd:t,children:["奧義 cd",li(t)]})}function lc(e){let{refine:l}=e;if(!l)return null;let t=0,n=0,i=0,a=0,r=0;return l.newStats&&(t=l.newStats.hp||0,n=l.newStats.atk||0,i=l.newStats.spd||0,a=l.newStats.def||0,r=l.newStats.res||0),t+=l.hp||0,n+=l.atk||0,i+=l.spd||0,a+=l.def||0,r+=l.res||0,(0,s.jsxs)(ll,{children:[0!==t&&(0,s.jsxs)(lt,{children:["HP ",li(t)]}),0!==n&&(0,s.jsxs)(lt,{children:["攻擊 ",li(n)]}),0!==i&&(0,s.jsxs)(lt,{children:["速度 ",li(i)]}),0!==a&&(0,s.jsxs)(lt,{children:["防守 ",li(a)]}),0!==r&&(0,s.jsxs)(lt,{children:["魔防 ",li(r)]})]})}var lo=function(e){let{active:l,hidden:t,weaponMt:n,refineType:i,refine:a,onClick:r}=e;return(0,s.jsxs)(e4,{active:l,last:!0,hidden:t,value:i,onClick:r,children:[(0,s.jsxs)(e6,{children:[a.icon&&(0,s.jsx)(e7,{src:a.icon}),a.name]}),(0,s.jsx)(la,{weaponMt:n,refine:a}),(0,s.jsx)(lr,{refine:a}),(0,s.jsx)(lc,{refine:a}),a.exclusive&&(0,s.jsx)(ln,{children:"限定本人裝備"})]})},ld=(0,a.memo)(function(e){let{heroId:l,weaponId:t,refine:n,selectRefine:i}=e,{weapon:r,options:c}=function(e){let{heroId:l,weaponId:t}=e,{heroDB:s,weaponDB:n}=(0,v.K)(),{weapon:i,refineOptions:r}=(0,a.useMemo)(()=>({weapon:(0,m.i7)({heroDB:s,weaponDB:n,heroId:l,weaponId:t}),refineOptions:(0,m.Mf)({heroDB:s,weaponDB:n,heroId:l,weaponId:t})}),[s,n,l,t]);return{weapon:i,options:r}}({heroId:l,weaponId:t}),o=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]);return(0,s.jsxs)(e_.Ei,{children:[(0,s.jsx)(e4,{active:!n,value:"",onClick:o,children:"無鍛造"}),c.map(e=>{let{value:l,...t}=e;return(0,s.jsx)(lo,{weaponMt:null==r?void 0:r.mt,refineType:l,refine:t,active:n===l,onClick:o},l)})]})}),lu=function(e){let{hidden:l,onClickBack:t,heroId:n,weaponId:i,refine:r,selectRefine:c}=e,o=(0,a.useCallback)(e=>{c(e),t()},[c,t]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:t}),(0,s.jsx)(e_.dH,{children:(0,s.jsx)("span",{children:"鍛造"})})]}),(0,s.jsx)(e_.qn,{children:(0,s.jsx)(ld,{heroId:n,weaponId:i,refine:r,selectRefine:o})})]})},lh=t(6738),lp=t(9142),lk=(0,a.memo)(function(e){let{active:l,hidden:t,skill:n,onClick:i}=e;return(0,s.jsxs)(e4,{active:l,last:n.last,hidden:t,value:n.id,onClick:i,children:[(0,s.jsxs)(eD.pp,{children:[(0,s.jsxs)(eD.bP,{children:[n.icon&&(0,s.jsx)(eD.JO,{src:"/skills/".concat(n.icon)}),n.name]}),(0,s.jsxs)(eD.n0,{children:[n.sp,"SP"]})]}),n.mt&&(0,s.jsxs)(eD.XR,{children:["威力 ",n.mt]}),n.cd&&(0,s.jsxs)(eD.eM,{cd:n.cd,children:["奧義 cd",(0,eD.lG)(n.cd)]}),(0,s.jsxs)(eD.lJ,{children:[n.hp&&(0,s.jsxs)(eD.i5,{children:["HP ",(0,eD.lG)(n.hp)]}),n.atk&&(0,s.jsxs)(eD.i5,{children:["攻擊 ",(0,eD.lG)(n.atk)]}),n.spd&&(0,s.jsxs)(eD.i5,{children:["速度 ",(0,eD.lG)(n.spd)]}),n.def&&(0,s.jsxs)(eD.i5,{children:["防守 ",(0,eD.lG)(n.def)]}),n.res&&(0,s.jsxs)(eD.i5,{children:["魔防 ",(0,eD.lG)(n.res)]})]}),n.exclusive&&(0,s.jsx)(eD.Z4,{children:"限定本人裝備"})]})});function lx(e){let{index:l,style:t,data:n}=e,{skillId:i,skills:a,onClick:r}=n,c=a[l];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(lk,{active:i===c.id,skill:c,onClick:r},c.id)})}var lm=(0,a.memo)(function(e){let{heroId:l,weaponId:t,skillType:n,skillId:i,selectSkill:r,skillXId:c,filter:o,maxSkill:d}=e,u=(0,a.useCallback)(e=>{e.stopPropagation(),r(e.currentTarget.value)},[r]),{options:h,spOptions:p,spChecked:x,onCheckSp:m}=function(e){let{heroId:l,weaponId:t,skillType:s,skillXId:n,filter:i,maxSkill:r}=e,c=(0,v.K)(),{rules2DB:o,heroDB:d,weaponDB:u,defaultSkillDB:h}=c,p=c["".concat(s,"DB")],x=(0,a.useMemo)(()=>(0,k.AY)({rules2DB:o,heroDB:d,weaponDB:u,skillDB:p,defaultSkillDB:h,heroId:l,weaponId:t,skillXId:n}),[o,d,u,p,h,l,t,n]),m=(0,a.useMemo)(()=>{let e={};x.forEach(l=>{(!r||l.last)&&(e[l.sp]=l.sp)});let l=Object.values(e).filter(e=>!!e);return l.length<2?[]:l.sort((e,l)=>e-l)},[r,x]),[f,j]=(0,a.useState)([]),g=(0,a.useCallback)(e=>{let l=+e.currentTarget.value;j(e=>e.includes(l)?e.filter(e=>l!==e):(e.push(l),e.slice()))},[]),b=(0,a.useMemo)(()=>x.filter(e=>(!r||!!e.last)&&(!i||!!e.query.includes(i.toLowerCase()))&&(!f.length||!!f.includes(e.sp))),[x,i,r,f]);return(0,a.useEffect)(()=>{j(e=>e.filter(e=>m.includes(e)))},[m]),{options:b,spOptions:m,spChecked:f,onCheckSp:g}}({heroId:l,weaponId:t,skillType:n,skillId:i,skillXId:c,filter:o,maxSkill:d}),f=(0,a.useMemo)(()=>({skillId:i,skills:h,onClick:u}),[i,h,u]),j=(0,a.useCallback)(e=>{let l=h[e],t=40;return(l.mt||l.cd)&&(t+=24),(l.hp||l.atk||l.spd||l.def||l.res)&&(t+=24),l.exclusive&&(t+=24),t+=18},[h]),g=(0,a.useCallback)(e=>h[e].id,[h]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:ew().spButtons,children:p.map(e=>(0,s.jsx)("button",{type:"button",value:e,"data-active":x.includes(e),onClick:m,children:e},e))}),(0,s.jsx)("div",{className:ew().listItems,children:(0,s.jsx)(lp.ZP,{children:e=>{let{width:l,height:t}=e;return(0,s.jsx)(lh.S_,{width:l,height:t,itemCount:h.length,itemSize:j,itemData:f,itemKey:g,children:lx},h.length)}})})]})}),lf=(0,a.memo)(function(e){let{heroId:l,weaponId:t,skillType:n,skillId:i,selectSkill:a,skillXId:r,filter:c,maxSkill:o}=e;return(0,s.jsxs)(e_.Ei,{children:[(0,s.jsx)(e4,{active:!i,value:"",onClick:()=>a(""),children:"無技能"}),(0,s.jsx)(lm,{heroId:l,weaponId:t,skillType:n,skillId:i,selectSkill:a,skillXId:r,filter:c,maxSkill:o})]})}),lj=function(e){let{hidden:l,skillType:t,title:n,onClickBack:i,heroId:r,weaponId:c,skillXId:o,skillId:d,selectSkill:u,maxSkill:h,toggleMaxSkill:p,setDefaultSkill:k}=e,[x,m]=(0,a.useState)(""),f=(0,a.useCallback)(e=>{m(e.currentTarget.value)},[]),j=(0,a.useCallback)(e=>{u(e),i()},[u,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:n}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(eg,{checked:h,onChange:p,children:"僅高級技能"}),k&&(0,s.jsx)(eC,{onClick:k})]})]})]}),(0,s.jsx)("input",{className:ew().input,placeholder:"技能名稱",onChange:f}),(0,s.jsx)(e_.qn,{children:(0,s.jsx)(lf,{heroId:r,weaponId:c,skillType:t,skillId:d,selectSkill:j,skillXId:o,filter:x,maxSkill:h})})]})},lg=(0,a.memo)(function(e){let{active:l,hidden:t,assist:n,onClick:i}=e;return(0,s.jsxs)(e4,{active:l,last:n.last,hidden:t,value:n.id,onClick:i,children:[(0,s.jsxs)(eD.pp,{children:[(0,s.jsx)(eD.bP,{children:n.name}),(0,s.jsxs)(eD.n0,{children:[n.sp,"SP"]})]}),n.exclusive&&(0,s.jsx)(eD.Z4,{children:"限定本人裝備"})]})});function lb(e){let{index:l,style:t,data:n}=e,{assistId:i,assists:a,onClick:r}=n,c=a[l];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(lg,{active:i===c.id,assist:c,onClick:r},c.id)})}var lI=(0,a.memo)(function(e){let{heroId:l,weaponId:t,assistId:n,selectAssist:i,filter:r,maxSkill:c,skillXId:o}=e,u=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]),{options:h,spOptions:p,spChecked:k,onCheckSp:x}=function(e){let{heroId:l,weaponId:t,filter:s,maxSkill:n,skillXId:i}=e,{rules2DB:r,heroDB:c,weaponDB:o,assistDB:u,defaultSkillDB:h}=(0,v.K)(),p=(0,a.useMemo)(()=>(0,d.Gt)({rules2DB:r,heroDB:c,weaponDB:o,assistDB:u,defaultSkillDB:h,heroId:l,weaponId:t,skillXId:i}),[r,c,o,u,h,l,t,i]),k=(0,a.useMemo)(()=>{let e={};p.forEach(l=>{(!n||l.last)&&(e[l.sp]=l.sp)});let l=Object.values(e).filter(e=>!!e);return l.length<2?[]:l.sort((e,l)=>e-l)},[n,p]),[x,m]=(0,a.useState)([]),f=(0,a.useCallback)(e=>{let l=+e.currentTarget.value;m(e=>e.includes(l)?e.filter(e=>l!==e):(e.push(l),e.slice()))},[]);return{options:(0,a.useMemo)(()=>p.filter(e=>(!n||!!e.last)&&(!s||!!e.query.includes(s.toLowerCase()))&&(!x.length||!!x.includes(e.sp))),[p,s,n,x]),spOptions:k,spChecked:x,onCheckSp:f}}({heroId:l,weaponId:t,filter:r,maxSkill:c,skillXId:o}),m=(0,a.useMemo)(()=>({assistId:n,assists:h,onClick:u}),[n,h,u]),f=(0,a.useCallback)(e=>{let l=h[e],t=40;return(l.mt||l.cd)&&(t+=24),(l.hp||l.atk||l.spd||l.def||l.res)&&(t+=24),l.exclusive&&(t+=24),t+=18},[h]),j=(0,a.useCallback)(e=>h[e].id,[h]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:ew().spButtons,children:p.map(e=>(0,s.jsx)("button",{type:"button",value:e,"data-active":k.includes(e),onClick:x,children:e},e))}),(0,s.jsx)("div",{className:ew().listItems,children:(0,s.jsx)(lp.ZP,{children:e=>{let{width:l,height:t}=e;return(0,s.jsx)(lh.S_,{width:l,height:t,itemCount:h.length,itemSize:f,itemData:m,itemKey:j,children:lb},h.length)}})})]})}),lv=(0,a.memo)(function(e){let{heroId:l,weaponId:t,assist:n,selectAssist:i,filter:r,maxSkill:c,skillXId:o}=e,d=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]);return(0,s.jsxs)(e_.Ei,{children:[(0,s.jsx)(e4,{active:!n,value:"",onClick:d,children:"無技能"}),(0,s.jsx)(lI,{heroId:l,weaponId:t,assistId:n,filter:r,maxSkill:c,selectAssist:i,skillXId:o})]})}),lw=function(e){let{hidden:l,onClickBack:t,heroId:n,weaponId:i,assist:r,selectAssist:c,maxSkill:o,toggleMaxSkill:d,setDefaultSkill:u,skillXId:h}=e,[p,k]=(0,a.useState)(""),x=(0,a.useCallback)(e=>{k(e.currentTarget.value)},[]),m=(0,a.useCallback)(e=>{c(e),t()},[c,t]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:t}),(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:"輔助"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(eg,{checked:o,onChange:d,children:"僅高級技能"}),u&&(0,s.jsx)(eC,{onClick:u})]})]})]}),(0,s.jsx)("input",{className:ew().input,placeholder:"技能名稱",onChange:x}),(0,s.jsx)(e_.qn,{children:(0,s.jsx)(lv,{heroId:n,weaponId:i,assist:r,selectAssist:m,filter:p,maxSkill:o,skillXId:h})})]})},lC=(0,a.memo)(function(e){let{active:l,hidden:t,special:n,onClick:i}=e;return(0,s.jsxs)(e4,{active:l,last:n.last,hidden:t,value:n.id,onClick:i,children:[(0,s.jsxs)(eD.pp,{children:[(0,s.jsx)(eD.bP,{children:n.name}),(0,s.jsxs)(eD.n0,{children:[n.sp,"SP"]})]}),(0,s.jsxs)("div",{children:["CD ",n.cd]}),n.exclusive&&(0,s.jsx)(eD.Z4,{children:"限定本人裝備"})]})});function l_(e){let{index:l,style:t,data:n}=e,{special:i,skills:a,onClick:r}=n,c=a[l];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(lC,{active:i===c.id,special:c,onClick:r},c.id)})}var lB=(0,a.memo)(function(e){let{heroId:l,weaponId:t,special:n,selectSpecial:i,skillXId:r,filter:c,maxSkill:o}=e,d=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]),{options:u,spOptions:h,spChecked:p,onCheckSp:k}=function(e){let{heroId:l,weaponId:t,skillXId:s,filter:n,maxSkill:i}=e,{rules2DB:r,heroDB:c,weaponDB:o,specialDB:d,defaultSkillDB:u}=(0,v.K)(),h=(0,a.useMemo)(()=>(0,x.TZ)({rules2DB:r,heroDB:c,weaponDB:o,specialDB:d,defaultSkillDB:u,heroId:l,weaponId:t,skillXId:s}),[r,c,o,d,u,l,t,s]),p=(0,a.useMemo)(()=>{let e={};h.forEach(l=>{(!i||l.last)&&(e[l.sp]=l.sp)});let l=Object.values(e).filter(e=>!!e);return l.length<2?[]:l.sort((e,l)=>e-l)},[i,h]),[k,m]=(0,a.useState)([]),f=(0,a.useCallback)(e=>{let l=+e.currentTarget.value;m(e=>e.includes(l)?e.filter(e=>l!==e):(e.push(l),e.slice()))},[]),j=(0,a.useMemo)(()=>h.filter(e=>(!i||!!e.last)&&(!n||!!e.query.includes(n.toLowerCase()))&&(!k.length||!!k.includes(e.sp))),[h,n,i,k]);return(0,a.useEffect)(()=>{m(e=>e.filter(e=>p.includes(e)))},[p]),{options:j,spOptions:p,spChecked:k,onCheckSp:f}}({heroId:l,weaponId:t,special:n,skillXId:r,filter:c,maxSkill:o}),m=(0,a.useMemo)(()=>({special:n,skills:u,onClick:d}),[n,u,d]),f=(0,a.useCallback)(e=>{let l=u[e],t=40;return(l.mt||l.cd)&&(t+=24),(l.hp||l.atk||l.spd||l.def||l.res)&&(t+=24),l.exclusive&&(t+=24),t+=18},[u]),j=(0,a.useCallback)(e=>u[e].id,[u]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:ew().spButtons,children:h.map(e=>(0,s.jsx)("button",{type:"button",value:e,"data-active":p.includes(e),onClick:k,children:e},e))}),(0,s.jsx)("div",{className:ew().listItems,children:(0,s.jsx)(lp.ZP,{children:e=>{let{width:l,height:t}=e;return(0,s.jsx)(lh.S_,{width:l,height:t,itemCount:u.length,itemSize:f,itemData:m,itemKey:j,children:l_},u.length)}})})]})}),ly=(0,a.memo)(function(e){let{heroId:l,weaponId:t,special:n,selectSpecial:i,skillXId:r,filter:c,maxSkill:o}=e,d=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]);return(0,s.jsxs)(e_.Ei,{children:[(0,s.jsx)(e4,{active:!n,value:"",onClick:d,children:"無技能"}),(0,s.jsx)(lB,{heroId:l,weaponId:t,special:n,selectSpecial:i,skillXId:r,filter:c,maxSkill:o})]})}),lS=function(e){let{hidden:l,onClickBack:t,heroId:n,weaponId:i,special:r,selectSpecial:c,skillXId:o,maxSkill:d,toggleMaxSkill:u,setDefaultSkill:h}=e,[p,k]=(0,a.useState)(""),x=(0,a.useCallback)(e=>{k(e.currentTarget.value)},[]),m=(0,a.useCallback)(e=>{c(e),t()},[c,t]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:t}),(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:"奧義"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(eg,{checked:d,onChange:u,children:"僅高級技能"}),h&&(0,s.jsx)(eC,{onClick:h})]})]})]}),(0,s.jsx)("input",{className:ew().input,placeholder:"奧義名稱",onChange:x}),(0,s.jsx)(e_.qn,{children:(0,s.jsx)(ly,{heroId:n,weaponId:i,special:r,selectSpecial:m,skillXId:o,filter:p,maxSkill:d})})]})},lD=(0,a.memo)(function(e){let{active:l,hidden:t,skill:n,onClick:i}=e;return(0,s.jsxs)(e4,{active:l,last:n.last,hidden:t,value:n.id,onClick:i,children:[(0,s.jsxs)(eD.pp,{children:[(0,s.jsxs)(eD.bP,{children:[n.icon&&(0,s.jsx)(eD.JO,{src:"/skills/".concat(n.icon)}),n.name]}),n.sp&&(0,s.jsxs)(eD.n0,{children:[n.sp,"SP"]})]}),n.mt&&(0,s.jsxs)(eD.XR,{children:["威力 ",n.mt]}),n.cd&&(0,s.jsxs)(eD.eM,{cd:n.cd,children:["奧義 cd",(0,eD.lG)(n.cd)]}),(0,s.jsxs)(eD.lJ,{children:[n.hp&&(0,s.jsxs)(eD.i5,{children:["HP ",(0,eD.lG)(n.hp)]}),n.atk&&(0,s.jsxs)(eD.i5,{children:["攻擊 ",(0,eD.lG)(n.atk)]}),n.spd&&(0,s.jsxs)(eD.i5,{children:["速度 ",(0,eD.lG)(n.spd)]}),n.def&&(0,s.jsxs)(eD.i5,{children:["防守 ",(0,eD.lG)(n.def)]}),n.res&&(0,s.jsxs)(eD.i5,{children:["魔防 ",(0,eD.lG)(n.res)]})]}),n.exclusive&&(0,s.jsx)(eD.Z4,{children:"限定本人裝備"})]})});function lM(e){let{index:l,style:t,data:n}=e,{seal:i,skills:a,onClick:r}=n,c=a[l];return"_sealA"===c.id?(0,s.jsx)("div",{style:t,children:(0,s.jsx)(e_.DK,{children:"A技能聖印"})}):"_sealB"===c.id?(0,s.jsx)("div",{style:t,children:(0,s.jsx)(e_.DK,{children:"B技能聖印"})}):"_sealC"===c.id?(0,s.jsx)("div",{style:t,children:(0,s.jsx)(e_.DK,{children:"C技能聖印"})}):"_seal"===c.id?(0,s.jsx)("div",{style:t,children:(0,s.jsx)(e_.DK,{children:"專用聖印"})}):(0,s.jsx)("div",{style:t,children:(0,s.jsx)(lD,{active:i===c.id,skill:c,onClick:r},c.id)})}var lA=(0,a.memo)(function(e){let{heroId:l,weaponId:t,seal:n,selectSeal:i,filter:r,maxSkill:c}=e,o=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]),{options:d,spOptions:u,spChecked:h,onCheckSp:p}=function(e){let{heroId:l,weaponId:t,filter:s,maxSkill:n}=e,{rules2DB:i,heroDB:r,weaponDB:c,sealDB:o,defaultSkillDB:d}=(0,v.K)(),u=(0,a.useMemo)(()=>{let e=(0,k.AY)({rules2DB:i,heroDB:r,weaponDB:c,defaultSkillDB:d,skillDB:o.skillA,heroId:l,weaponId:t,skillXId:""});return[{id:"_sealA",name:"A技能聖印",sp:0,icon:"",query:""},...e,{id:"_sealB",name:"B技能聖印",sp:0,icon:"",query:""},...(0,k.AY)({rules2DB:i,heroDB:r,weaponDB:c,defaultSkillDB:d,skillDB:o.skillB,heroId:l,weaponId:t,skillXId:""}),{id:"_sealC",name:"C技能聖印",sp:0,icon:"",query:""},...(0,k.AY)({rules2DB:i,heroDB:r,weaponDB:c,defaultSkillDB:d,skillDB:o.skillC,heroId:l,weaponId:t,skillXId:""}),{id:"_seal",name:"專用聖印",sp:0,icon:"",query:""},...(0,k.AY)({rules2DB:i,heroDB:r,weaponDB:c,defaultSkillDB:d,skillDB:o.seal,heroId:l,weaponId:t,skillXId:""})]},[i,r,c,o,d,l,t]),h=(0,a.useMemo)(()=>{let e={};u.forEach(l=>{(!n||l.last)&&(e[l.sp]=l.sp)});let l=Object.values(e).filter(e=>!!e);return l.length<2?[]:l.sort((e,l)=>e-l)},[n,u]),[p,x]=(0,a.useState)([]),m=(0,a.useCallback)(e=>{let l=+e.currentTarget.value;x(e=>e.includes(l)?e.filter(e=>l!==e):(e.push(l),e.slice()))},[]),f=(0,a.useMemo)(()=>u.filter(e=>!!["_sealA","_sealB","_sealC","_seal"].includes(e.id)||(!n||!!e.last)&&(!s||!!e.query.includes(s.toLowerCase()))&&(!p.length||!!p.includes(e.sp))),[u,s,n,p]);return(0,a.useEffect)(()=>{x(e=>e.filter(e=>h.includes(e)))},[h]),{options:f,spOptions:h,spChecked:p,onCheckSp:m}}({heroId:l,weaponId:t,filter:r,maxSkill:c}),x=(0,a.useMemo)(()=>({seal:n,skills:d,onClick:o}),[n,d,o]),m=(0,a.useCallback)(e=>{let l=d[e];if(["_sealA","_sealB","_sealC","_seal"].includes(l.id))return 44;let t=40;return(l.mt||l.cd)&&(t+=24),(l.hp||l.atk||l.spd||l.def||l.res)&&(t+=24),l.exclusive&&(t+=24),t+=18},[d]),f=(0,a.useCallback)(e=>d[e].id,[d]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:ew().spButtons,children:u.map(e=>(0,s.jsx)("button",{type:"button",value:e,"data-active":h.includes(e),onClick:p,children:e},e))}),(0,s.jsx)("div",{className:ew().listItems,children:(0,s.jsx)(lp.ZP,{children:e=>{let{width:l,height:t}=e;return(0,s.jsx)(lh.S_,{width:l,height:t,itemCount:d.length,itemSize:m,itemData:x,itemKey:f,children:lM},d.length)}})})]})}),lN=(0,a.memo)(function(e){let{heroId:l,weaponId:t,seal:n,selectSeal:i,filter:r,maxSkill:c}=e,o=(0,a.useCallback)(e=>{e.stopPropagation(),i(e.currentTarget.value)},[i]);return(0,s.jsxs)(e_.Ei,{children:[(0,s.jsx)(e4,{active:!n,value:"",onClick:o,children:"無聖印"}),(0,s.jsx)(lA,{heroId:l,weaponId:t,seal:n,selectSeal:i,filter:r,maxSkill:c})]})}),lX=function(e){let{hidden:l,onClickBack:t,heroId:n,weaponId:i,seal:r,selectSeal:c,maxSkill:o,toggleMaxSkill:d}=e,[u,h]=(0,a.useState)(""),p=(0,a.useCallback)(e=>{h(e.currentTarget.value)},[]),k=(0,a.useCallback)(e=>{c(e),t()},[c,t]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:t}),(0,s.jsxs)(e_.dH,{children:[(0,s.jsx)("span",{children:"聖印"}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,s.jsx)(eg,{checked:o,onChange:d,children:"僅高級技能"})})]})]}),(0,s.jsx)("input",{className:ew().input,placeholder:"技能名稱",onChange:p}),(0,s.jsx)(e_.qn,{children:(0,s.jsx)(lN,{heroId:n,weaponId:i,seal:r,selectSeal:k,filter:u,maxSkill:o})})]})},lP=t(424),lT=t.n(lP),lZ=e=>{let{bonus:l,selectBonus:t}=e,n=(0,a.useCallback)(e=>{e.stopPropagation(),t(e.currentTarget.value)},[t]);return(0,s.jsxs)("div",{className:lT().container,children:[(0,s.jsx)("button",{className:lT()["neutral-button"],"data-active":!l,value:"",onClick:n,children:"-"}),eo.map(e=>(0,s.jsx)("button",{className:lT()["bonus-button"],"data-active":l===e.value,value:e.value,onClick:n,children:e.name},e.value))]})},lE=function(e){let{hidden:l,title:t,bonus:n,selectBonus:i,onClickBack:r}=e,c=(0,a.useCallback)(e=>{i(e),r()},[i,r]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:r}),t]}),(0,s.jsx)(lZ,{bonus:n,selectBonus:c})]})},lH=t(7722),lR=t.n(lH),lJ=e=>{let{bloom:l,selectBloom:t}=e,n=(0,a.useCallback)(e=>{e.stopPropagation(),t(e.currentTarget.value)},[t]);return(0,s.jsxs)("div",{className:lR().container,children:[(0,s.jsx)("button",{className:lR()["neutral-button"],"data-active":!l,value:"",onClick:n,children:"-"}),eu.map(e=>(0,s.jsx)("button",{className:lR()["bloom-button"],"data-active":l===e.value,value:e.value,onClick:n,children:e.name},e.value))]})},lK=function(e){let{hidden:l,title:t,bloom:n,setBloom:i,onClickBack:r}=e,c=(0,a.useCallback)(e=>{i(e),r()},[i,r]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:r}),t]}),(0,s.jsx)(lJ,{bloom:n,selectBloom:c})]})},lW=function(){let[e,l]=(0,a.useState)(""),t=(0,a.useCallback)(()=>{l("hero")},[]),s=(0,a.useCallback)(()=>{l("rarity")},[]),n=(0,a.useCallback)(()=>{l("iv")},[]),i=(0,a.useCallback)(()=>{l("merge")},[]),r=(0,a.useCallback)(()=>{l("dragonflower")},[]),c=(0,a.useCallback)(()=>{l("blessing")},[]),o=(0,a.useCallback)(()=>{l("weapon")},[]),d=(0,a.useCallback)(()=>{l("refine")},[]),u=(0,a.useCallback)(()=>{l("assist")},[]),h=(0,a.useCallback)(()=>{l("special")},[]),p=(0,a.useCallback)(()=>{l("skillA")},[]),k=(0,a.useCallback)(()=>{l("skillB")},[]),x=(0,a.useCallback)(()=>{l("skillC")},[]),m=(0,a.useCallback)(()=>{l("skillX")},[]),f=(0,a.useCallback)(()=>{l("seal")},[]),j=(0,a.useCallback)(()=>{l("mythic1")},[]),g=(0,a.useCallback)(()=>{l("mythic2")},[]),b=(0,a.useCallback)(()=>{l("mythic3")},[]),I=(0,a.useCallback)(()=>{l("mythic4")},[]),v=(0,a.useCallback)(()=>{l("bloom")},[]),w=(0,a.useCallback)(()=>{l("emblem")},[]);return{view:e,openHeroPicker:t,openRarityPicker:s,openIVPicker:n,openMergePicker:i,openDragonflowerPicker:r,openBlessingPicker:c,openBloomPicker:v,openEmblemPicker:w,openChosenPicker:(0,a.useCallback)(()=>{l("chosen")},[]),openSupportPicker:(0,a.useCallback)(()=>{l("support")},[]),openWeaponPicker:o,openRefinePicker:d,openAssistPicker:u,openSpecialPicker:h,openSkillAPicker:p,openSkillBPicker:k,openSkillCPicker:x,openSkillXPicker:m,openSealPicker:f,openMythicBonus1:j,openMythicBonus2:g,openMythicBonus3:b,openMythicBonus4:I,onClickBack:(0,a.useCallback)(()=>{l("")},[])}},lF=function(e){let{hidden:l,emblemMerge:t,selectEmblemMerge:n,onClickBack:i}=e,r=(0,a.useCallback)(e=>{n(e),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"結合突破"]}),(0,s.jsx)(eY.Z,{merge:t,onSelect:r})]})};let lO=[{name:"S",value:1},{name:"S+",value:2}];var lQ=t(5011),lV=t.n(lQ),lY=e=>{let{support:l,selectSupport:t}=e,n=(0,a.useCallback)(e=>{e.stopPropagation();let l=+e.currentTarget.value;switch(l){case 2:case 1:t(l);break;default:t(0)}},[t]);return(0,s.jsxs)("div",{className:lV().container,children:[(0,s.jsx)("button",{className:lV()["neutral-button"],"data-active":!l,value:0,onClick:n,children:"-"}),lO.map(e=>(0,s.jsx)("button",{className:lV()["support-button"],"data-active":l===e.value,value:e.value,onClick:n,children:e.name},e.value))]})},lq=function(e){let{hidden:l,support:t,selectSupport:n,onClickBack:i}=e,r=(0,a.useCallback)(e=>{n(e),i()},[i,n]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"召喚師契約"]}),(0,s.jsx)(lY,{support:t,selectSupport:r})]})},lG=t(9241),lU=t.n(lG),lz=a.memo(function(e){let{value:l,options:t,onSelect:n,oneLine:i}=e,r=(0,a.useCallback)(e=>{n&&n(e.currentTarget.value)},[n]),c=(0,a.useMemo)(()=>i?t:t.slice(1),[i,t]);return(0,s.jsxs)("div",{className:lU().wrapper,children:[!i&&(0,s.jsx)("div",{className:lU().button0,children:(0,s.jsx)("button",{value:t[0].value,"data-active":t[0].value===l,onClick:r,children:t[0].label})}),(0,s.jsx)("div",{className:lU().container,"data-oneline":i,children:c.map(e=>(0,s.jsx)("button",{value:e.value,"data-active":e.value===l,onClick:r,children:e.label},e.value))})]})}),lL=function(e){let{hidden:l,chosenMerge:t,selectChosenMerge:n,onClickBack:i}=e,r=(0,a.useMemo)(()=>t<0?"-":"+".concat(t),[t]),c=(0,a.useMemo)(()=>[{value:"-",label:"-"},{value:"+0",label:"+0"},{value:"+1",label:"+1"},{value:"+2",label:"+2"},{value:"+3",label:"+3"},{value:"+4",label:"+4"},{value:"+5",label:"+5"},{value:"+6",label:"+6"},{value:"+7",label:"+7"},{value:"+8",label:"+8"},{value:"+9",label:"+9"},{value:"+10",label:"+10"}],[]),o=(0,a.useCallback)(e=>{let l=-1;e.includes("+")&&(l=+e.split("+")[1]),n(l),i()},[n,i]);return(0,s.jsxs)(e_.W2,{hidden:l,children:[(0,s.jsxs)(e_.Dx,{children:[(0,s.jsx)(eE.Z,{onClick:i}),"救世"]}),(0,s.jsx)(lz,{value:r,options:c,onSelect:o})]})},l$=function(e){let{view:l,openHeroPicker:t,openRarityPicker:n,openIVPicker:i,openMergePicker:a,openDragonflowerPicker:r,openBlessingPicker:c,openBloomPicker:o,openEmblemPicker:d,openChosenPicker:u,openSupportPicker:h,openWeaponPicker:p,openRefinePicker:k,openAssistPicker:x,openSpecialPicker:m,openSkillAPicker:f,openSkillBPicker:j,openSkillCPicker:g,openSkillXPicker:b,openSealPicker:I,openMythicBonus1:v,openMythicBonus2:w,openMythicBonus3:C,openMythicBonus4:_,onClickBack:B}=lW();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eT,{hidden:!!l,...e,openHeroPicker:t,openRarityPicker:n,openIVPicker:i,openMergePicker:a,openDragonflowerPicker:r,openBlessingPicker:c,openWeaponPicker:p,openRefinePicker:k,openAssistPicker:x,openSpecialPicker:m,openSkillAPicker:f,openSkillBPicker:j,openSkillCPicker:g,openSkillXPicker:b,openSealPicker:I,openMythicBonus1:v,openMythicBonus2:w,openMythicBonus3:C,openMythicBonus4:_,openBloomPicker:o,openEmblemPicker:d,openChosenPicker:u,openSupportPicker:h}),(0,s.jsx)(eJ,{hidden:"hero"!==l,heroId:e.heroId,onChangeHero:e.onChangeHero,onClickBack:B,resplendent:e.resplendent}),(0,s.jsx)(eW,{hidden:"rarity"!==l,rarity:e.rarity,selectRarity:e.setRarity,onClickBack:B}),(0,s.jsx)(eO,{hidden:"iv"!==l,iv:e.iv,selectIV:e.setIV,onClickBack:B}),(0,s.jsx)(eV,{hidden:"blessing"!==l,blessing:e.blessing,selectBlessing:e.setBlessing,onClickBack:B}),(0,s.jsx)(eq,{hidden:"merge"!==l,merge:e.merge,selectMerge:e.setMerge,onClickBack:B}),(0,s.jsx)(eL,{hidden:"dragonflower"!==l,dragonflower:e.dragonflower,heroId:e.heroId,selectDragonflower:e.setDragonflower,onClickBack:B}),(0,s.jsx)(e9,{hidden:"weapon"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,selectWeaponId:e.setWeaponId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultWeapon}),(0,s.jsx)(lu,{hidden:"refine"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,refine:e.refine,selectRefine:e.setRefine}),(0,s.jsx)(lw,{hidden:"assist"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,assist:e.assistId,selectAssist:e.setAssistId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultAssist,skillXId:e.skillXId}),(0,s.jsx)(lS,{title:"奧義",hidden:"special"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,special:e.specialId,selectSpecial:e.setSpecialId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSpecial,skillXId:e.skillXId}),(0,s.jsx)(lj,{skillType:"skillA",title:"A技能",hidden:"skillA"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillAId,selectSkill:e.setSkillAId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillA,skillXId:e.skillXId}),(0,s.jsx)(lj,{skillType:"skillB",title:"B技能",hidden:"skillB"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillBId,selectSkill:e.setSkillBId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillB,skillXId:e.skillXId}),(0,s.jsx)(lj,{skillType:"skillC",title:"C技能",hidden:"skillC"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillCId,selectSkill:e.setSkillCId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillC,skillXId:e.skillXId}),(0,s.jsx)(lj,{skillType:"skillX",title:"X技能",hidden:"skillX"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillXId,selectSkill:e.setSkillXId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillX,skillXId:e.skillXId}),(0,s.jsx)(lX,{hidden:"seal"!==l,onClickBack:B,heroId:e.heroId,weaponId:e.weaponId,seal:e.sealId,selectSeal:e.setSealId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill}),(0,s.jsx)(lK,{hidden:"bloom"!==l,title:"綻放",onClickBack:B,bloom:e.bloom,setBloom:e.setBloom}),(0,s.jsx)(lF,{hidden:"emblem"!==l,onClickBack:B,emblemMerge:e.emblemMerge,selectEmblemMerge:e.setEmblemMerge}),(0,s.jsx)(lL,{hidden:"chosen"!==l,onClickBack:B,chosenMerge:e.chosenMerge,selectChosenMerge:e.setChosenMerge}),(0,s.jsx)(lq,{hidden:"support"!==l,onClickBack:B,support:e.support,selectSupport:e.setSupport}),(0,s.jsx)(lE,{hidden:"mythic1"!==l,title:"神階1",onClickBack:B,bonus:e.mythicBonus1,selectBonus:e.setMythicBonus1}),(0,s.jsx)(lE,{hidden:"mythic2"!==l,title:"神階2",onClickBack:B,bonus:e.mythicBonus2,selectBonus:e.setMythicBonus2}),(0,s.jsx)(lE,{hidden:"mythic3"!==l,title:"神階3",onClickBack:B,bonus:e.mythicBonus3,selectBonus:e.setMythicBonus3}),(0,s.jsx)(lE,{hidden:"mythic4"!==l,title:"神階4",onClickBack:B,bonus:e.mythicBonus4,selectBonus:e.setMythicBonus4})]})},l0=t(7774),l4=t(119),l2=t(2881),l1=t.n(l2);function l5(){let{heroId:e,onChangeHero:l,rarity:t,setRarity:n,iv:r,setIV:c,merge:p,setMerge:f,dragonflower:j,setDragonflower:g,blessing:b,setBlessing:I,support:w,setSupport:C,arena:_,toggleArena:B,resplendent:y,toggleResplendent:S,bloom:D,setBloom:M,emblemMerge:A,setEmblemMerge:N,aided:X,toggleAided:P,chosenMerge:T,setChosenMerge:Z,weaponId:E,setWeaponId:H,refine:R,setRefine:J,assistId:K,setAssistId:W,specialId:F,setSpecialId:O,skillAId:Q,setSkillAId:V,skillBId:Y,setSkillBId:q,skillCId:G,setSkillCId:U,skillXId:z,setSkillXId:L,sealId:$,setSealId:ee,mythicBonus1:el,setMythicBonus1:et,mythicBonus2:es,setMythicBonus2:en,mythicBonus3:ei,setMythicBonus3:ea,mythicBonus4:er,setMythicBonus4:eo,setDefaultWeapon:ed,setDefaultAssist:eu,setDefaultSpecial:eh,setDefaultSkillA:ep,setDefaultSkillB:ek,setDefaultSkillC:ex,setDefaultSkillX:em,setAllSkillDefault:ef,lv1:ej,toggleLv1:eg,maxSkill:eb,toggleMaxSkill:eI,bg:ev,editorIsOpen:ew,openEditor:eC,closeEditor:e_}=function(){let{rules2DB:e,heroDB:l,weaponDB:t,assistDB:s,specialDB:n,skillADB:i,skillBDB:r,skillCDB:c,skillXDB:p,sealDB:f,defaultSkillDB:j}=(0,v.K)(),[g,b]=(0,a.useState)("Feh"),[I,w]=(0,a.useState)(5),[C,_]=(0,a.useState)(""),[B,y]=(0,a.useState)(0),[S,D]=(0,a.useState)(0),[M,A]=(0,a.useState)(""),[N,X]=(0,a.useState)(0),P=(0,a.useRef)({weaponId:"",assistId:"",specialId:"",skillAId:"",skillBId:"",skillCId:"",skillXId:""}),T=(0,a.useRef)(""),Z=(0,a.useRef)(""),E=(0,a.useRef)(""),[H,R]=(0,a.useState)(""),[J,K]=(0,a.useState)(""),[W,F]=(0,a.useState)(""),[O,Q]=(0,a.useState)(""),[V,Y]=(0,a.useState)(""),[q,G]=(0,a.useState)(""),[U,z]=(0,a.useState)(""),[L,$]=(0,a.useState)(""),[ee,el]=(0,a.useState)(""),[et,es]=(0,a.useState)(""),[en,ei]=(0,a.useState)(""),[ea,er]=(0,a.useState)(""),[ec,eo]=(0,a.useState)(""),ed=(0,a.useCallback)(()=>{Z.current=P.current.weaponId,R(P.current.weaponId),K(s=>(0,m.J7)({rules2DB:e,heroDB:l,weaponDB:t,heroId:T.current,weaponId:P.current.weaponId,refineId:s})?s:"")},[l,e,t]),eu=(0,a.useCallback)(a=>{R(a),K(s=>s?(0,m.J7)({rules2DB:e,heroDB:l,weaponDB:t,heroId:T.current,weaponId:a,refineId:s})?s:"":s),F(n=>n?(0,d.ab)({rules2DB:e,heroDB:l,weaponDB:t,assistDB:s,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,assistId:n,skillXId:E.current})?n:"":n),Q(s=>s?(0,x.Hh)({rules2DB:e,heroDB:l,weaponDB:t,specialDB:n,defaultSkillDB:j,heroId:T.current,weaponId:a,specialId:s,skillXId:E.current})?s:"":s),Y(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:i,defaultSkillDB:j,heroId:T.current,weaponId:a,skillId:s,skillXId:E.current})?s:"":s),G(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:r,defaultSkillDB:j,heroId:T.current,weaponId:a,skillId:s,skillXId:E.current})?s:"":s),z(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:j,heroId:T.current,weaponId:a,skillId:s,skillXId:E.current})?s:"":s),$(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:p,defaultSkillDB:j,heroId:T.current,weaponId:a,skillId:s,skillXId:E.current})?s:"":s)},[e,l,t,s,n,i,r,c,p,j]),eh=(0,a.useCallback)(a=>{F(n=>n?(0,d.ab)({rules2DB:e,heroDB:l,weaponDB:t,assistDB:s,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,skillXId:a,assistId:n})?n:"":n),Q(s=>s?(0,x.Hh)({rules2DB:e,heroDB:l,weaponDB:t,specialDB:n,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,specialId:s,skillXId:a})?s:"":s),Y(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:i,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,skillId:s,skillXId:a})?s:"":s),G(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:r,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,skillId:s,skillXId:a})?s:"":s),z(s=>s?(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,skillId:s,skillXId:a})?s:"":s),$(a)},[e,l,t,s,n,i,r,c,j]),ep=(0,a.useCallback)(()=>{if(!P.current.assistId){F(P.current.assistId);return}(0,d.ab)({rules2DB:e,heroDB:l,weaponDB:t,assistDB:s,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,assistId:P.current.assistId,skillXId:E.current})&&F(P.current.assistId)},[e,l,t,s,j]),ek=(0,a.useCallback)(()=>{if(!P.current.specialId){Q(P.current.specialId);return}(0,x.Hh)({rules2DB:e,heroDB:l,weaponDB:t,specialDB:n,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,specialId:P.current.specialId,skillXId:E.current})&&Q(P.current.specialId)},[e,l,t,n,j]),ex=(0,a.useCallback)(()=>{if(!P.current.skillAId){Y(P.current.skillAId);return}(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:i,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,skillId:P.current.skillAId,skillXId:E.current})&&Y(P.current.skillAId)},[e,l,t,i,j]),em=(0,a.useCallback)(()=>{if(!P.current.skillBId){G(P.current.skillBId);return}(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,defaultSkillDB:j,skillDB:r,heroId:T.current,weaponId:Z.current,skillId:P.current.skillBId,skillXId:E.current})&&G(P.current.skillBId)},[e,l,t,r,j]),ef=(0,a.useCallback)(()=>{if(!P.current.skillCId){z(P.current.skillCId);return}(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:j,heroId:T.current,weaponId:Z.current,skillId:P.current.skillCId,skillXId:E.current})&&z(P.current.skillCId)},[e,l,t,c,j]),ej=(0,a.useCallback)(()=>{if(!P.current.skillXId){$(P.current.skillXId);return}(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,defaultSkillDB:j,skillDB:p,heroId:T.current,weaponId:Z.current,skillId:P.current.skillXId,skillXId:P.current.skillXId})&&$(P.current.skillXId)},[e,l,t,p,j]),eg=(0,a.useCallback)(()=>{ed(),ep(),ek(),ex(),em(),ef(),ej()},[ed,ep,ek,ex,em,ef,ej]);T.current=g,Z.current=H,E.current=L;let eb=(0,a.useCallback)(a=>{b(a),P.current=(0,l4.N)({defaultSkillDB:j,heroId:a}),R(()=>(0,m.Mw)({rules2DB:e,heroDB:l,weaponDB:t,heroId:a,weaponId:Z.current})?Z.current:""),K(s=>(0,m.J7)({rules2DB:e,heroDB:l,weaponDB:t,heroId:a,weaponId:Z.current,refineId:s})?s:""),F(n=>(0,d.ab)({rules2DB:e,heroDB:l,weaponDB:t,assistDB:s,defaultSkillDB:j,heroId:a,weaponId:Z.current,assistId:n,skillXId:E.current})?n:""),Q(s=>(0,x.Hh)({rules2DB:e,heroDB:l,weaponDB:t,specialDB:n,defaultSkillDB:j,heroId:a,weaponId:Z.current,specialId:s,skillXId:E.current})?s:""),Y(s=>(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:i,defaultSkillDB:j,heroId:a,weaponId:Z.current,skillId:s,skillXId:E.current})?s:""),G(s=>(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:r,defaultSkillDB:j,heroId:a,weaponId:Z.current,skillId:s,skillXId:E.current})?s:""),z(s=>(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:j,heroId:a,weaponId:Z.current,skillId:s,skillXId:E.current})?s:""),$(s=>(0,k.hJ)({rules2DB:e,heroDB:l,weaponDB:t,skillDB:p,defaultSkillDB:j,heroId:a,weaponId:Z.current,skillId:s,skillXId:E.current})?s:""),el(t=>!function(e){let{rules2DB:l,heroDB:t,sealDB:s,heroId:n,sealId:i}=e;if(!t||!s||!n||!i)return!1;let a=(0,u.cK)(t,n);if(!a)return!1;let r=s.skillA[i]||s.skillB[i]||s.skillC[i]||s.seal[i];return!!r&&(0,h.O3)({rules2DB:l,ruleId:r.rules,moveType:a.moveType,colorType:a.colorType,weaponType:a.weaponType})}({rules2DB:e,heroDB:l,sealDB:f,heroId:a,sealId:t})?"":t);let o="mythic"===(0,u.cK)(l,a).pool;es(e=>o?"":e),ei(e=>o?"":e),er(e=>o?"":e),eo(e=>o?"":e)},[e,l,t,s,n,i,r,c,p,f,j]),[eI,ev]=(0,a.useState)(!1),ew=(0,a.useCallback)(()=>{ev(e=>!e)},[]),[eC,e_]=(0,a.useState)(!1),eB=(0,a.useCallback)(()=>{e_(e=>!e)},[]),[ey,eS]=(0,a.useState)(""),[eD,eM]=(0,a.useState)(0),[eA,eN]=(0,a.useState)(!1),eX=(0,a.useCallback)(()=>{eN(e=>!e)},[]),[eP,eT]=(0,a.useState)(-1),[eZ,eE]=(0,a.useState)(!1),eH=(0,a.useCallback)(()=>{eE(e=>!e)},[]),[eR,eJ]=(0,a.useState)(!0),eK=(0,a.useCallback)(()=>{eJ(e=>!e)},[]),[eW,eF]=(0,a.useState)(!1),eO=(0,a.useCallback)(()=>{eF(!0)},[]),eQ=(0,a.useCallback)(()=>{eF(!1)},[]);return{heroId:g,onChangeHero:eb,rarity:I,setRarity:w,iv:C,setIV:_,merge:B,setMerge:y,dragonflower:S,setDragonflower:D,blessing:M,setBlessing:A,support:N,setSupport:X,arena:eI,toggleArena:ew,resplendent:eC,toggleResplendent:eB,bloom:ey,setBloom:eS,emblemMerge:eD,setEmblemMerge:eM,aided:eA,toggleAided:eX,chosenMerge:eP,setChosenMerge:eT,weaponId:H,setWeaponId:eu,refine:J,setRefine:K,assistId:W,setAssistId:F,specialId:O,setSpecialId:Q,skillAId:V,setSkillAId:Y,skillBId:q,setSkillBId:G,skillCId:U,setSkillCId:z,skillXId:L,setSkillXId:eh,sealId:ee,setSealId:el,mythicBonus1:et,setMythicBonus1:es,mythicBonus2:en,setMythicBonus2:ei,mythicBonus3:ea,setMythicBonus3:er,mythicBonus4:ec,setMythicBonus4:eo,setDefaultWeapon:ed,setDefaultAssist:ep,setDefaultSpecial:ek,setDefaultSkillA:ex,setDefaultSkillB:em,setDefaultSkillC:ef,setDefaultSkillX:ej,setAllSkillDefault:eg,lv1:eZ,toggleLv1:eH,maxSkill:eR,toggleMaxSkill:eK,bg:(0,o.Z)("/assets/summon-stone.jpg"),editorIsOpen:eW,openEditor:eO,closeEditor:eQ}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:"單兵製造機"})}),(0,s.jsx)("div",{style:{background:"url('".concat(ev,"') center / cover no-repeat fixed")},children:(0,s.jsxs)("div",{className:l1().container,children:[(0,s.jsx)("div",{className:l1().viewer,children:(0,s.jsx)(ec,{heroId:e,rarity:t,iv:r,merge:p,dragonflower:j,blessing:b,support:w,arena:_,resplendent:y,bloom:D,emblemMerge:A,aided:X,chosenMerge:T,mythicBonus1:el,mythicBonus2:es,mythicBonus3:ei,mythicBonus4:er,weaponId:E,refine:R,assistId:K,specialId:F,skillAId:Q,skillBId:Y,skillCId:G,skillXId:z,sealId:$,lv1:ej,openEditor:eC})}),(0,s.jsx)("div",{className:l1().editor,hidden:!ew,children:(0,s.jsx)(l$,{heroId:e,onChangeHero:l,rarity:t,setRarity:n,iv:r,setIV:c,merge:p,setMerge:f,dragonflower:j,setDragonflower:g,blessing:b,setBlessing:I,support:w,setSupport:C,arena:_,toggleArena:B,resplendent:y,toggleResplendent:S,bloom:D,setBloom:M,emblemMerge:A,setEmblemMerge:N,aided:X,toggleAided:P,chosenMerge:T,setChosenMerge:Z,weaponId:E,setWeaponId:H,refine:R,setRefine:J,assistId:K,setAssistId:W,specialId:F,setSpecialId:O,skillAId:Q,setSkillAId:V,skillBId:Y,setSkillBId:q,skillCId:G,setSkillCId:U,skillXId:z,setSkillXId:L,sealId:$,setSealId:ee,mythicBonus1:el,setMythicBonus1:et,mythicBonus2:es,setMythicBonus2:en,mythicBonus3:ei,setMythicBonus3:ea,mythicBonus4:er,setMythicBonus4:eo,setDefaultWeapon:ed,setDefaultAssist:eu,setDefaultSpecial:eh,setDefaultSkillA:ep,setDefaultSkillB:ek,setDefaultSkillC:ex,setDefaultSkillX:em,setAllSkillDefault:ef,lv1:ej,toggleLv1:eg,maxSkill:eb,toggleMaxSkill:eI,closeEditor:e_})})]})})]})}var l9=function(){return(0,s.jsx)(l0.Z,{children:(0,s.jsx)(l5,{})})},l8=function(){return(0,s.jsx)(l9,{})}},5273:function(e){e.exports={blessing:"blessing_blessing__blnCv","blessing-name":"blessing_blessing-name__ziDWm"}},9083:function(e){e.exports={checked:"checkbox_checked__FRt9o",button:"checkbox_button__A9wGG"}},3497:function(e){e.exports={container:"styles_container__xVglQ","neutral-button":"styles_neutral-button__3Jy3p","blessing-button":"styles_blessing-button__uTuYg"}},7722:function(e){e.exports={container:"styles_container__LXEcn","neutral-button":"styles_neutral-button__96Tz7","bloom-button":"styles_bloom-button__YS896","bonus-button":"styles_bonus-button__qw3DR"}},3060:function(e){e.exports={picker:"heropicker_picker__XC68o"}},7396:function(e){e.exports={container:"styles_container__tZQ1M","neutral-button":"styles_neutral-button__g5gLf","iv-button":"styles_iv-button__E4oc0"}},424:function(e){e.exports={container:"styles_container__X7OjJ","neutral-button":"styles_neutral-button__Ge9UB","bonus-button":"styles_bonus-button__Eneum"}},2849:function(e){e.exports={refineName:"refineOption_refineName__rieWk",might:"refineOption_might__M5cZj",extractStats:"refineOption_extractStats__0xT_z",extractStat:"refineOption_extractStat__eVD8s"}},5011:function(e){e.exports={container:"styles_container__2sx4y","neutral-button":"styles_neutral-button__JiAEg","support-button":"styles_support-button__1HX0H"}},6902:function(e){e.exports={button:"editor_button__1Aj_h","title-and-content":"editor_title-and-content__70u4A",title:"editor_title__G7mXS","title-textgroup":"editor_title-textgroup__j5Pdh",content:"editor_content__N3y0j",section:"editor_section__Gd9W0","section-group":"editor_section-group___l6ak","hero-header":"editor_hero-header__8nv2V","button-content":"editor_button-content__KL_Lj","editor-img":"editor_editor-img__JmqNm","close-button":"editor_close-button__bPesF",container:"editor_container__jmHAB",input:"editor_input__V7XSN",options:"editor_options__IAlm_",optionsContainer:"editor_optionsContainer__xApnj",skillTitle:"editor_skillTitle__76dd8",skillName:"editor_skillName__RBSFh",skillSp:"editor_skillSp__4PqOu",might:"editor_might__0oY2D",extractStats:"editor_extractStats__e5tKT",extractStat:"editor_extractStat__luCo4",subTitle:"editor_subTitle__tfF5U",spButtons:"editor_spButtons__1ZKIN",listItems:"editor_listItems__kTlQH"}},9445:function(e){e.exports={skillTitle:"skillInfo_skillTitle__RXdU7",skillName:"skillInfo_skillName__meSQy",skillSp:"skillInfo_skillSp__WYlYJ",might:"skillInfo_might__g_UNX",extractStats:"skillInfo_extractStats__cwe7j",extractStat:"skillInfo_extractStat__1diNO"}},8485:function(e){e.exports={weaponTitle:"weaponInfo_weaponTitle__wVM5U",weaponName:"weaponInfo_weaponName__IfHcA",weaponSp:"weaponInfo_weaponSp__OrRZt",might:"weaponInfo_might__UnhBc",extractStats:"weaponInfo_extractStats__vwVGU",extractStat:"weaponInfo_extractStat__xMLPX"}},7601:function(e){e.exports={label:"labelcheckbox_label___erAl","label-checkbox":"labelcheckbox_label-checkbox__qO_m4"}},3851:function(e){e.exports={button:"optionButton_button__iR7_I"}},9241:function(e){e.exports={container:"optionpicker_container__QpNPx",wrapper:"optionpicker_wrapper__hCoe_",button0:"optionpicker_button0__fl2dC"}},7951:function(e){e.exports={raritypicker:"raritypicker_raritypicker__wCStY"}},9513:function(e){e.exports={canvas:"UnitViewer_canvas___W2lj",container:"UnitViewer_container__G_o5P",button:"UnitViewer_button__z21Hj",download:"UnitViewer_download__R__70",menu:"UnitViewer_menu__NqcaY"}},2881:function(e){e.exports={container:"UnitEditor_container__Evp4h",viewer:"UnitEditor_viewer__04nZI",editor:"UnitEditor_editor__y_Qoc"}}},function(e){e.O(0,[381,26,922,949,888,774,179],function(){return e(e.s=6314)}),_N_E=e.O()}]);