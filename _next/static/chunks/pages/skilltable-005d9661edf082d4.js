(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{4606:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/skilltable",function(){return t(4290)}])},4290:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Pe}});var s=t(5893),r=t(9008),i=t(449),l=t(7294),o=t(2718),a=t(8219),c=t(959),u=t(5452),d=t(6730),h=t(4411),p=t(2683),f=t(3846),m=t(1541),x=t(1160);var v=t(9657),j=t.n(v),k=t(8180);var b=function(e){var n=e.skill;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k.pp,{children:[(0,s.jsxs)(k.bP,{children:[n.icon&&(0,s.jsx)(k.JO,{src:"/skills/".concat(n.icon)}),n.name]}),(0,s.jsxs)(k.n0,{children:[n.sp,"SP"]})]}),n.mt&&(0,s.jsxs)(k.XR,{children:["\u5a01\u529b ",n.mt]}),n.cd&&(0,s.jsxs)(k.eM,{cd:n.cd,children:["\u5967\u7fa9 cd",(0,k.lG)(n.cd)]}),(0,s.jsxs)(k.lJ,{children:[n.hp&&(0,s.jsxs)(k.i5,{children:["HP ",(0,k.lG)(n.hp)]}),n.atk&&(0,s.jsxs)(k.i5,{children:["\u653b\u64ca ",(0,k.lG)(n.atk)]}),n.spd&&(0,s.jsxs)(k.i5,{children:["\u901f\u5ea6 ",(0,k.lG)(n.spd)]}),n.def&&(0,s.jsxs)(k.i5,{children:["\u9632\u5b88 ",(0,k.lG)(n.def)]}),n.res&&(0,s.jsxs)(k.i5,{children:["\u9b54\u9632 ",(0,k.lG)(n.res)]})]}),n.exclusive&&(0,s.jsx)(k.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]}):null};var y=function(e){var n=e.assist;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k.pp,{children:[(0,s.jsx)(k.bP,{children:n.name}),(0,s.jsxs)(k.n0,{children:[n.sp,"SP"]})]}),n.exclusive&&(0,s.jsx)(k.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]}):null};var g=function(e){var n=e.special;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(k.pp,{children:[(0,s.jsx)(k.bP,{children:n.name}),(0,s.jsxs)(k.n0,{children:[n.sp,"SP"]})]}),(0,s.jsxs)("div",{children:["CD ",n.cd]}),n.exclusive&&(0,s.jsx)(k.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]}):null};function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){w(e,n,t[n])}))}return e}var C=function(e){var n=e.className,t=function(e){var n=e.heroId,t=(0,u.K)(),s=t.heroDB,r=t.defaultSkillDB,i=t.weaponDB,o=t.assistDB,a=t.specialDB,c=t.skillADB,v=t.skillBDB,j=t.skillCDB,k=t.skillXDB,b=(0,l.useMemo)((function(){return s[n]}),[s,n]),y=(0,l.useMemo)((function(){return(0,d.eM)(b)}),[b]),g=(0,l.useMemo)((function(){return(0,h.N)({defaultSkillDB:r,heroId:n})}),[r,n]);return{heroHeaderInfo:y,weapon:(0,l.useMemo)((function(){return(0,p.i7)({heroDB:s,weaponDB:i,heroId:n,weaponId:g.weaponId})}),[g.weaponId,s,n,i]),assist:(0,l.useMemo)((function(){return(0,f.NV)({assistDB:o,assistId:g.assistId})}),[o,g.assistId]),special:(0,l.useMemo)((function(){return(0,m.cf)({specialDB:a,specialId:g.specialId})}),[g.specialId,a]),skillA:(0,l.useMemo)((function(){return(0,x.PU)({skillDB:c,skillId:g.skillAId})}),[g.skillAId,c]),skillB:(0,l.useMemo)((function(){return(0,x.PU)({skillDB:v,skillId:g.skillBId})}),[g.skillBId,v]),skillC:(0,l.useMemo)((function(){return(0,x.PU)({skillDB:j,skillId:g.skillCId})}),[g.skillCId,j]),skillX:(0,l.useMemo)((function(){return(0,x.PU)({skillDB:k,skillId:g.skillXId})}),[g.skillXId,k])}}({heroId:e.heroId}),r=t.heroHeaderInfo,i=t.weapon,v=t.assist,k=t.special,w=t.skillA,C=t.skillB,B=t.skillC,I=t.skillX;return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("div",{className:j().heroInfo,children:(0,s.jsx)(a.Z,_({},r))}),(0,s.jsxs)("div",{className:j().infoGrid,children:[(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/skills/weapon.png"}),"\u6b66\u5668"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(c.Z,{weapon:i})}),(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/skills/assist.png"}),"\u8f14\u52a9"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(y,{assist:v})}),(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/skills/special.png"}),"\u5967\u7fa9"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(g,{special:k})}),(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/assets/skill-a.png"}),"A\u6280\u80fd"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(b,{skill:w})}),(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/assets/skill-b.png"}),"B\u6280\u80fd"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(b,{skill:C})}),(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/assets/skill-c.png"}),"C\u6280\u80fd"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(b,{skill:B})}),I&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:j().type,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",src:"/assets/skill-x.png"}),"X\u6280\u80fd"]}),(0,s.jsx)("div",{className:j().info,children:(0,s.jsx)(b,{skill:I})})]})]})]})},B=t(8417),I=t(6738),D=t(1728),N=t(7623),O=t.n(N),S=t(7413),T=l.createContext(null),M=t(1591),Z=t(1820),P=t(6119),A=t(714),F=t(200),G=t(2267),L=t(9619),q=t.n(L);function R(e){var n=e.hero,t=(0,S.dk)(n.blessing);return(0,s.jsx)(o.Z,{src:t,loading:"lazy",width:"44",height:"48",style:{zoom:.5,filter:"drop-shadow(4px 4px 4px black)"}})}function z(e){var n=e.hero,t=(0,S.dk)(n.blessing);return(0,s.jsx)(o.Z,{src:t,loading:"lazy",width:"44",height:"48",style:{zoom:.5,filter:"drop-shadow(4px 4px 4px black)"}})}function E(e){var n=e.hero;if(n.ascended||n.rearmed)return(0,s.jsx)(M.Z,{ascended:n.ascended,rearmed:n.rearmed,style:{zoom:.5,filter:"drop-shadow(-4px 4px 4px black)"}});switch(n.pool){case"grail":return(0,s.jsx)(P.Z,{style:{zoom:.5,filter:"drop-shadow(4px 4px 4px black)"}});case"legendary":return(0,s.jsx)(R,{hero:n});case"mythic":return(0,s.jsx)(z,{hero:n});case"duo":return(0,s.jsx)(Z.Z,{style:{zoom:.5,filter:"drop-shadow(4px 4px 4px black)"}});case"harmonized":return(0,s.jsx)(A.Z,{style:{zoom:.5,filter:"drop-shadow(4px 4px 4px black)"}})}return n.rarity.length>1?(0,s.jsx)(F.Z,{style:{zoom:.5}}):(0,s.jsx)(G.Z,{style:{zoom:.5}})}var K=function(e){var n=e.hero,t=(0,l.useContext)(T).setHeroId;return(0,s.jsxs)("button",{className:q().heroIcon,onClick:function(){t(n.id)},children:[(0,s.jsx)(o.Z,{src:"/faces/".concat(n.id,".png"),loading:"lazy",width:79,height:79,title:n.name},n.id),(0,s.jsx)("div",{className:q().poolIcon,children:(0,s.jsx)(E,{hero:n})})]})};function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){W(e,n,t[n])}))}return e}function X(e){var n=e.inheritablesDB,t=e.weaponGroup;if(!n||!n.weapon||!t)return[];var s=n.weapon[t];return s?Object.values(s).map((function(e){return U({query:"".concat(e.id.toLowerCase(),"|").concat(e.name)},e)})):[]}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function J(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return H(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=["#","grail","legendary","mythic","special","duo","harmonized"];function Q(e){var n=e.skill,t=(0,u.K)().heroDB;return(0,l.useMemo)((function(){var e=n.pool||{},s=[];return V.forEach((function(n){var t=e[n];t&&Object.keys(t).forEach((function(e){s=s.concat(t[e])}))})),(0,d.oc)({heroDB:t,heroIds:s})}),[t,n])}function Y(e){var n=e.filter,t=(0,u.K)().inheritablesDB,s=(0,l.useMemo)((function(){return function(e){var n=e.inheritablesDB;return n&&n.assist?Object.values(n.assist).map((function(e){return U({query:"".concat(e.id.toLowerCase(),"|").concat(e.name)},e)})):[]}({inheritablesDB:t})}),[t]),r=(0,l.useMemo)((function(){var e={};s.forEach((function(n){e[n.sp]=n.sp}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[s]),i=(0,l.useState)([]),o=i[0],a=i[1],c=(0,l.useCallback)((function(e){var n=+e.currentTarget.value;a((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):J(e).concat([n])}))}),[]),d=(0,l.useMemo)((function(){return s.filter((function(e){return!!e.id.startsWith("_")||!(n&&!e.query.includes(n.toLowerCase()))&&!(o.length&&!o.includes(e.sp))}))}),[n,s,o]);return{options:d,spOptions:r,spChecked:o,onCheckSp:c}}function $(e){var n=e.filter,t=(0,u.K)(),s=t.inheritablesDB,r=t.specialDB,i=(0,l.useMemo)((function(){return function(e){var n=e.inheritablesDB,t=e.specialDB;return n&&n.special?Object.values(n.special).map((function(e){return U({query:"".concat(e.id.toLowerCase(),"|").concat(e.name)},e,{rules:(0,x.PU)({skillDB:t,skillId:e.id}).rules})})):[]}({inheritablesDB:s,specialDB:r})}),[s,r]),o=(0,l.useMemo)((function(){var e={};i.forEach((function(n){e[n.sp]=n.sp}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[i]),a=(0,l.useState)([]),c=a[0],d=a[1],h=(0,l.useCallback)((function(e){var n=+e.currentTarget.value;d((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):J(e).concat([n])}))}),[]),p=(0,l.useMemo)((function(){return i.filter((function(e){return!!e.id.startsWith("_")||!(n&&!e.query.includes(n.toLowerCase()))&&!(c.length&&!c.includes(e.sp))}))}),[n,i,c]);return{options:p,spOptions:o,spChecked:c,onCheckSp:h}}function ee(e){var n=e.filter,t=(0,u.K)(),s=t.inheritablesDB,r=t.skillADB,i=(0,l.useMemo)((function(){return function(e){var n=e.inheritablesDB,t=e.skillADB;return n&&n.skillA?Object.values(n.skillA).map((function(e){return U({query:"".concat(e.id.toLowerCase(),"|").concat(e.name)},e,{rules:(0,x.PU)({skillDB:t,skillId:e.id}).rules})})):[]}({inheritablesDB:s,skillADB:r})}),[s,r]),o=(0,l.useMemo)((function(){var e={};i.forEach((function(n){e[n.sp]=n.sp}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[i]),a=(0,l.useState)([]),c=a[0],d=a[1],h=(0,l.useCallback)((function(e){var n=+e.currentTarget.value;d((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):J(e).concat([n])}))}),[]),p=(0,l.useMemo)((function(){return i.filter((function(e){return!!e.id.startsWith("_")||!(n&&!e.query.includes(n.toLowerCase()))&&!(c.length&&!c.includes(e.sp))}))}),[n,i,c]);return{options:p,spOptions:o,spChecked:c,onCheckSp:h}}function ne(e){var n=e.filter,t=(0,u.K)(),s=t.inheritablesDB,r=t.skillBDB,i=(0,l.useMemo)((function(){return function(e){var n=e.inheritablesDB,t=e.skillBDB;return n&&n.skillB?Object.values(n.skillB).map((function(e){return U({query:"".concat(e.id.toLowerCase(),"|").concat(e.name)},e,{rules:(0,x.PU)({skillDB:t,skillId:e.id}).rules})})):[]}({inheritablesDB:s,skillBDB:r})}),[s,r]),o=(0,l.useMemo)((function(){var e={};i.forEach((function(n){e[n.sp]=n.sp}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[i]),a=(0,l.useState)([]),c=a[0],d=a[1],h=(0,l.useCallback)((function(e){var n=+e.currentTarget.value;d((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):J(e).concat([n])}))}),[]),p=(0,l.useMemo)((function(){return i.filter((function(e){return!!e.id.startsWith("_")||!(n&&!e.query.includes(n.toLowerCase()))&&!(c.length&&!c.includes(e.sp))}))}),[n,i,c]);return{options:p,spOptions:o,spChecked:c,onCheckSp:h}}function te(e){var n=e.filter,t=(0,u.K)(),s=t.inheritablesDB,r=t.skillCDB,i=(0,l.useMemo)((function(){return function(e){var n=e.inheritablesDB,t=e.skillCDB;return n&&n.skillC?Object.values(n.skillC).map((function(e){return U({query:"".concat(e.id.toLowerCase(),"|").concat(e.name)},e,{rules:(0,x.PU)({skillDB:t,skillId:e.id}).rules})})):[]}({inheritablesDB:s,skillCDB:r})}),[s,r]),o=(0,l.useMemo)((function(){var e={};i.forEach((function(n){e[n.sp]=n.sp}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[i]),a=(0,l.useState)([]),c=a[0],d=a[1],h=(0,l.useCallback)((function(e){var n=+e.currentTarget.value;d((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):J(e).concat([n])}))}),[]),p=(0,l.useMemo)((function(){return i.filter((function(e){return!!e.id.startsWith("_")||(n?e.query.includes(n.toLowerCase()):!c.length||c.includes(e.sp))}))}),[n,i,c]);return{options:p,spOptions:o,spChecked:c,onCheckSp:h}}function se(e){var n=e.skill,t=Q({skill:n});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:q().name,children:[n.name,(0,s.jsxs)("span",{className:q().sp,children:[n.sp," SP"]})]}),(0,s.jsx)("div",{className:q().heroIcons,children:t.map((function(e){return(0,s.jsx)(K,{hero:e},e.id)}))})]})}function re(e){var n=e.index,t=e.style,r=e.data.skills[n];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(se,{skill:r},r.id)})}var ie=function(e){var n=Y({filter:e.filter}),t=n.options,r=n.spOptions,i=n.spChecked,o=n.onCheckSp,a=(0,l.useMemo)((function(){return{skills:t}}),[t]),c=(0,l.useCallback)((function(e){return t[e].id.startsWith("_")?48:143}),[t]),u=(0,l.useCallback)((function(e){return t[e].id}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().spButtons,children:r.map((function(e){return(0,s.jsx)("button",{type:"button",value:e,"data-active":i.includes(e),onClick:o,children:e},e)}))}),(0,s.jsx)("div",{className:O().listItems,children:(0,s.jsx)(D.Z,{children:function(e){var n=e.width,r=e.height;return(0,s.jsx)(I.S_,{width:n,height:r,itemCount:t.length,itemSize:c,itemData:a,itemKey:u,children:re},t.length)}})})]})},le=t(2734),oe=t(243),ae=t(5842),ce=t(8979);var ue=function(e){var n=e.ruleId,t=(0,u.K)().rules2DB,r=(0,l.useContext)(T),i=r.moveTypeToRule2List,o=r.weaponTypeToRule2List,a=(0,l.useMemo)((function(){var e=(0,le.o7)({rules2DB:t,ruleId:n});if(!e)return{moveTypeOptions:[],weaponTypeOptions:[]};var s=i.filter((function(n){return(0,le.ob)({rule2A:e,rule2B:n.rule2})})).map((function(e){return e.moveType})),r=o.filter((function(n){return(0,le.ob)({rule2A:e,rule2B:n.rule2})})).map((function(e){return e.weaponType}));return{moveTypeOptions:oe.dM.length===s.length?[]:s,weaponTypeOptions:oe.s6.length===r.length?[]:r}}),[t,n,i,o]),c=a.moveTypeOptions,d=a.weaponTypeOptions;return(0,s.jsxs)(s.Fragment,{children:[c.map((function(e){return(0,s.jsx)("div",{className:q().inheritor,children:(0,s.jsx)(ae.Z,{moveType:e})},e)})),d.map((function(e){return(0,s.jsx)("div",{className:q().inheritor,children:(0,s.jsx)(ce.Z,{weaponType:e})},e)}))]})};function de(e){var n=e.skill,t=Q({skill:n});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:q().name,children:[n.icon&&(0,s.jsx)(o.Z,{src:"/skills/".concat(n.icon),width:26,height:26}),n.name,(0,s.jsxs)("span",{className:q().sp,children:[n.sp," SP"]})]}),(0,s.jsx)("div",{className:q().inheritors,children:(0,s.jsx)(ue,{ruleId:n.rules})}),(0,s.jsx)("div",{className:q().heroIcons,children:t.map((function(e){return(0,s.jsx)(K,{hero:e},e.id)}))})]})}function he(e){var n=e.index,t=e.style,r=e.data.skills[n];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(de,{skill:r},r.id)})}var pe=function(e){var n=ee({filter:e.filter}),t=n.options,r=n.spOptions,i=n.spChecked,o=n.onCheckSp,a=(0,l.useMemo)((function(){return{skills:t}}),[t]),c=(0,l.useCallback)((function(e){var n=t[e];if(n.id.startsWith("_"))return 48;return n.rules?191:143}),[t]),u=(0,l.useCallback)((function(e){return t[e].id}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().spButtons,children:r.map((function(e){return(0,s.jsx)("button",{type:"button",value:e,"data-active":i.includes(e),onClick:o,children:e},e)}))}),(0,s.jsx)("div",{className:O().listItems,children:(0,s.jsx)(D.Z,{children:function(e){var n=e.width,r=e.height;return(0,s.jsx)(I.S_,{width:n,height:r,itemCount:t.length,itemSize:c,itemData:a,itemKey:u,children:he},t.length)}})})]})};function fe(e){var n=e.skill,t=Q({skill:n});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:q().name,children:[n.icon&&(0,s.jsx)(o.Z,{src:"/skills/".concat(n.icon),width:26,height:26}),n.name,(0,s.jsxs)("span",{className:q().sp,children:[n.sp," SP"]})]}),(0,s.jsx)("div",{className:q().inheritors,children:(0,s.jsx)(ue,{ruleId:n.rules})}),(0,s.jsx)("div",{className:q().heroIcons,children:t.map((function(e){return(0,s.jsx)(K,{hero:e},e.id)}))})]})}function me(e){var n=e.index,t=e.style,r=e.data.skills[n];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(fe,{skill:r},r.id)})}var xe=function(e){var n=ne({filter:e.filter}),t=n.options,r=n.spOptions,i=n.spChecked,o=n.onCheckSp,a=(0,l.useMemo)((function(){return{skills:t}}),[t]),c=(0,l.useCallback)((function(e){var n=t[e];if(n.id.startsWith("_"))return 48;return n.rules?191:143}),[t]),u=(0,l.useCallback)((function(e){return t[e].id}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().spButtons,children:r.map((function(e){return(0,s.jsx)("button",{type:"button",value:e,"data-active":i.includes(e),onClick:o,children:e},e)}))}),(0,s.jsx)("div",{className:O().listItems,children:(0,s.jsx)(D.Z,{children:function(e){var n=e.width,r=e.height;return(0,s.jsx)(I.S_,{width:n,height:r,itemCount:t.length,itemSize:c,itemData:a,itemKey:u,children:me},t.length)}})})]})};function ve(e){var n=e.skill,t=Q({skill:n});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:q().name,children:[n.icon&&(0,s.jsx)(o.Z,{src:"/skills/".concat(n.icon),width:26,height:26}),n.name,(0,s.jsxs)("span",{className:q().sp,children:[n.sp," SP"]})]}),(0,s.jsx)("div",{className:q().inheritors,children:(0,s.jsx)(ue,{ruleId:n.rules})}),(0,s.jsx)("div",{className:q().heroIcons,children:t.map((function(e){return(0,s.jsx)(K,{hero:e},e.id)}))})]})}function je(e){var n=e.index,t=e.style,r=e.data.skills[n];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(ve,{skill:r},r.id)})}var ke=function(e){var n=te({filter:e.filter}),t=n.options,r=n.spOptions,i=n.spChecked,o=n.onCheckSp,a=(0,l.useMemo)((function(){return{skills:t}}),[t]),c=(0,l.useCallback)((function(e){var n=t[e];if(n.id.startsWith("_"))return 48;return n.rules?191:143}),[t]),u=(0,l.useCallback)((function(e){return t[e].id}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().spButtons,children:r.map((function(e){return(0,s.jsx)("button",{type:"button",value:e,"data-active":i.includes(e),onClick:o,children:e},e)}))}),(0,s.jsx)("div",{className:O().listItems,children:(0,s.jsx)(D.Z,{children:function(e){var n=e.width,r=e.height;return(0,s.jsx)(I.S_,{width:n,height:r,itemCount:t.length,itemSize:c,itemData:a,itemKey:u,children:je},t.length)}})})]})};function be(e){var n=e.skill,t=Q({skill:n});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:q().name,children:[n.name,(0,s.jsxs)("span",{className:q().sp,children:[n.sp," SP"]})]}),(0,s.jsx)("div",{className:q().inheritors,children:(0,s.jsx)(ue,{ruleId:n.rules})}),(0,s.jsx)("div",{className:q().heroIcons,children:t.map((function(e){return(0,s.jsx)(K,{hero:e},e.id)}))})]})}function ye(e){var n=e.index,t=e.style,r=e.data.skills[n];return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(be,{skill:r},r.id)})}var ge=function(e){var n=$({filter:e.filter}),t=n.options,r=n.spOptions,i=n.spChecked,o=n.onCheckSp,a=(0,l.useMemo)((function(){return{skills:t}}),[t]),c=(0,l.useCallback)((function(e){var n=t[e];if(n.id.startsWith("_"))return 48;return n.rules?191:143}),[t]),u=(0,l.useCallback)((function(e){return t[e].id}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().spButtons,children:r.map((function(e){return(0,s.jsx)("button",{type:"button",value:e,"data-active":i.includes(e),onClick:o,children:e},e)}))}),(0,s.jsx)("div",{className:O().listItems,children:(0,s.jsx)(D.Z,{children:function(e){var n=e.width,r=e.height;return(0,s.jsx)(I.S_,{width:n,height:r,itemCount:t.length,itemSize:c,itemData:a,itemKey:u,children:ye},t.length)}})})]})};function we(e){var n=e.skill,t=Q({skill:n});return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:q().name,children:[n.name,(0,s.jsxs)("span",{className:q().sp,children:[n.sp," SP"]})]}),(0,s.jsx)("div",{className:q().heroIcons,children:t.map((function(e){return(0,s.jsx)(K,{hero:e},e.id)}))})]})}function _e(e){var n=e.index,t=e.style,r=e.data.skills[n];if(r.id.startsWith("_")){var i=r.id.substring(1);"dragon"===i||"beast"===i?i="red-".concat(i):"bow"!==i&&"dagger"!==i||(i="white-".concat(i));var l=i;return(0,s.jsx)("div",{style:t,children:(0,s.jsxs)("div",{className:q().weaponGroup,children:[(0,s.jsx)("div",{className:q().icon,children:(0,s.jsx)(ce.Z,{weaponType:l})}),r.name]})})}return(0,s.jsx)("div",{style:t,children:(0,s.jsx)(we,{skill:r},r.id)})}var Ce=function(e){var n=function(e){var n=e.filter,t=(0,u.K)().inheritablesDB,s=(0,l.useMemo)((function(){var e=X({inheritablesDB:t,weaponGroup:"red-sword"}),n=X({inheritablesDB:t,weaponGroup:"blue-lance"}),s=X({inheritablesDB:t,weaponGroup:"green-axe"}),r=X({inheritablesDB:t,weaponGroup:"white-staff"}),i=X({inheritablesDB:t,weaponGroup:"dragon"}),l=X({inheritablesDB:t,weaponGroup:"red-tome"}),o=X({inheritablesDB:t,weaponGroup:"blue-tome"}),a=X({inheritablesDB:t,weaponGroup:"green-tome"}),c=X({inheritablesDB:t,weaponGroup:"white-tome"}),u=X({inheritablesDB:t,weaponGroup:"bow"}),d=X({inheritablesDB:t,weaponGroup:"dagger"});return[{id:"_red-sword",name:"",query:""}].concat(J(e),[{id:"_blue-lance",name:"",query:""}],J(n),[{id:"_green-axe",name:"",query:""}],J(s),[{id:"_white-staff",name:"",query:""}],J(r),[{id:"_dragon",name:"",query:""}],J(i),[{id:"_red-tome",name:"",query:""}],J(l),[{id:"_blue-tome",name:"",query:""}],J(o),[{id:"_green-tome",name:"",query:""}],J(a),[{id:"_white-tome",name:"",query:""}],J(c),[{id:"_bow",name:"",query:""}],J(u),[{id:"_dagger",name:"",query:""}],J(d))}),[t]),r=(0,l.useMemo)((function(){var e={};s.forEach((function(n){e[n.sp]=n.sp}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[s]),i=(0,l.useState)([]),o=i[0],a=i[1],c=(0,l.useCallback)((function(e){var n=+e.currentTarget.value;a((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):(e.push(n),e)}))}),[]),d=(0,l.useMemo)((function(){return s.filter((function(e){return!!e.id.startsWith("_")||!(n&&!e.query.includes(n.toLowerCase()))&&!(o.length&&!o.includes(e.sp))}))}),[n,s,o]);return{options:d,spOptions:r,spChecked:o,onCheckSp:c}}({filter:e.filter}),t=n.options,r=n.spOptions,i=n.spChecked,o=n.onCheckSp,a=(0,l.useMemo)((function(){return{skills:t}}),[t]),c=(0,l.useCallback)((function(e){return t[e].id.startsWith("_")?48:143}),[t]),d=(0,l.useCallback)((function(e){return t[e].id}),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:O().spButtons,children:r.map((function(e){return(0,s.jsx)("button",{type:"button",value:e,"data-active":i.includes(e),onClick:o,children:e},e)}))}),(0,s.jsx)("div",{className:O().listItems,children:(0,s.jsx)(D.Z,{children:function(e){var n=e.width,r=e.height;return(0,s.jsx)(I.S_,{width:n,height:r,itemCount:t.length,itemSize:c,itemData:a,itemKey:d,children:_e},t.length)}})})]})};var Be=function(e){var n=e.skillType,t=e.filter;return"weapon"===n?(0,s.jsx)(Ce,{filter:t}):"assist"===n?(0,s.jsx)(ie,{filter:t}):"special"===n?(0,s.jsx)(ge,{filter:t}):"skillA"===n?(0,s.jsx)(pe,{filter:t}):"skillB"===n?(0,s.jsx)(xe,{filter:t}):"skillC"===n?(0,s.jsx)(ke,{filter:t}):null};function Ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function De(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){Ie(e,n,t[n])}))}return e}var Ne=function(){var e=function(){var e=(0,u.K)().rules2DB,n=(0,l.useState)("weapon"),t=n[0],s=n[1],r=(0,l.useState)(""),i=r[0],o=r[1],a=(0,l.useCallback)((function(e){o(e.currentTarget.value)}),[]),c=(0,l.useState)(""),d=c[0],h=c[1],p=(0,l.useMemo)((function(){var n=[],t=[];return oe.dM.forEach((function(t){var s=(0,le.o7)({rules2DB:e,ruleId:t});n.push({moveType:t,rule2:s})})),oe.s6.forEach((function(n){var s=n.split("-")[0],r=(0,le.o7)({rules2DB:e,ruleId:s}),i=(0,le.o7)({rules2DB:e,ruleId:n});t.push({weaponType:n,rule2:De({},r,i)})})),{moveTypeToRule2List:n,weaponTypeToRule2List:t}}),[e]);return{skillType:t,onClickButton:function(e){e.stopPropagation(),s(e.currentTarget.value)},filter:i,onChangeFilter:a,heroId:d,setHeroId:h,moveTypeToRule2List:p.moveTypeToRule2List,weaponTypeToRule2List:p.weaponTypeToRule2List}}(),n=e.heroId,t=e.setHeroId,r=e.onClickButton,i=e.filter,a=e.onChangeFilter,c=e.skillType,d=e.moveTypeToRule2List,h=e.weaponTypeToRule2List;return(0,s.jsxs)(T.Provider,{value:{heroId:n,setHeroId:t,moveTypeToRule2List:d,weaponTypeToRule2List:h},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:O().buttons,children:[(0,s.jsxs)("button",{type:"button",value:"weapon",disabled:"weapon"===c,onClick:r,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"\u6b66\u5668"]}),(0,s.jsxs)("button",{type:"button",value:"assist",disabled:"assist"===c,onClick:r,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"\u8f14\u52a9"]}),(0,s.jsxs)("button",{type:"button",value:"special",disabled:"special"===c,onClick:r,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"\u5967\u7fa9"]}),(0,s.jsxs)("button",{type:"button",value:"skillA",disabled:"skillA"===c,onClick:r,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A\u6280\u80fd"]}),(0,s.jsxs)("button",{type:"button",value:"skillB",disabled:"skillB"===c,onClick:r,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B\u6280\u80fd"]}),(0,s.jsxs)("button",{type:"button",value:"skillC",disabled:"skillC"===c,onClick:r,children:[(0,s.jsx)(o.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C\u6280\u80fd"]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{className:O().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:a})}),(0,s.jsx)("div",{className:O().list,children:(0,s.jsx)(Be,{skillType:c,filter:i})})]}),n&&(0,s.jsxs)("div",{className:O().heroFullInfoContainer,children:[(0,s.jsx)("div",{className:O().heroInfoCloseButton,children:(0,s.jsx)("button",{onClick:function(){t("")},children:(0,s.jsx)(B.Z,{})})}),(0,s.jsx)("div",{className:O().heroFullInfo,children:(0,s.jsx)(C,{heroId:n})})]})]})},Oe=t(3354);var Se=t(2712),Te=t.n(Se);function Me(){var e=(0,Oe.Z)("/assets/summon-stone.jpg");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{children:(0,s.jsx)("title",{children:"\u6280\u80fd\u627e\u4e00\u627e"})}),(0,s.jsx)("div",{className:Te().container,style:{background:"url('".concat(e,"') center / cover no-repeat fixed")},children:(0,s.jsx)("div",{className:Te()["bg-layer"],children:(0,s.jsx)(Ne,{})})})]})}var Ze=function(){return(0,s.jsx)(i.Z,{children:(0,s.jsx)(Me,{})})};var Pe=function(){return(0,s.jsx)(Ze,{})}},9657:function(e){e.exports={heroInfo:"heroFullInfo_heroInfo__uI7zy",infoGrid:"heroFullInfo_infoGrid__G1auS",type:"heroFullInfo_type__0yJTf",info:"heroFullInfo_info__ZMVYp"}},9619:function(e){e.exports={weaponGroup:"skillRow_weaponGroup__JmJzW",icon:"skillRow_icon__PZIzU",name:"skillRow_name__4vg8D",sp:"skillRow_sp__5i_ym",inheritors:"skillRow_inheritors__zMdfj",inheritor:"skillRow_inheritor__1pPaI",heroIcons:"skillRow_heroIcons___2W7w",heroIcon:"skillRow_heroIcon__FV0Go",poolIcon:"skillRow_poolIcon__pb4ui"}},7623:function(e){e.exports={buttons:"styles_buttons__HyxV2",input:"styles_input__tVlUs",spButtons:"styles_spButtons__hIRFq",list:"styles_list__BV_eH",listItems:"styles_listItems__5RShV",heroFullInfoContainer:"styles_heroFullInfoContainer__J9TLS",heroFullInfo:"styles_heroFullInfo__ehciu",heroInfoCloseButton:"styles_heroInfoCloseButton___QfPx"}},2712:function(e){e.exports={container:"SkillTable_container__34BOf","bg-layer":"SkillTable_bg-layer__8oXQJ",title:"SkillTable_title__2sOuf","header-container":"SkillTable_header-container__lJDmJ"}}},function(e){e.O(0,[406,988,563,774,888,179],(function(){return n=4606,e(e.s=n);var n}));var n=e.O();_N_E=n}]);