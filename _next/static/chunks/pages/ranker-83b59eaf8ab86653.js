(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{4248:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ranker",function(){return n(9348)}])},9348:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var s=n(5893),i=n(9008),a=n.n(i),l=n(8187),r=n(163),u=n(7294),c=n(6738),o=n(1728),d=n(3321);function g(e){let{index:t,style:n,data:i}=e,{heroes:a}=i,l=a[t];return(0,s.jsx)("div",{style:n,children:(0,s.jsx)(d.Z,{id:l.id,...l})},l.id)}var h=(0,u.memo)(function(e){let{heroes:t}=e,n=(0,u.useMemo)(()=>({heroes:t}),[t]),i=(0,u.useCallback)(e=>t[e].id,[t]);return(0,s.jsx)(o.Z,{children:e=>{let{width:a,height:l}=e;return(0,s.jsx)(c.t7,{width:a,height:l,itemCount:t.length,itemSize:160,itemData:n,itemKey:i,children:g})}})}),x=n(2204),b=n(5869),k=n(2602),_=n(6308),j=n(8950),m=n.n(j);let f=()=>{let{bg:e,allChecked:t,allIndeterminated:n,toggleAll:i,moveTypeFilter:r,toggleMoveType:c,weaponTypeFilter:o,toggleWeaponType:d,isRarity5:g,toggleRarity5:j,isRarity4:f,toggleRarity4:p,isGrail:C,toggleGrail:v,isLegendary:y,toggleLegendary:R,isMythic:N,toggleMythic:S,isAscended:w,toggleAscended:M,isRearmed:D,toggleRearmed:A,isDuo:E,toggleDuo:T,isHar:Z,toggleHar:P,isAttuned:F,toggleAttuned:H,isDancer:K,toggleDancer:O,sortByHP:G,toggleSortByHp:I,sortByAtk:L,toggleSortByAtk:W,sortBySpd:X,toggleSortBySpd:q,sortByDef:z,toggleSortByDef:Q,sortByRes:$,toggleSortByRes:B,sortByDf:J,toggleSortByDf:U,sortByArena:V,toggleSortByArena:Y,computedHeroes:ee}=function(){let{heroDB:e,dragonflowersDB:t,assistDB:n,resplendentDB:s}=(0,_.K)(),i=(0,u.useMemo)(()=>(0,b.$f)({heroDB:e,dragonflowersDB:t,assistDB:n,resplendentDB:s}),[e,t,n,s]),{allChecked:a,allIndeterminated:l,toggleAll:r,moveTypeFilter:c,toggleMoveType:o,weaponTypeFilter:d,toggleWeaponType:g,isRarity5:h,toggleRarity5:j,isRarity4:m,toggleRarity4:f,isGrail:p,toggleGrail:C,isLegendary:v,toggleLegendary:y,isMythic:R,toggleMythic:N,isAscended:S,toggleAscended:w,isRearmed:M,toggleRearmed:D,isDuo:A,toggleDuo:E,isHar:T,toggleHar:Z,isAttuned:P,toggleAttuned:F,isDancer:H,toggleDancer:K}=(0,k.Z)(),{sortBy:O,sortByHP:G,toggleSortByHp:I,sortByAtk:L,toggleSortByAtk:W,sortBySpd:X,toggleSortBySpd:q,sortByDef:z,toggleSortByDef:Q,sortByRes:$,toggleSortByRes:B,sortByDf:J,toggleSortByDf:U,sortByArena:V,toggleSortByArena:Y}=function(){let[e,t]=(0,u.useState)(!1),n=(0,u.useCallback)(()=>{t(e=>(e||f(!1),!e))},[]),[s,i]=(0,u.useState)(!1),a=(0,u.useCallback)(()=>{i(e=>(e||f(!1),!e))},[]),[l,r]=(0,u.useState)(!1),c=(0,u.useCallback)(()=>{r(e=>(e||f(!1),!e))},[]),[o,d]=(0,u.useState)(!1),g=(0,u.useCallback)(()=>{d(e=>(e||f(!1),!e))},[]),[h,x]=(0,u.useState)(!1),b=(0,u.useCallback)(()=>{x(e=>(e||f(!1),!e))},[]),[k,_]=(0,u.useState)(!1),j=(0,u.useCallback)(()=>{_(e=>(e||f(!1),!e))},[]),[m,f]=(0,u.useState)(!1),p=(0,u.useCallback)(()=>{f(e=>(e||(t(!1),i(!1),r(!1),d(!1),x(!1),_(!1)),!e))},[]),C=(0,u.useMemo)(()=>{let t=[];return e&&t.push("hp"),s&&t.push("atk"),l&&t.push("spd"),o&&t.push("def"),h&&t.push("res"),t},[e,s,l,o,h]);return{sortBy:C,sortByHP:e,toggleSortByHp:n,sortByAtk:s,toggleSortByAtk:a,sortBySpd:l,toggleSortBySpd:c,sortByDef:o,toggleSortByDef:g,sortByRes:h,toggleSortByRes:b,sortByDf:k,toggleSortByDf:j,sortByArena:m,toggleSortByArena:p}}(),ee=(0,u.useMemo)(()=>i.sort((e,t)=>{if(V)return e.bst>t.bst?-1:e.bst<t.bst?1:e.index-t.index;let n=O.reduce((t,n)=>t+e[n],0),s=O.reduce((e,n)=>e+t[n],0);return(J&&(n+=e.dfDelta*O.length,s+=t.dfDelta*O.length),n>s)?-1:s>n?1:e.index-t.index}).reduce((e,t,n)=>({...e,[t.id]:n}),{}),[i,O,J,V]),et=(0,u.useMemo)(()=>i.filter(e=>{let t=(0,b._u)(e,{moveTypeFilter:c,weaponTypeFilter:d,isRarity5:h,isRarity4:m,isGrail:p,isLegendary:v,isMythic:R,isAscended:S,isRearmed:M,isDuo:A,isHar:T,isAttuned:P,isDancer:H});return!t}).sort((e,t)=>ee[e.id]-ee[t.id]),[i,ee,c,d,h,m,p,v,R,S,M,A,T,P,H]),en=(0,x.Z)("/assets/summon-stone.jpg");return{bg:en,allChecked:a,allIndeterminated:l,toggleAll:r,moveTypeFilter:c,toggleMoveType:o,weaponTypeFilter:d,toggleWeaponType:g,isRarity5:h,toggleRarity5:j,isRarity4:m,toggleRarity4:f,isGrail:p,toggleGrail:C,isLegendary:v,toggleLegendary:y,isMythic:R,toggleMythic:N,isAscended:S,toggleAscended:w,isRearmed:M,toggleRearmed:D,isDuo:A,toggleDuo:E,isHar:T,toggleHar:Z,isAttuned:P,toggleAttuned:F,isDancer:H,toggleDancer:K,sortByHP:G,toggleSortByHp:I,sortByAtk:L,toggleSortByAtk:W,sortBySpd:X,toggleSortBySpd:q,sortByDef:z,toggleSortByDef:Q,sortByRes:$,toggleSortByRes:B,sortByDf:J,toggleSortByDf:U,sortByArena:V,toggleSortByArena:Y,computedHeroes:et,heroesOrder:ee}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:"體質排排看"})}),(0,s.jsx)("div",{className:m().container,style:{background:"url('".concat(e,"') center / cover no-repeat fixed")},children:(0,s.jsxs)("div",{className:m()["bg-layer"],children:[(0,s.jsx)(l.Z,{allChecked:t,allIndeterminated:n,toggleAll:i,moveTypeFilter:r,toggleMoveType:c,weaponTypeFilter:o,toggleWeaponType:d,isRarity5:g,toggleRarity5:j,isRarity4:f,toggleRarity4:p,isGrail:C,toggleGrail:v,isLegendary:y,toggleLegendary:R,isMythic:N,toggleMythic:S,isAscended:w,toggleAscended:M,isRearmed:D,toggleRearmed:A,isDuo:E,toggleDuo:T,isHar:Z,toggleHar:P,isAttuned:F,toggleAttuned:H,isDancer:K,toggleDancer:O}),(0,s.jsxs)("div",{className:m()["stats-buttons"],children:[(0,s.jsx)("div",{className:m().title,children:"排序依據"}),(0,s.jsx)("button",{"data-active":G,onClick:I,children:"HP"}),(0,s.jsx)("button",{"data-active":L,onClick:W,children:"攻擊"}),(0,s.jsx)("button",{"data-active":X,onClick:q,children:"速度"}),(0,s.jsx)("button",{"data-active":z,onClick:Q,children:"防守"}),(0,s.jsx)("button",{"data-active":$,onClick:B,children:"魔防"}),(0,s.jsx)("button",{"data-active":J,onClick:U,children:"龍花"}),(0,s.jsx)("button",{"data-active":V,onClick:Y,children:"鬥技"})]}),(0,s.jsx)("div",{className:m().list,children:(0,s.jsx)(h,{heroes:ee})})]})})]})};var p=function(){return(0,s.jsx)(r.Z,{children:(0,s.jsx)(f,{})})},C=function(){return(0,s.jsx)(p,{})}},8950:function(e){e.exports={container:"Ranker_container__uOjIa","bg-layer":"Ranker_bg-layer__ESCt2",list:"Ranker_list__PQqor","stats-buttons":"Ranker_stats-buttons__omtgK",title:"Ranker_title__lxhWA"}}},function(e){e.O(0,[406,12,705,774,888,179],function(){return e(e.s=4248)}),_N_E=e.O()}]);