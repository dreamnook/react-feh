(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{374:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ivviewer",function(){return r(9220)}])},9220:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return H}});var n=r(5893),a=r(9008),s=r(8219),i=r(1865),o=r(9365),c=r(4074),u=r(449),l=r(7294),f=r(3631),d=r.n(f),v=["hp","atk","spd","def","res"],m={hp:"HP",atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632"};var h=function(t){var e=t.stats,r=t.lv1Stats,a=t.lv40Stats,s=t.selectStat,i=(0,l.useCallback)((function(t){var e=t.currentTarget.dataset,r=e.type,n=Number(e.option);s(r,n)}),[s]);return(0,n.jsxs)("div",{className:d().container,children:[(0,n.jsxs)("div",{className:d()["stat-row"],children:[(0,n.jsx)("h3",{className:d().title,children:"\u5c6c\u6027"}),(0,n.jsx)("h3",{className:d().title,children:"Lv1"}),(0,n.jsx)("h3",{className:d().title,children:"Lv40"})]}),v.map((function(t){return(0,n.jsxs)("div",{className:d()["stat-row"],children:[(0,n.jsx)("div",{className:d()["stat-name"],children:m[t]}),(0,n.jsx)("div",{className:d()["stat-picker"],children:r[t].map((function(r){var a=r.option,s=r.stat;return(0,n.jsx)("button",{className:d()["stat-button"],"data-type":t,"data-option":a,disabled:"-"===s,"data-active":a===e[t],onClick:i,children:s},a)}))}),(0,n.jsx)("div",{className:d()["stat-button"],children:a[t]})]},t)})),(0,n.jsx)("h3",{className:d().title,children:a.sum})]})},p=r(8172),b=r(3354),y=r(6730),S=r(2078),j=r(5452),g=r(2278);function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){w(t,e,r[e])}))}return t}function x(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},s=Object.keys(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,s=[],i=!0,o=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(s.push(n.value),!e||s.length!==e);i=!0);}catch(c){o=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(o)throw a}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(t){return t+1},N=function(t){return t-1},C=function(t){return t},P=function(){return"-"};function M(t){var e=t.hero,r=t.rarity,n=t.merge,a=(0,l.useState)({hp:1,atk:1,spd:1,def:1,res:1}),s=a[0],i=a[1],o=(0,l.useCallback)((function(t,e){i((function(r){return(0,p.ZP)(r,(function(r){r[t]=e}))}))}),[]),c=(0,l.useCallback)((function(){i({hp:1,atk:1,spd:1,def:1,res:1})}),[]),u=(0,l.useMemo)((function(){var t=!Object.values(s).some((function(t){return 1!==t})),a=e.stats["".concat(r,"-1")],i=e.stats["".concat(r)],o=function(t){var e=t.heroId,r=t.data,n="Feh"===e?[P,C,P]:[N,C,I],a=[0,1,2];return Object.entries(r).reduce((function(t,e){var r=k(e,2),s=r[0],i=r[1];return O({},t,w({},s,a.map((function(t,e){return{option:t,stat:n[e](i)}}))))}),{hp:[],atk:[],spd:[],def:[],res:[]})}({heroId:e.id,data:a}),c=function(t){var e=t.heroId,r=t.stats,n=t.neutral,a=t.data,s=t.merge;if("Feh"===e){var i=a;return O({},i,{sum:i.hp+i.atk+i.spd+i.def+i.res})}var o=a;return Object.entries(r).reduce((function(t,e){var r,n=k(e,2),a=n[0],i=n[1];return O({},t,(w(r={},a,o[a][i||s&&1]),w(r,"sum",o[a][s?i||1:i]+t.sum),r))}),{sum:s&&n?3:0})}({heroId:e.id,stats:s,neutral:t,data:i,merge:n}),u=function(t){var e=t.stats,r=t.lv1Stats,n=t.lv40Stats.sum,a=t.neutral,s=t.merge,i=x(t.lv40Stats,["sum"]),o=Object.entries(r).reduce((function(t,r){var n=k(r,2),a=n[0];return O({},t,w({},a,n[1][e[a]].stat))}),{}),c=(0,g.h)(o),u=(0,S.s)({increaseIndexes:c,merge:s,initIV:a});return Object.entries(i).reduce((function(t,e){var r=k(e,2),n=r[0];return O({},t,w({},n,r[1]+u[n]))}),{sum:n})}({stats:s,lv1Stats:o,lv40Stats:c,neutral:t,merge:n});return{lv1Stats:o,lv40Stats:u}}),[e,s,n,r]),f=u.lv1Stats,d=u.lv40Stats;return{stats:s,selectStat:o,resetStats:c,lv1Stats:f,lv40Stats:d}}var V=r(313),E=r.n(V);function T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){T(t,e,r[e])}))}return t}function R(){var t=function(){var t=(0,j.K)().heroDB,e=(0,l.useState)("Feh"),r=e[0],n=e[1],a=(0,l.useState)(5),s=a[0],i=a[1],o=(0,l.useState)(0),c=o[0],u=o[1],f=(0,l.useCallback)((function(t){i(t)}),[]),d=(0,l.useCallback)((function(t){u(t)}),[]),v=(0,b.Z)("/assets/summon-stone.jpg"),m=(0,l.useMemo)((function(){return t[r]}),[t,r]),h=M({hero:m,rarity:s,merge:c}),p=h.stats,S=h.selectStat,g=h.resetStats,_=h.lv1Stats,w=h.lv40Stats,O=(0,l.useCallback)((function(t){g(),i(5),n(t)}),[g]),x=(0,l.useMemo)((function(){var t=(0,y.eM)(m);return{id:t.id,title:t.title,name:t.name,weaponType:t.weaponType,moveType:t.moveType,rarity:t.rarity,pool:t.pool,query:t.query,bst:t.bst,faceSrc:t.faceSrc,blessingSrc:t.blessingSrc,dfKey:t.dfKey,dfDelta:t.dfDelta}}),[m]),k=(0,l.useMemo)((function(){var t;return(null===m||void 0===m||null===(t=m.rarity)||void 0===t?void 0:t.length)>1?4:5}),[m]);return{bg:v,heroId:r,onSelectHero:O,rarity:s,minRarity:k,onChangeRarity:f,merge:c,onChangeMerge:d,heroHeaderInfo:x,stats:p,selectStat:S,lv1Stats:_,lv40Stats:w}}(),e=t.bg,r=t.heroId,u=t.onSelectHero,f=t.rarity,d=t.minRarity,v=t.onChangeRarity,m=t.merge,p=t.onChangeMerge,S=t.heroHeaderInfo,g=t.stats,_=t.lv1Stats,w=t.lv40Stats,O=t.selectStat;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.default,{children:(0,n.jsx)("title",{children:"IV\u5feb\u9ede\u67e5"})}),(0,n.jsx)("div",{className:E().container,style:{background:"url('".concat(e,"') center / cover no-repeat fixed")},children:(0,n.jsxs)("div",{className:E()["bg-layer"],children:[(0,n.jsxs)("div",{className:E()["header-container"],children:[(0,n.jsx)(c.Z,{heroId:r,onSelect:u}),(0,n.jsx)(s.Z,A({},S))]}),(0,n.jsx)("h2",{className:E().title,children:"\u7a00\u6709\u5ea6"}),(0,n.jsx)(i.Z,{rarity:f,minRarity:d,onSelect:v}),(0,n.jsx)("h2",{className:E().title,children:"\u7a81\u7834\u6b21\u6578"}),(0,n.jsx)(o.Z,{merge:m,onSelect:p,oneLine:!0}),(0,n.jsx)(h,{stats:g,lv1Stats:_,lv40Stats:w,selectStat:O})]})})]})}var Z=function(){return(0,n.jsx)(u.Z,{children:(0,n.jsx)(R,{})})};var H=function(){return(0,n.jsx)(Z,{})}},313:function(t){t.exports={container:"IVViewer_container__Owtai","bg-layer":"IVViewer_bg-layer__gwOOc",title:"IVViewer_title__O5XR3","header-container":"IVViewer_header-container__MHkCX"}},3631:function(t){t.exports={"stat-button":"statview_stat-button__kW_7R",title:"statview_title__oYhWJ","stat-row":"statview_stat-row__JJPps","stat-name":"statview_stat-name__hOLIp","stat-picker":"statview_stat-picker__a5q5u","max-stat":"statview_max-stat__lAect",container:"statview_container__MIj2i"}}},function(t){t.O(0,[406,988,220,608,774,888,179],(function(){return e=374,t(t.s=e);var e}));var e=t.O();_N_E=e}]);