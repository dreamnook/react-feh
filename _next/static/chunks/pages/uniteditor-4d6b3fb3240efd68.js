(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{532:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uniteditor",function(){return l(487)}])},4882:function(e,n,l){"use strict";var t=l(5893),r=l(7294),i=l(7413),s=l(2718),a=l(5497),o=l.n(a);n.Z=function(e){var n=e.blessing,l=(0,r.useMemo)((function(){return(0,i.QJ)(n)}),[n]),a=l.src,c=l.name;return(0,t.jsxs)("div",{className:o().blessing,children:[a&&(0,t.jsx)(s.Z,{src:a,loading:"lazy",width:"50px",height:"50px"}),(0,t.jsx)("div",{className:o()["blessing-name"],children:c})]})}},437:function(e,n,l){"use strict";l.d(n,{Z:function(){return s}});var t=l(5893);l(7294);function r(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var i=function(e){return(0,t.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){r(e,n,l[n])}))}return e}({width:"24",height:"24",viewBox:"0 0 24 24"},e,{children:[(0,t.jsx)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),(0,t.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}))};var s=function(e){var n=e.onClick;return(0,t.jsx)("button",{onClick:n,style:{backgroundColor:"transparent",display:"block"},children:(0,t.jsx)(i,{fill:"white"})})}},5493:function(e,n,l){"use strict";var t=l(5893),r=l(7294),i=l(7413),s=l(4882),a=l(2884),o=l.n(a);n.Z=function(e){var n=e.blessing,l=e.selectBlessing,a=(0,r.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return(0,t.jsxs)("div",{className:o().container,children:[(0,t.jsx)("button",{className:o()["neutral-button"],"data-active":!n,value:"",onClick:a,children:"-"}),i.YM.map((function(e){return(0,t.jsx)("button",{className:o()["blessing-button"],"data-active":n===e.value,value:e.value,onClick:a,children:(0,t.jsx)(s.Z,{blessing:e.value})},e.value)}))]})}},4326:function(e,n,l){"use strict";var t=l(5893),r=l(7294),i=l(9298),s=l(5711),a=l.n(s);n.Z=function(e){var n=e.iv,l=e.selectIV,s=(0,r.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return(0,t.jsxs)("div",{className:a().container,children:[(0,t.jsx)("button",{className:a()["neutral-button"],"data-active":!n,value:"",onClick:s,children:"-"}),i.YM.map((function(e){return(0,t.jsx)("button",{className:a()["iv-button"],"data-active":n===e.value,value:e.value,onClick:s,children:e.name},e.value)}))]})}},3511:function(e,n,l){"use strict";l.d(n,{W2:function(){return s},Dx:function(){return a},dH:function(){return o},VY:function(){return c},P9:function(){return u},M9:function(){return d},BQ:function(){return h},qn:function(){return f},Ei:function(){return p},DK:function(){return k}});var t=l(5893),r=l(5767),i=l.n(r);function s(e){var n=e.hidden,l=e.style,r=e.children;return(0,t.jsx)("div",{hidden:n,className:i().container,style:l,children:r})}function a(e){var n=e.children,l=e.style;return(0,t.jsx)("div",{className:i().title,style:l,children:n})}function o(e){var n=e.children;return(0,t.jsx)("div",{className:i()["title-textgroup"],children:n})}function c(e){var n=e.children;return(0,t.jsx)("div",{className:i().content,children:n})}function u(e){var n=e.children;return(0,t.jsx)("div",{className:i()["section-group"],children:n})}function d(e){var n=e.children,l=e.disabled,r=e.onClick;return(0,t.jsx)("button",{className:"".concat(i().button," ").concat(i().section),disabled:l,onClick:r,children:n})}function h(e){var n=e.children,l=e.style;return(0,t.jsx)("div",{className:i()["button-content"],style:l,children:n})}function f(e){var n=e.children;return(0,t.jsx)("div",{className:i().optionsContainer,children:n})}function p(e){var n=e.children;return(0,t.jsx)("div",{className:i().options,children:n})}function k(e){var n=e.children;return(0,t.jsx)("div",{className:i().subTitle,children:n})}},8417:function(e,n,l){"use strict";var t=l(5893);l(7294);function r(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}n.Z=function(e){return(0,t.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){r(e,n,l[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e,{children:[(0,t.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),(0,t.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}))}},8180:function(e,n,l){"use strict";l.d(n,{pp:function(){return a},bP:function(){return o},n0:function(){return c},JO:function(){return u},XR:function(){return d},lJ:function(){return h},i5:function(){return f},eM:function(){return p},Z4:function(){return k},lG:function(){return x}});var t=l(5893),r=l(2718),i=l(1354),s=l.n(i);function a(e){var n=e.children;return(0,t.jsx)("div",{className:s().skillTitle,children:n})}function o(e){var n=e.children,l=e.style;return(0,t.jsx)("div",{className:s().skillName,style:l,children:n})}function c(e){var n=e.children;return(0,t.jsx)("div",{className:s().skillSp,children:n})}function u(e){var n=e.src;return(0,t.jsx)(r.Z,{src:n,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"},loading:"lazy"})}function d(e){var n=e.children;return(0,t.jsx)("div",{className:s().might,children:n})}function h(e){var n=e.children;return(0,t.jsx)("div",{className:s().extractStats,children:n})}function f(e){var n=e.children;return(0,t.jsx)("div",{className:s().extractStat,children:n})}function p(e){var n=e.cd,l=e.children;return n?(0,t.jsx)("div",{style:{color:n<0?"lightskyblue":"palevioletred"},children:l}):null}function k(e){var n=e.children;return(0,t.jsx)("div",{style:{color:"salmon"},children:n})}var x=function(e){return e>0?"+".concat(e):"".concat(e)}},959:function(e,n,l){"use strict";var t=l(5893),r=l(7294),i=l(7308),s=l.n(i);function a(e){var n=e.children;return(0,t.jsx)("div",{className:s().weaponTitle,children:n})}function o(e){var n=e.children;return(0,t.jsx)("div",{className:s().weaponName,children:n})}function c(e){var n=e.children;return(0,t.jsx)("div",{className:s().weaponSp,children:n})}function u(e){var n=e.children;return(0,t.jsx)("div",{className:s().might,children:n})}function d(e){var n=e.children;return(0,t.jsx)("div",{className:s().extractStats,children:n})}function h(e){var n=e.children;return(0,t.jsx)("div",{className:s().extractStat,children:n})}function f(e){var n=e.cd,l=e.children;return n?(0,t.jsx)("div",{style:{color:n<0?"lightskyblue":"palevioletred"},children:l}):null}function p(e){var n=e.children;return(0,t.jsx)("div",{style:{color:"salmon"},children:n})}var k=function(e){return e>0?"+".concat(e):"".concat(e)};function x(e){var n=e.weapon;return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a,{children:[(0,t.jsx)(o,{children:n.name}),(0,t.jsxs)(c,{children:[n.sp,"SP"]})]}),(0,t.jsxs)(u,{children:["\u5a01\u529b ",n.mt]}),n.cd&&(0,t.jsxs)(f,{cd:n.cd,children:["\u5967\u7fa9 cd",k(n.cd)]}),(0,t.jsxs)(d,{children:[n.hp&&(0,t.jsxs)(h,{children:["HP ",k(n.hp)]}),n.atk&&(0,t.jsxs)(h,{children:["\u653b\u64ca ",k(n.atk)]}),n.spd&&(0,t.jsxs)(h,{children:["\u901f\u5ea6 ",k(n.spd)]}),n.def&&(0,t.jsxs)(h,{children:["\u9632\u5b88 ",k(n.def)]}),n.res&&(0,t.jsxs)(h,{children:["\u9b54\u9632 ",k(n.res)]})]}),n.exclusive&&(0,t.jsx)(p,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]}):null}n.Z=(0,r.memo)(x)},1865:function(e,n,l){"use strict";var t=l(5893),r=l(7294),i=l(6820),s=l.n(i),a=[{name:"5\u2606",value:5},{name:"4\u2605",value:4}];n.Z=function(e){var n=e.rarity,l=void 0===n?5:n,i=e.minRarity,o=void 0===i?5:i,c=e.onSelect,u=(0,r.useCallback)((function(e){c&&c(Number(e.currentTarget.value))}),[c]),d=(0,r.useMemo)((function(){return o<5?a:a.slice(0,1)}),[o]);return(0,t.jsx)("div",{className:s().raritypicker,children:d.map((function(e){return(0,t.jsx)("button",{onClick:u,"data-active":e.value===l,value:e.value,children:e.name},e.value)}))})}},5703:function(e,n){"use strict";var l={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};n.Z=function(e){var n=e.rarity,t=void 0===n?5:n,r=e.merge,i=e.bst,s=e.spt,a=e.blesser,o=void 0===a?0:a,c=l[t];return 2*(150+c.base+c.float+2*r+Math.floor(i/5)+Math.floor(s/100)+4*o)}},487:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return ft}});var t=l(5893),r=l(9008),i=l(7294);function s(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var a=function(e){return(0,t.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){s(e,n,l[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e,{children:[(0,t.jsx)("path",{d:"M38 18h-8v-12h-12v12h-8l14 14 14-14zm-28 18v4h28v-4h-28z"}),(0,t.jsx)("path",{d:"M0 0h48v48h-48z",fill:"none"})]}))};function o(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var c=function(e){return(0,t.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){o(e,n,l[n])}))}return e}({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e,{children:[(0,t.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]}))},u=l(3354),d=l(3846),h=l(6730),f=l(2734);function p(e){var n=e.sealDB,l=e.sealId;return n&&l?n.skillA[l]?n.skillA[l]:n.skillB[l]?n.skillB[l]:n.skillC[l]?n.skillC[l]:n.seal[l]?n.seal[l]:null:null}var k=l(1160),x=l(1541),v=l(2683);function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=new Array(n);l<n;l++)t[l]=e[l];return t}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var l=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var t,r,i=[],s=!0,a=!1;try{for(l=l.call(e);!(s=(t=l.next()).done)&&(i.push(t.value),!n||i.length!==n);s=!0);}catch(o){a=!0,r=o}finally{try{s||null==l.return||l.return()}finally{if(a)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(l);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return m(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g={atk:"atk",spd:"spd",def:"def",res:"res"};function B(e){var n=e.heroDB,l=e.weaponDB,t=e.assistDB,r=e.specialDB,i=e.skillADB,s=e.skillBDB,a=e.skillCDB,o=e.skillXDB,c=e.sealDB,u=e.heroId,h=e.skillIds;return{weapon:(0,v.i7)({heroDB:n,weaponDB:l,heroId:u,weaponId:h.weaponId}),assist:(0,d.NV)({assistDB:t,assistId:h.assistId}),special:(0,x.cf)({specialDB:r,specialId:h.specialId}),skillA:(0,k.PU)({skillDB:i,skillId:h.skillAId}),skillB:(0,k.PU)({skillDB:s,skillId:h.skillBId}),skillC:(0,k.PU)({skillDB:a,skillId:h.skillCId}),skillX:(0,k.PU)({skillDB:o,skillId:h.skillXId}),seal:p({sealDB:c,sealId:h.sealId})}}var b=["assist","special","skillA","skillB","skillC","seal","skillX"];var j=l(2278),y=l(5703);var w=l(5452);function D(e,n){for(var l=0;l<n.length;l++){var t=n[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var S=function(){function e(n){var l=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.imageData=new Image,this.src="",this.loadedData=!1,this.callback=n,this.imageData.onload=function(){l.loadedData=!0,l.callback&&l.callback(!0)},this.imageData.onerror=function(){l.loadedData=!1,l.callback&&l.callback(!1)}}var n,l,t;return n=e,(l=[{key:"load",value:function(e){e!==this.src&&(this.loadedData=!1,this.src=e,this.imageData.src=e)}},{key:"loaded",get:function(){return this.loadedData}},{key:"image",get:function(){return this.imageData}}])&&D(n.prototype,l),t&&D(n,t),e}();var C=l(243),_=16,A=554,P=C.s6;var M=174,O=555,X=["infantry","armored","cavalry","flying"];function T(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var N=1,R=43,E=85,Z=127,H=169,W=[0,1,2,3,4,5,6,7,8,9,"x","+","-"].reduce((function(e,n,l){return function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){T(e,n,l[n])}))}return e}({},e,T({},n,34*l+1))}),{});function J(e,n,l,t,r,i){W[t]&&e.drawImage(n,W[t],l,32,40,r,i,16,20)}var F=240,K=557,V=[14,28,42],q=["infantry","armored","cavalry","flying"];var z=432,Q=425;var G=432,L=425;var Y=275,U=594,$=function(e,n,l){var t=37*l+1+U;e.drawImage(n,Y,t,35,35)};var ee=82,ne=557,le=[14,28,42];var te=112,re=557,ie=[14,28,42];var se=130,ae=594,oe=[14,28,42,56],ce=[1e3,100,10],ue=function(e,n,l,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N,i=8+ae+37*t;ce.forEach((function(t,s){if(l>=t){var a=Math.floor(l/t%10);J(e,n,r,a,se+oe[s],i)}}));var s=l%10;J(e,n,r,s,se+oe[3],i)};var de=465,he=594;function fe(e){var n=e.context,l=e.numberAtlas,t=e.accelerate,r=e.specialCD;if(r){var i=R;t<0&&(i=E),t>0&&(i=Z),function(e,n,l){J(e,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:R,l,de,8+he+74)}(n,l,Math.max(t+r,1),i)}}var pe=l(9298);function ke(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=new Array(n);l<n;l++)t[l]=e[l];return t}function xe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var l=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var t,r,i=[],s=!0,a=!1;try{for(l=l.call(e);!(s=(t=l.next()).done)&&(i.push(t.value),!n||i.length!==n);s=!0);}catch(o){a=!0,r=o}finally{try{s||null==l.return||l.return()}finally{if(a)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ke(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(l);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return ke(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ve=206,me=1224,Ie=["#ffa0af","white","#aaf0fa"],ge=Object.entries({hp:"HP",atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632",bst:"BST",arena:"\u9b25\u6280\u5206"});function Be(e,n){if(null==e)return{};var l,t,r=function(e,n){if(null==e)return{};var l,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||(r[l]=e[l]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}var be=634,je=1224,ye={weapon:0,assist:1,special:2,skillA:3,skillB:4,skillC:5,seal:6,skillX:7};var we=296,De=876,Se=336,Ce=992;var _e={x:460,y:530};var Ae=195,Pe=370;function Me(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=new Array(n);l<n;l++)t[l]=e[l];return t}function Oe(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function Xe(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){Oe(e,n,l[n])}))}return e}function Te(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var l=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var t,r,i=[],s=!0,a=!1;try{for(l=l.call(e);!(s=(t=l.next()).done)&&(i.push(t.value),!n||i.length!==n);s=!0);}catch(o){a=!0,r=o}finally{try{s||null==l.return||l.return()}finally{if(a)throw r}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Me(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(l);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Me(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=[["background","/assets/background.jpg"],["foreground","/assets/foreground.webp"],["foreground2","/assets/foreground2.webp"],["xPlaceholder","/assets/x-placeholder.webp"],["portrait",""],["rarityAtlas","/assets/rarity.webp"],["weaponTypeAtlas","/assets/weapon-type.webp"],["moveTypeAtlas","/assets/move-type.webp"],["dragonflowerAtlas","/assets/dragonflower.webp"],["supportAtlas","/assets/support.webp"],["blessingAtlas",""],["numberAtlas","/assets/number.webp"],["weaponIcon","/skills/weapon.webp"],["assistIcon","/skills/assist.webp"],["specialIcon","/skills/special.webp"],["textA","/assets/skill-a.webp"],["textB","/assets/skill-b.webp"],["textC","/assets/skill-c.webp"],["textX","/assets/skill-x.webp"],["textS","/assets/skill-s.webp"],["arenaIcon","/assets/Arena_Crown.webp"],["skillAIcon",""],["skillBIcon",""],["skillCIcon",""],["skillXIcon",""],["sealIcon",""],["resplendentIcon","/assets/god-wear-l.webp"],["bloomIcon","/assets/Icon_FlowerBud.webp"]],Re=[{skillName:"weapon",empty:"/skills/weapon"},{skillName:"skillA",empty:"/skills/empty"},{skillName:"skillB",empty:"/skills/empty"},{skillName:"skillC",empty:"/skills/empty"},{skillName:"skillX",empty:"/skills/empty"},{skillName:"seal",empty:"/skills/seal-empty"}];var Ee=function(e){var n=e.heroId,l=e.rarity,t=e.iv,r=e.merge,s=e.dragonflower,a=e.blessing,o=e.support,c=e.arena,d=e.resplendent,f=e.mythicBonus1,p=e.mythicBonus2,k=e.mythicBonus3,x=e.mythicBonus4,v=e.bloom,m=e.weaponId,D=e.refine,C=e.assistId,T=e.specialId,Z=e.skillAId,W=e.skillBId,se=e.skillCId,ae=e.skillXId,oe=e.sealId,ce=e.lv1,de=(0,w.K)(),he=(0,i.useRef)(null),ke=(0,i.useRef)(null),Me=(0,i.useRef)(),Oe=(0,i.useRef)(),Ee=(0,i.useRef)(),Ze=(0,i.useRef)(),He=(0,i.useRef)(),We=(0,i.useRef)(),Je=(0,i.useRef)(),Fe=(0,i.useRef)(),Ke=(0,i.useRef)(),Ve=(0,i.useRef)(),qe=(0,i.useRef)(),ze=(0,i.useRef)(),Qe=(0,i.useRef)(),Ge=(0,i.useRef)(),Le=(0,i.useRef)(),Ye=(0,i.useMemo)((function(){return(0,h.cK)(de.heroDB,n)}),[de.heroDB,n]),Ue=(0,i.useMemo)((function(){return{weaponId:m,assistId:C,specialId:T,skillAId:Z,skillBId:W,skillCId:se,skillXId:ae,sealId:oe}}),[C,oe,Z,W,se,ae,T,m]),$e=Ye.stats,en=(0,i.useMemo)((function(){return function(e){var n,l,t,r,i,s,a,o,c,u,d=e.heroDB,f=e.weaponDB,p=e.assistDB,k=e.specialDB,x=e.skillADB,v=e.skillBDB,m=e.skillCDB,g=e.skillXDB,b=e.sealDB,j=e.heroId,y=e.skillIds,w=e.refine,D=e.rarity,S=(0,h.cK)(d,j),C=B({heroDB:d,weaponDB:f,assistDB:p,specialDB:k,skillADB:x,skillBDB:v,skillCDB:m,skillXDB:g,sealDB:b,heroId:j,skillIds:y}),_={weapon:"-",assist:"-",special:"-",skillA:"-",skillB:"-",skillC:"-",skillX:"-",seal:"-"},A=0,P=(null===(n=C.special)||void 0===n?void 0:n.cd)||0;A+=(null===(l=C.weapon)||void 0===l?void 0:l.cd)||0,A+=(null===(t=C.assist)||void 0===t?void 0:t.cd)||0,A+=(null===(r=C.skillA)||void 0===r?void 0:r.cd)||0,A+=(null===(i=C.skillB)||void 0===i?void 0:i.cd)||0,A+=(null===(s=C.skillC)||void 0===s?void 0:s.cd)||0,A+=(null===(a=C.skillX)||void 0===a?void 0:a.cd)||0,A+=(null===(o=C.seal)||void 0===o?void 0:o.cd)||0;var M={hp:0,atk:0,spd:0,def:0,res:0},O=0,X=0;Object.entries(C).forEach((function(e){var n=I(e,2),l=n[0],t=n[1];if(_[l]=(null===t||void 0===t?void 0:t.name)||"-",M.hp+=(null===t||void 0===t?void 0:t.hp)||0,M.atk+=((null===t||void 0===t?void 0:t.mt)||0)+((null===t||void 0===t?void 0:t.atk)||0),M.spd+=(null===t||void 0===t?void 0:t.spd)||0,M.def+=(null===t||void 0===t?void 0:t.def)||0,M.res+=(null===t||void 0===t?void 0:t.res)||0,O+=(null===t||void 0===t?void 0:t.sp)||0,5===D){var r=null===t||void 0===t?void 0:t.bst;S.blesser&&(null===t||void 0===t?void 0:t.bbst)&&(r=null===t||void 0===t?void 0:t.bbst),X=Math.max(r||0,X)}}));var T=null===(c=C.weapon)||void 0===c||null===(u=c.refine)||void 0===u?void 0:u[w];return T&&(M.hp+=T.hp||0,M.atk+=(T.mt||0)+(T.atk||0),M.spd+=T.spd||0,M.def+=T.def||0,M.res+=T.res||0,A+=T.cd||0,C.weapon.exclusive||(O+=50),5===D&&(X=Math.max(X,T.bst||0))),"-"===_.skillX&&(_.skillX=""),{names:_,stats:M,accelerate:A,specialCD:P,spt:O,bst:X}}({heroDB:de.heroDB,weaponDB:de.weaponDB,assistDB:de.assistDB,specialDB:de.specialDB,skillADB:de.skillADB,skillBDB:de.skillBDB,skillCDB:de.skillCDB,skillXDB:de.skillXDB,sealDB:de.sealDB,skillIds:Ue,heroId:n,refine:D,rarity:l})}),[Ue,n,D,l,de.heroDB,de.weaponDB,de.assistDB,de.specialDB,de.skillADB,de.skillBDB,de.skillCDB,de.skillXDB,de.sealDB]),nn=(0,i.useMemo)((function(){return(0,j.f)({rarity:l,stats:$e,iv:t,merge:r,support:o,skillStats:en.stats,lv1:ce,arena:c,dragonflower:s,resplendent:d,mythicBonus1:f,mythicBonus2:p,mythicBonus3:k,mythicBonus4:x,bloom:v})}),[l,$e,t,r,o,en,ce,c,s,d,f,p,k,x,v]),ln=(0,i.useMemo)((function(){return(0,y.Z)({rarity:l,merge:r,bst:Math.max(nn.bst,en.bst,Ye.bst||0),spt:en.spt})}),[l,r,nn.bst,en.bst,en.spt,Ye]),tn=(0,i.useRef)({}),rn=(0,i.useCallback)((function(){if(he.current){var e=tn.current,n=e.background,l=e.foreground,t=e.foreground2,r=e.xPlaceholder,i=e.portrait,s=e.rarityAtlas,a=e.weaponTypeAtlas,o=e.moveTypeAtlas,c=e.dragonflowerAtlas,u=e.supportAtlas,d=e.blessingAtlas,h=e.numberAtlas,f=e.weaponIcon,p=e.assistIcon,k=e.specialIcon,x=e.textA,v=e.textB,m=e.textC,I=e.textS,g=e.textX,B=e.arenaIcon,b=e.skillAIcon,j=e.skillBIcon,y=e.skillCIcon,w=e.skillXIcon,D=e.sealIcon,S=e.resplendentIcon,C=e.bloomIcon,T=Me.current,Z=T.title,W=T.name,se=T.weaponType,ae=T.moveType,oe=!!Me.current.blessing||!!Ke.current,ce=he.current.getContext("2d");ce.clearRect(0,0,540,960),n.loaded&&function(e){var n=e.context,l=e.background;e.support?n.drawImage(l,540,0,540,960,0,0,540,960):n.drawImage(l,0,0,540,960,0,0,540,960)}({context:ce,background:n.image,support:Ve.current}),i.loaded&&function(e){var n=e.context,l=e.portrait;n.drawImage(l,0,0,540,960,0,0,540,960)}({context:ce,portrait:i.image}),l.loaded&&function(e){var n=e.context,l=e.foreground;n.drawImage(l,0,0,540,960,0,0,540,960)}({context:ce,foreground:l.image}),t.loaded&&function(e){var n=e.context,l=e.foreground2;e.dragonflower?n.drawImage(l,0,50,540,50,0,542,540,50):n.drawImage(l,0,0,540,50,0,542,540,50)}({context:ce,foreground2:t.image,dragonflower:Je.current}),Oe.current.names.skillX&&function(e){var n=e.context,l=e.xPlaceholder,t=e.skillXIcon,r=e.textX;n.drawImage(l,255,851,248,42),n.drawImage(t,275,854,35,35),n.drawImage(r,295,872,18,18)}({context:ce,xPlaceholder:r.image,skillXIcon:w.image,textX:g.image}),s.loaded&&function(e){var n=e.context,l=e.rarityAtlas;switch(e.rarity){case 5:n.drawImage(l,0,0,153,40,48,380,153,40);break;case 4:n.drawImage(l,0,41,153,40,42,380,153,40)}}({context:ce,rarityAtlas:s.image,rarity:Ze.current}),a.loaded&&function(e){var n=e.context,l=e.weaponTypeAtlas,t=e.weaponType,r=P.indexOf(t);r>-1&&n.drawImage(l,56*r,0,56,55,_,A,28,28)}({context:ce,weaponTypeAtlas:a.image,weaponType:se}),o.loaded&&function(e){var n=e.context,l=e.moveTypeAtlas,t=e.moveType,r=X.indexOf(t);r>-1&&n.drawImage(l,56*r,0,52,52,M,O,26,26)}({context:ce,moveTypeAtlas:o.image,moveType:ae}),c.loaded&&h.loaded&&function(e){var n=e.context,l=e.dragonflowerAtlas,t=e.numberAtlas,r=e.moveType,i=e.dragonflower;if(i){var s=q.indexOf(r);s>-1&&n.drawImage(l,0,58*s,64,58,216,546,48,44);var a=0,o=R;J(n,t,o,"+",F+V[0],K),a+=1,i>9&&(J(n,t,o,Math.floor(i/10),F+V[a],K),a+=1),J(n,t,o,i%10,F+V[a],K)}}({context:ce,dragonflowerAtlas:c.image,numberAtlas:h.image,moveType:ae,dragonflower:Je.current}),u.loaded&&function(e){var n=e.context,l=e.supportAtlas,t=e.support,r=e.hasBlessing?108:0;t&&n.drawImage(l,z-r,Q,108,115)}({context:ce,supportAtlas:u.image,support:Ve.current,hasBlessing:oe}),d.loaded&&function(e){var n=e.context,l=e.blessingAtlas;n.drawImage(l,G,L,108,115)}({context:ce,blessingAtlas:d.image}),h.loaded&&(!function(e){var n=e.context,l=e.numberAtlas,t=e.lv1?1:40,r=0;t>9&&J(n,l,R,4,ee+le[r],ne),J(n,l,R,t%10,ee+le[r+=1],ne)}({context:ce,numberAtlas:h.image,lv1:Ge.current}),function(e){var n=e.context,l=e.numberAtlas,t=e.merge;if(!(t<=0)){var r=0,i=t>9?H:R;J(n,l,i,"+",te+ie[0],re),r+=1,t>9&&(J(n,l,i,1,te+ie[r],re),r+=1),J(n,l,i,t%10,te+ie[r],re)}}({context:ce,numberAtlas:h.image,merge:We.current}),function(e){var n=e.context,l=e.numberAtlas,t=e.stats,r=e.score,i=e.sbst,s=e.bst;Object.values(t).forEach((function(e,t){t>4||ue(n,l,e,t,N)}));var a=i>s?E:H;ue(n,l,s,5,H),ue(n,l,r,6,a)}(Xe({context:ce,numberAtlas:h.image,score:Le.current,sbst:Math.max(Oe.current.bst||0,Me.current.bst||0)},Ee.current)),fe({context:ce,numberAtlas:h.image,accelerate:Oe.current.accelerate,specialCD:Oe.current.specialCD})),function(e){var n=e.context,l=e.weaponIcon,t=e.assistIcon,r=e.specialIcon,i=e.textA,s=e.textB,a=e.textC,o=e.textS,c=e.skillAIcon,u=e.skillBIcon,d=e.skillCIcon,h=e.sealIcon;l.loaded&&$(n,l.image,0),t.loaded&&$(n,t.image,1),r.loaded&&$(n,r.image,2),c.loaded&&$(n,c.image,3),n.drawImage(i.image,Y+20,U+112+18,18,18),u.loaded&&$(n,u.image,4),n.drawImage(s.image,Y+20,U+149+18,18,18),d.loaded&&$(n,d.image,5),n.drawImage(a.image,Y+20,U+186+18,18,18),h.loaded&&$(n,h.image,6),n.drawImage(o.image,Y+20,U+223+18,18,18)}({context:ce,weaponIcon:f,assistIcon:p,specialIcon:k,textA:x,textB:v,textC:m,textS:I,skillAIcon:b,skillBIcon:j,skillCIcon:y,sealIcon:D}),ke.current.getContext("2d").clearRect(0,0,1080,1920),function(e){var n=e.canvas,l=e.iv,t=e.merge,r=e.bloom,i=n.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#101010",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8;var s=(0,pe.$r)(l),a=s.boon,o=s.bane,c={hp:1,atk:1,spd:1,def:1,res:1,bst:1,arena:1};c[a]+=1,c[o]-=1,c[o]=t>0?1:c[o],r&&(c[r]=Math.min(2,c[r]+1)),ge.forEach((function(e,n){var l=xe(e,2),t=l[0],r=l[1],s=me+74*n;i.fillStyle=Ie[c[t]],i.strokeText(r,ve,s),i.fillText(r,ve,s)}))}({canvas:ke.current,iv:He.current,merge:We.current,bloom:Fe.current}),function(e){var n=e.canvas,l=e.refine,t=e.weapon,r=Be(e,["canvas","refine","weapon"]),i=n.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.textAlign="left",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8,i.strokeStyle="#101010",i.fillStyle=l&&"-"!==l?"lime":"white";var s=be+("-"===t?4:0),a=je;i.strokeText(t,s,a),i.fillText(t,s,a),i.fillStyle="white",Object.keys(r).forEach((function(e){var n=r[e],l=je+74*ye[e],t="-"===n?4:0;n&&(i.strokeText(n,be+t,l),i.fillText(n,be+t,l))}))}(Xe({canvas:ke.current,refine:Qe.current},Oe.current.names)),function(e){var n=e.canvas,l=e.title,t=e.name,r=n.getContext("2d");r.font="500 50px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",r.fillStyle="white",r.strokeStyle="#220d00",r.textAlign="center",r.textBaseline="middle",r.lineJoin="round",r.lineWidth=8,r.strokeText(l,we,De),r.fillText(l,we,De),r.font="500 52px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",r.strokeText(t,Se,Ce),r.fillText(t,Se,Ce)}({canvas:ke.current,title:Z,name:W}),qe.current&&B&&function(e){var n=e.context,l=e.arenaIcon;n.drawImage(l,_e.x,_e.y,50,49)}({context:ce,arenaIcon:B.image}),ze.current&&S&&function(e){var n=e.context,l=e.resplendentIcon;n.drawImage(l,Ae,Pe,64,63)}({context:ce,resplendentIcon:S.image}),Fe.current&&C&&function(e){var n=e.context,l=e.bloomIcon;n.drawImage(l,5,375,45,45)}({context:ce,bloomIcon:C.image}),ce.drawImage(ke.current,0,0,540,960)}}),[]);(0,i.useEffect)((function(){ke.current=document.createElement("canvas"),ke.current.width=1080,ke.current.height=1920}),[]),(0,i.useEffect)((function(){Ne.forEach((function(e){var n=Te(e,2),l=n[0],t=n[1];tn.current[l]=new S(rn),tn.current[l].load((0,u.Z)(t))}))}),[tn,rn]),(0,i.useEffect)((function(){var e=function(e){var n=e.resplendentDB,l=e.heroId;return e.enable&&(null===n||void 0===n?void 0:n.includes(l))?"".concat(l,"(R)"):l}({resplendentDB:de.resplendentDB,heroId:Ye.id,enable:d});tn.current.portrait.load((0,u.Z)("/portraits/".concat(e,".webp")));var n=function(e){var n=e.heroDB,l=e.weaponDB,t=e.assistDB,r=e.specialDB,i=e.skillADB,s=e.skillBDB,a=e.skillCDB,o=e.skillXDB,c=e.sealDB,u=e.heroId,d=e.skillIds,h=e.refine,f=B({heroDB:n,weaponDB:l,assistDB:t,specialDB:r,skillADB:i,skillBDB:s,skillCDB:a,skillXDB:o,sealDB:c,heroId:u,skillIds:d}),p={};if(b.forEach((function(e){var n=f[e];p[e]=(null===n||void 0===n?void 0:n.icon)&&"/skills/".concat(n.icon)})),h&&"-"!==h){var k,x,v,m=g[h]||(null===(k=f.weapon)||void 0===k||null===(x=k.refine)||void 0===x||null===(v=x[h])||void 0===v?void 0:v.icon);m&&(p.weapon="/skills/weapon/".concat(m))}return p}({heroDB:de.heroDB,weaponDB:de.weaponDB,assistDB:de.assistDB,specialDB:de.specialDB,skillADB:de.skillADB,skillBDB:de.skillBDB,skillCDB:de.skillCDB,skillXDB:de.skillXDB,sealDB:de.sealDB,skillIds:Ue,heroId:Ye.id,refine:D});Re.forEach((function(e){var l=e.skillName,t=e.empty;tn.current["".concat(l,"Icon")].load((0,u.Z)("".concat(n[l]||t,".webp")))}));var l="-"!==Ye.blessing&&!!Ye.blessing||!!a,t=(0,u.Z)("/assets/blessing-".concat(Ye.blessing||a,".webp"));tn.current.blessingAtlas.load(l?t:"")}),[Ye,d,Ue,D,a,nn,de.heroDB,de.weaponDB,de.assistDB,de.specialDB,de.skillADB,de.skillBDB,de.skillCDB,de.skillXDB,de.sealDB,de.resplendentDB]),(0,i.useEffect)((function(){Me.current=Ye,Ze.current=l,He.current=t,We.current=r,Je.current=s,Ke.current=a,Ve.current=o,qe.current=c,ze.current=d,Qe.current=D,Ge.current=ce,Le.current=ln,Oe.current=en,Ee.current=nn,Fe.current=v,rn()}),[Ye,l,t,r,s,a,o,c,d,D,ce,ln,en,nn,v,rn]);var sn=(0,i.useCallback)((function(){var e=he.current.toDataURL("image/png"),n=document.createElement("a");n.href=e,n.download="".concat(null===Ye||void 0===Ye?void 0:Ye.name,"-").concat(null===Ye||void 0===Ye?void 0:Ye.title,".png"),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}),[null===Ye||void 0===Ye?void 0:Ye.name,null===Ye||void 0===Ye?void 0:Ye.title]);return{canvasRef:he,triggerDownload:sn}},Ze=l(2696),He=l.n(Ze);function We(e,n){if(null==e)return{};var l,t,r=function(e,n){if(null==e)return{};var l,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||(r[l]=e[l]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}function Je(e){var n=e.openEditor,l=We(e,["openEditor"]),r=Ee(l),i=r.canvasRef,s=r.triggerDownload;return(0,t.jsxs)("div",{className:He().container,children:[(0,t.jsx)("canvas",{className:He().canvas,width:"540",height:"960",ref:i}),(0,t.jsx)("button",{className:"".concat(He().button," ").concat(He().download),onClick:s,children:(0,t.jsx)(a,{})}),(0,t.jsx)("button",{className:"".concat(He().button," ").concat(He().menu),onClick:n,children:(0,t.jsx)(c,{})})]})}var Fe=(0,i.memo)(Je);function Ke(e){return 4===e?"4\u2605":"5\u2606"}var Ve=[{name:"+\u653b\u64ca",value:"atk"},{name:"+\u901f\u5ea6",value:"spd"},{name:"+\u9632\u5b88",value:"def"},{name:"+\u9b54\u9632",value:"res"}];function qe(e){var n=Ve.find((function(n){return e===n.value}));return(null===n||void 0===n?void 0:n.name)||"-"}var ze=[{name:"+HP",value:"hp"},{name:"+\u653b\u64ca",value:"atk"},{name:"+\u901f\u5ea6",value:"spd"},{name:"+\u9632\u5b88",value:"def"},{name:"+\u9b54\u9632",value:"res"}];function Qe(e){var n=ze.find((function(n){return e===n.value}));return(null===n||void 0===n?void 0:n.name)||"-"}var Ge=l(8417),Le=l(2008),Ye=l.n(Le);function Ue(){return(0,t.jsx)("div",{className:Ye().checked})}var $e=function(e){var n=e.className,l=e.checked,r=e.onChange,s=(0,i.useCallback)((function(e){r&&(e.stopPropagation(),r(!l))}),[l,r]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{role:"button",className:"".concat(Ye().button," ").concat(n),onClick:s,children:l&&(0,t.jsx)(Ue,{})})})},en=l(7710),nn=l.n(en);var ln=function(e){var n=e.children,l=e.checked,r=e.onChange;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("label",{className:nn().label,children:[n,(0,t.jsx)($e,{className:nn()["label-checkbox"],checked:l,onChange:r})]})})},tn=l(2718),rn=l(4882),sn=l(5767),an=l.n(sn);var on=function(e){var n=e.onClick;return(0,t.jsx)("button",{className:an().button,onClick:n,style:{fontSize:"16px",marginLeft:"1em"},children:"\u4f7f\u7528\u539f\u751f\u6280\u80fd"})},cn=l(3511),un=l(8219);function dn(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}var hn=function(e){var n=e.heroId,l=e.resplendent,r=(0,w.K)(),s=r.heroDB,a=r.dragonflowersDB,o=r.assistDB,c=r.resplendentDB,u=(0,i.useMemo)((function(){return(0,h.gO)({heroDB:s,dragonflowersDB:a,assistDB:o,resplendentDB:c,heroId:n,noStat:!0})}),[s,a,o,c,n]);return(0,t.jsx)(un.Z,function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){dn(e,n,l[n])}))}return e}({},u,{faceSrc:l?u.faceSrcR:u.faceSrc}))};var fn=function(e){var n=e.heroId,l=e.weaponId,r=(0,w.K)(),i=r.heroDB,s=r.weaponDB;return(0,t.jsx)(t.Fragment,{children:(0,v.fu)({heroDB:i,weaponDB:s,heroId:n,weaponId:l})})},pn=l(8180);var kn=function(e){var n=e.heroId,l=e.weaponId,r=e.refine,i=(0,w.K)(),s=i.heroDB,a=i.weaponDB,o=(0,v.Wu)({heroDB:s,weaponDB:a,heroId:n,weaponId:l,refine:r}),c=o.icon,u=o.name;return(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsx)(pn.JO,{src:"/skills/weapon/".concat(c,".png")}),u]})};var xn=function(e){var n=e.assistId,l=(0,w.K)().assistDB;return(0,t.jsx)(t.Fragment,{children:(0,d.sq)({assistDB:l,assistId:n})})};var vn=function(e){var n=e.specialId,l=(0,w.K)().specialDB;return(0,t.jsx)(t.Fragment,{children:(0,x.R_)({specialDB:l,specialId:n})})},mn=["skillA","skillB","skillC","skillX"];var In=function(e){var n=e.skillType,l=e.skillId,r=(0,w.K)();if(mn.includes(n)){var i=r["".concat(n,"DB")],s=(0,k.cp)({skillDB:i,skillId:l}),a=s.icon,o=s.name;return(0,t.jsxs)(t.Fragment,{children:[a&&(0,t.jsx)(pn.JO,{src:"/skills/".concat(a)}),o]})}if("seal"===n){var c=function(e){var n=p({sealDB:e.sealDB,sealId:e.sealId});return n?{icon:n.icon,name:n.name}:{icon:"",name:""}}({sealDB:r.sealDB,sealId:l}),u=c.icon,d=c.name;return(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(pn.JO,{src:"/skills/".concat(u)}),d]})}return null};function gn(e,n){if(null==e)return{};var l,t,r=function(e,n){if(null==e)return{};var l,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||(r[l]=e[l]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}var Bn=function(e){var n=e.hidden,l=e.heroId,r=e.rarity,s=e.iv,a=e.merge,o=e.dragonflower,c=e.blessing,u=e.support,d=e.arena,f=e.resplendent,p=e.mythicBonus1,k=e.mythicBonus2,x=e.mythicBonus3,m=e.mythicBonus4,I=e.bloom,g=e.weaponId,B=e.refine,b=e.assistId,j=e.specialId,y=e.skillAId,D=e.skillBId,S=e.skillCId,C=e.skillXId,_=e.sealId,A=e.lv1,P=e.maxSkill,M=gn(e,["hidden","heroId","rarity","iv","merge","dragonflower","blessing","support","arena","resplendent","mythicBonus1","mythicBonus2","mythicBonus3","mythicBonus4","bloom","weaponId","refine","assistId","specialId","skillAId","skillBId","skillCId","skillXId","sealId","lv1","maxSkill"]),O=function(e){var n=e.heroId,l=e.weaponId,t=e.maxSkill,r=(0,w.K)(),s=r.heroDB,a=r.weaponDB,o=(0,i.useMemo)((function(){return(0,h.cK)(s,n)}),[s,n]),c=(0,i.useMemo)((function(){if("Feh"===n)return!1;var e=(0,v.CB)({heroDB:s,weaponDB:a,heroId:n});return t?e.filter((function(e){return e.last})).length>0:e.length>0}),[s,a,n,t]),u=(0,i.useMemo)((function(){return"Feh"!==n&&(0,v.Mf)({heroDB:s,weaponDB:a,heroId:n,weaponId:l}).length>0}),[s,a,n,l]),d=(0,i.useMemo)((function(){return"Feh"!==n&&"mythic"===o.pool}),[n,o]);return"Feh"===n?{hasRarity:!1,hasBlessing:!0,hasWeapon:!1,hasRefine:!1,hasAssist:!1,hasSpecial:!1,hasSkillA:!1,hasSkillB:!1,hasSkillC:!1,hasSeal:!1,isMythic:!1}:{hasRarity:o.rarity.length>0,hasBlessing:!!o.blessing,hasWeapon:c,hasRefine:u,hasAssist:!0,hasSpecial:!0,hasSkillA:!0,hasSkillB:!0,hasSkillC:!0,hasSkillX:!0,hasSeal:!0,blessing:o.blessing,isMythic:d}}({heroId:l,weaponId:g,maxSkill:P}),X=O.hasRarity,T=O.hasBlessing,N=O.hasWeapon,R=O.hasRefine,E=O.hasAssist,Z=O.hasSpecial,H=O.hasSkillA,W=O.hasSkillB,J=O.hasSkillC,F=O.hasSkillX,K=O.hasSeal,V=O.blessing,q=O.isMythic;return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsx)("button",{className:an()["close-button"],onClick:M.closeEditor,children:(0,t.jsx)(Ge.Z,{})}),(0,t.jsx)(cn.Dx,{children:(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:"\u82f1\u96c4"}),(0,t.jsx)(ln,{checked:A,onChange:M.toggleLv1,children:"Lv1"})]})}),(0,t.jsxs)(cn.VY,{children:[(0,t.jsx)("button",{className:"".concat(an().button," ").concat(an()["hero-header"]),onClick:M.openHeroPicker,children:(0,t.jsx)(hn,{heroId:l,resplendent:f})}),(0,t.jsxs)(cn.P9,{children:[(0,t.jsxs)(cn.M9,{disabled:!X,onClick:M.openRarityPicker,children:["\u7a00\u6709\u5ea6",(0,t.jsx)(cn.BQ,{children:Ke(r)})]}),(0,t.jsxs)(cn.M9,{disabled:"Feh"===l,onClick:M.openIVPicker,children:["IV",(0,t.jsx)(cn.BQ,{children:(0,pe.Zx)(s)})]}),(0,t.jsxs)(cn.M9,{disabled:T,onClick:M.openBlessingPicker,children:["\u795d\u798f",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(rn.Z,{blessing:V||c})})]}),(0,t.jsxs)(cn.M9,{onClick:M.openMergePicker,children:["\u7a81\u7834\u6b21\u6578",(0,t.jsx)(cn.BQ,{children:a?"+".concat(a):"-"})]}),(0,t.jsxs)(cn.M9,{onClick:M.openDragonflowerPicker,children:["\u795e\u9f8d\u4e4b\u82b1",(0,t.jsx)(cn.BQ,{children:o?"+".concat(o):"-"})]})]})]}),(0,t.jsx)(cn.Dx,{children:(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:"\u6280\u80fd"}),(0,t.jsx)(ln,{checked:P,onChange:M.toggleMaxSkill,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),(0,t.jsx)(on,{onClick:M.setAllSkillDefault})]})}),(0,t.jsxs)(cn.VY,{children:[(0,t.jsxs)(cn.P9,{children:[(0,t.jsxs)(cn.M9,{disabled:!N,onClick:M.openWeaponPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"\u6b66\u5668",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(fn,{heroId:l,weaponId:g})})]}),(0,t.jsxs)(cn.M9,{disabled:!R,onClick:M.openRefinePicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/refining-stone.png"}),"\u935b\u9020",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(kn,{heroId:l,weaponId:g,refine:B})})]})]}),(0,t.jsxs)(cn.P9,{children:[(0,t.jsxs)(cn.M9,{disabled:!E,onClick:M.openAssistPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"\u8f14\u52a9",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(xn,{assistId:b})})]}),(0,t.jsxs)(cn.M9,{disabled:!Z,onClick:M.openSpecialPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"\u5967\u7fa9",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(vn,{specialId:j})})]})]}),(0,t.jsxs)(cn.P9,{children:[(0,t.jsxs)(cn.M9,{disabled:!H,onClick:M.openSkillAPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A\u6280\u80fd",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(In,{skillType:"skillA",skillId:y})})]}),(0,t.jsxs)(cn.M9,{disabled:!W,onClick:M.openSkillBPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B\u6280\u80fd",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(In,{skillType:"skillB",skillId:D})})]}),(0,t.jsxs)(cn.M9,{disabled:!J,onClick:M.openSkillCPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C\u6280\u80fd",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(In,{skillType:"skillC",skillId:S})})]}),(0,t.jsxs)(cn.M9,{disabled:!K,onClick:M.openSealPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),"\u8056\u5370",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(In,{skillType:"seal",skillId:_})})]}),(0,t.jsxs)(cn.M9,{disabled:!F,onClick:M.openSkillXPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-x.png"}),"X\u6280\u80fd",(0,t.jsx)(cn.BQ,{children:(0,t.jsx)(In,{skillType:"skillX",skillId:C})})]})]})]}),(0,t.jsx)(cn.Dx,{children:"\u5f37\u5316"}),(0,t.jsxs)(cn.VY,{children:[(0,t.jsxs)(cn.P9,{children:[(0,t.jsxs)(cn.M9,{onClick:M.toggleSupport,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/support.png"}),"\u53ec\u559a\u5e2b\u5951\u7d04",(0,t.jsx)($e,{checked:u})]}),(0,t.jsxs)(cn.M9,{onClick:M.toggleArena,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Arena_Crown.png"}),"\u9b25\u6280\u5834",(0,t.jsx)($e,{checked:d})]}),(0,t.jsxs)(cn.M9,{onClick:M.toggleResplendent,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/god-wear.png"}),"\u795e\u88dd",(0,t.jsx)($e,{checked:f})]}),(0,t.jsxs)(cn.M9,{disabled:"Feh"===l,onClick:M.openBloomPicker,children:[(0,t.jsx)(tn.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Icon_FlowerBud.png"}),"\u7dbb\u653e",(0,t.jsx)(cn.BQ,{style:{height:"42px"},children:Qe(I)})]})]}),!q&&(0,t.jsxs)(cn.P9,{children:[(0,t.jsxs)(cn.M9,{disabled:"Feh"===l,onClick:M.openMythicBonus1,children:["\u795e\u968e1",(0,t.jsx)(cn.BQ,{children:qe(p)})]}),(0,t.jsxs)(cn.M9,{disabled:"Feh"===l,onClick:M.openMythicBonus2,children:["\u795e\u968e2",(0,t.jsx)(cn.BQ,{children:qe(k)})]}),(0,t.jsxs)(cn.M9,{disabled:"Feh"===l,onClick:M.openMythicBonus3,children:["\u795e\u968e3",(0,t.jsx)(cn.BQ,{children:qe(x)})]}),(0,t.jsxs)(cn.M9,{disabled:"Feh"===l,onClick:M.openMythicBonus4,children:["\u795e\u968e4",(0,t.jsx)(cn.BQ,{children:qe(m)})]})]})]})]})},bn=l(4074),jn=l(437),yn=l(1698),wn=l.n(yn);var Dn=function(e){var n=e.hidden,l=e.heroId,r=e.onChangeHero,s=e.onClickBack,a=e.resplendent,o=(0,i.useCallback)((function(e){r(e),s()}),[r,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),"\u82f1\u96c4"]}),(0,t.jsx)("div",{className:wn().picker,children:(0,t.jsx)(bn.Z,{heroId:l,onSelect:o,noDropdown:!0,resplendent:a})})]})},Sn=l(1865);var Cn=function(e){var n=e.hidden,l=e.rarity,r=e.selectRarity,s=e.onClickBack,a=(0,i.useCallback)((function(e){r(e),s()}),[r,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),"\u7a00\u6709\u5ea6"]}),(0,t.jsx)(Sn.Z,{rarity:l,minRarity:4,onSelect:a})]})},_n=l(4326);var An=function(e){var n=e.hidden,l=e.iv,r=e.selectIV,s=e.onClickBack,a=(0,i.useCallback)((function(e){r(e),s()}),[r,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),"IV"]}),(0,t.jsx)(_n.Z,{iv:l,selectIV:a})]})},Pn=l(5493);var Mn=function(e){var n=e.hidden,l=e.blessing,r=e.selectBlessing,s=e.onClickBack,a=(0,i.useCallback)((function(e){r(e),s()}),[r,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),"IV"]}),(0,t.jsx)(Pn.Z,{blessing:l,selectBlessing:a})]})},On=l(9365);var Xn=function(e){var n=e.hidden,l=e.merge,r=e.selectMerge,s=e.onClickBack,a=(0,i.useCallback)((function(e){r(e),s()}),[r,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),"\u7a81\u7834\u6b21\u6578"]}),(0,t.jsx)(On.Z,{merge:l,onSelect:a})]})},Tn=l(5431),Nn=new Array(31).fill(0).map((function(e,n){return n}));var Rn=function(e){var n=e.dragonflower,l=e.onSelect;return(0,t.jsx)(Tn.Z,{value:n,onSelect:l,options:Nn})};var En=function(e){var n=e.hidden,l=e.dragonflower,r=e.selectDragonflower,s=e.onClickBack,a=(0,i.useCallback)((function(e){r(e),s()}),[r,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),"\u795e\u9f8d\u4e4b\u82b1"]}),(0,t.jsx)(Rn,{dragonflower:l,onSelect:a})]})},Zn=l(1237),Hn=l.n(Zn);var Wn=function(e){var n=e.active,l=e.last,r=e.hidden,i=e.value,s=e.children,a=e.onClick;return(0,t.jsx)("button",{className:Hn().button,"data-active":n,"data-last":l,value:i,onClick:a,hidden:r,children:s})};function Jn(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function Fn(e){var n=e.heroId,l=e.filter,t=e.maxSkill,r=(0,w.K)(),s=r.heroDB,a=r.weaponDB,o=(0,i.useMemo)((function(){return(0,v.CB)({heroDB:s,weaponDB:a,heroId:n})}),[n,s,a]),c=(0,i.useMemo)((function(){return o.map((function(e){var n=!1;return t&&!e.last&&(n=!0),!n&&l&&(n=!e.query.includes(l.toLowerCase())),function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){Jn(e,n,l[n])}))}return e}({},e,{hidden:n})}))}),[o,l,t]);return{options:c}}var Kn=l(959);var Vn=function(e){var n=e.active,l=e.weapon,r=e.hidden,i=e.onClick;return(0,t.jsx)(Wn,{active:n,last:l.last,hidden:r,value:l.id,onClick:i,children:(0,t.jsx)(Kn.Z,{weapon:l})})};function qn(e,n){if(null==e)return{};var l,t,r=function(e,n){if(null==e)return{};var l,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||(r[l]=e[l]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}function zn(e){var n=e.heroId,l=e.weaponId,r=e.selectWeaponId,s=Fn({heroId:n,filter:e.filter,maxSkill:e.maxSkill}).options,a=(0,i.useCallback)((function(e){e.stopPropagation(),r(e.currentTarget.value)}),[r]);return(0,t.jsxs)(cn.Ei,{children:[(0,t.jsx)(Wn,{active:!l,value:"",onClick:a,children:"\u7121\u6b66\u5668"}),s.map((function(e){var n=e.hidden,r=qn(e,["hidden"]);return(0,t.jsx)(Vn,{hidden:n,weapon:r,active:l===e.id,onClick:a},e.id)}))]})}var Qn=(0,i.memo)(zn);var Gn=function(e){var n=e.hidden,l=e.onClickBack,r=e.heroId,s=e.weaponId,a=e.selectWeaponId,o=e.maxSkill,c=e.toggleMaxSkill,u=e.setDefaultSkill,d=(0,i.useState)(""),h=d[0],f=d[1],p=(0,i.useCallback)((function(e){f(e.currentTarget.value)}),[]),k=(0,i.useCallback)((function(e){a(e),l()}),[a,l]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:l}),(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:"\u6b66\u5668"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(ln,{checked:o,onChange:c,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),(0,t.jsx)(on,{onClick:u})]})]})]}),(0,t.jsx)("input",{className:an().input,placeholder:"\u6b66\u5668\u540d\u7a31",onChange:p}),(0,t.jsx)(cn.qn,{children:(0,t.jsx)(Qn,{heroId:r,weaponId:s,filter:h,maxSkill:o,selectWeaponId:k})})]})};var Ln=l(934),Yn=l.n(Ln);function Un(e){var n=e.children;return(0,t.jsx)("div",{className:Yn().refineName,children:n})}function $n(e){var n=e.src;return(0,t.jsx)(tn.Z,{src:n,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function el(e){var n=e.children;return(0,t.jsx)("div",{className:Yn().might,children:n})}function nl(e){var n=e.children;return(0,t.jsx)("div",{className:Yn().extractStats,children:n})}function ll(e){var n=e.children;return(0,t.jsx)("div",{className:Yn().extractStat,children:n})}function tl(e){var n=e.cd,l=e.children;return n?(0,t.jsx)("div",{style:{color:n<0?"lightskyblue":"palevioletred"},children:l}):null}function rl(e){var n=e.children;return(0,t.jsx)("div",{style:{color:"salmon"},children:n})}var il=function(e){return e>0?"+".concat(e):"".concat(e)};var sl=function(e){var n=e.active,l=e.hidden,r=e.refineType,i=e.refine,s=e.onClick;return(0,t.jsxs)(Wn,{active:n,last:!0,hidden:l,value:r,onClick:s,children:[(0,t.jsxs)(Un,{children:[i.icon&&(0,t.jsx)($n,{src:i.icon}),i.name]}),i.mt&&(0,t.jsxs)(el,{children:["\u5a01\u529b ",i.mt]}),i.cd&&(0,t.jsxs)(tl,{cd:i.cd,children:["\u5967\u7fa9 cd",il(i.cd)]}),(0,t.jsxs)(nl,{children:[i.hp&&(0,t.jsxs)(ll,{children:["HP ",il(i.hp)]}),i.atk&&(0,t.jsxs)(ll,{children:["\u653b\u64ca ",il(i.atk)]}),i.spd&&(0,t.jsxs)(ll,{children:["\u901f\u5ea6 ",il(i.spd)]}),i.def&&(0,t.jsxs)(ll,{children:["\u9632\u5b88 ",il(i.def)]}),i.res&&(0,t.jsxs)(ll,{children:["\u9b54\u9632 ",il(i.res)]})]}),i.exclusive&&(0,t.jsx)(rl,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function al(e,n){if(null==e)return{};var l,t,r=function(e,n){if(null==e)return{};var l,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||(r[l]=e[l]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)l=i[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}function ol(e){var n=e.heroId,l=e.weaponId,r=e.refine,s=e.selectRefine,a=function(e){var n=e.heroId,l=e.weaponId,t=(0,w.K)(),r=t.heroDB,s=t.weaponDB;return{options:(0,i.useMemo)((function(){return(0,v.Mf)({heroDB:r,weaponDB:s,heroId:n,weaponId:l})}),[r,s,n,l])}}({heroId:n,weaponId:l}).options,o=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]);return(0,t.jsxs)(cn.Ei,{children:[(0,t.jsx)(Wn,{active:!r,value:"",onClick:o,children:"\u7121\u935b\u9020"}),a.map((function(e){var n=e.value,l=al(e,["value"]);return(0,t.jsx)(sl,{refineType:n,refine:l,active:r===n,onClick:o},n)}))]})}var cl=(0,i.memo)(ol);var ul=function(e){var n=e.hidden,l=e.onClickBack,r=e.heroId,s=e.weaponId,a=e.refine,o=e.selectRefine,c=(0,i.useCallback)((function(e){o(e),l()}),[o,l]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:l}),(0,t.jsx)(cn.dH,{children:(0,t.jsx)("span",{children:"\u935b\u9020"})})]}),(0,t.jsx)(cn.qn,{children:(0,t.jsx)(cl,{heroId:r,weaponId:s,refine:a,selectRefine:c})})]})},dl=l(6738),hl=l(1728);function fl(e){var n=e.active,l=e.hidden,r=e.skill,i=e.onClick;return(0,t.jsxs)(Wn,{active:n,last:r.last,hidden:l,value:r.id,onClick:i,children:[(0,t.jsxs)(pn.pp,{children:[(0,t.jsxs)(pn.bP,{children:[r.icon&&(0,t.jsx)(pn.JO,{src:"/skills/".concat(r.icon)}),r.name]}),(0,t.jsxs)(pn.n0,{children:[r.sp,"SP"]})]}),r.mt&&(0,t.jsxs)(pn.XR,{children:["\u5a01\u529b ",r.mt]}),r.cd&&(0,t.jsxs)(pn.eM,{cd:r.cd,children:["\u5967\u7fa9 cd",(0,pn.lG)(r.cd)]}),(0,t.jsxs)(pn.lJ,{children:[r.hp&&(0,t.jsxs)(pn.i5,{children:["HP ",(0,pn.lG)(r.hp)]}),r.atk&&(0,t.jsxs)(pn.i5,{children:["\u653b\u64ca ",(0,pn.lG)(r.atk)]}),r.spd&&(0,t.jsxs)(pn.i5,{children:["\u901f\u5ea6 ",(0,pn.lG)(r.spd)]}),r.def&&(0,t.jsxs)(pn.i5,{children:["\u9632\u5b88 ",(0,pn.lG)(r.def)]}),r.res&&(0,t.jsxs)(pn.i5,{children:["\u9b54\u9632 ",(0,pn.lG)(r.res)]})]}),r.exclusive&&(0,t.jsx)(pn.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var pl=(0,i.memo)(fl);function kl(e){var n=e.index,l=e.style,r=e.data,i=r.skillId,s=r.skills,a=r.onClick,o=s[n];return(0,t.jsx)("div",{style:l,children:(0,t.jsx)(pl,{active:i===o.id,skill:o,onClick:a},o.id)})}function xl(e){var n=e.heroId,l=e.weaponId,r=e.skillType,s=e.skillId,a=e.selectSkill,o=e.skillXId,c=e.filter,u=e.maxSkill,d=(0,i.useCallback)((function(e){e.stopPropagation(),a(e.currentTarget.value)}),[a]),h=function(e){var n=e.heroId,l=e.weaponId,t=e.skillType,r=e.skillXId,s=e.filter,a=e.maxSkill,o=(0,w.K)(),c=o.rules2DB,u=o.heroDB,d=o.weaponDB,h=o.defaultSkillDB,f=o["".concat(t,"DB")],p=(0,i.useMemo)((function(){return(0,k.AY)({rules2DB:c,heroDB:u,weaponDB:d,skillDB:f,defaultSkillDB:h,heroId:n,weaponId:l,skillXId:r})}),[c,u,d,f,h,n,l,r]),x=(0,i.useMemo)((function(){var e={};p.forEach((function(n){a&&!n.last||(e[n.sp]=n.sp)}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[a,p]),v=(0,i.useState)([]),m=v[0],I=v[1],g=(0,i.useCallback)((function(e){var n=+e.currentTarget.value;I((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):(e.push(n),e.slice())}))}),[]),B=(0,i.useMemo)((function(){return p.filter((function(e){return!(a&&!e.last)&&!(s&&!e.query.includes(s.toLowerCase()))&&!(m.length&&!m.includes(e.sp))}))}),[p,s,a,m]);return(0,i.useEffect)((function(){I((function(e){return e.filter((function(e){return x.includes(e)}))}))}),[x]),{options:B,spOptions:x,spChecked:m,onCheckSp:g}}({heroId:n,weaponId:l,skillType:r,skillId:s,skillXId:o,filter:c,maxSkill:u}),f=h.options,p=h.spOptions,x=h.spChecked,v=h.onCheckSp,m=(0,i.useMemo)((function(){return{skillId:s,skills:f,onClick:d}}),[s,f,d]),I=(0,i.useCallback)((function(e){var n=f[e],l=40;return(n.mt||n.cd)&&(l+=24),(n.hp||n.atk||n.spd||n.def||n.res)&&(l+=24),n.exclusive&&(l+=24),l+=18}),[f]),g=(0,i.useCallback)((function(e){return f[e].id}),[f]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:an().spButtons,children:p.map((function(e){return(0,t.jsx)("button",{type:"button",value:e,"data-active":x.includes(e),onClick:v,children:e},e)}))}),(0,t.jsx)("div",{className:an().listItems,children:(0,t.jsx)(hl.Z,{children:function(e){var n=e.width,l=e.height;return(0,t.jsx)(dl.S_,{width:n,height:l,itemCount:f.length,itemSize:I,itemData:m,itemKey:g,children:kl},f.length)}})})]})}var vl=(0,i.memo)(xl);function ml(e){var n=e.heroId,l=e.weaponId,r=e.skillType,i=e.skillId,s=e.selectSkill,a=e.skillXId,o=e.filter,c=e.maxSkill;return(0,t.jsxs)(cn.Ei,{children:[(0,t.jsx)(Wn,{active:!i,value:"",onClick:function(){return s("")},children:"\u7121\u6280\u80fd"}),(0,t.jsx)(vl,{heroId:n,weaponId:l,skillType:r,skillId:i,selectSkill:s,skillXId:a,filter:o,maxSkill:c})]})}var Il=(0,i.memo)(ml);var gl=function(e){var n=e.hidden,l=e.skillType,r=e.title,s=e.onClickBack,a=e.heroId,o=e.weaponId,c=e.skillXId,u=e.skillId,d=e.selectSkill,h=e.maxSkill,f=e.toggleMaxSkill,p=e.setDefaultSkill,k=(0,i.useState)(""),x=k[0],v=k[1],m=(0,i.useCallback)((function(e){v(e.currentTarget.value)}),[]),I=(0,i.useCallback)((function(e){d(e),s()}),[d,s]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:s}),(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:r}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(ln,{checked:h,onChange:f,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),p&&(0,t.jsx)(on,{onClick:p})]})]})]}),(0,t.jsx)("input",{className:an().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:m}),(0,t.jsx)(cn.qn,{children:(0,t.jsx)(Il,{heroId:a,weaponId:o,skillType:l,skillId:u,selectSkill:I,skillXId:c,filter:x,maxSkill:h})})]})};function Bl(e){var n=e.active,l=e.hidden,r=e.assist,i=e.onClick;return(0,t.jsxs)(Wn,{active:n,last:r.last,hidden:l,value:r.id,onClick:i,children:[(0,t.jsxs)(pn.pp,{children:[(0,t.jsx)(pn.bP,{children:r.name}),(0,t.jsxs)(pn.n0,{children:[r.sp,"SP"]})]}),r.exclusive&&(0,t.jsx)(pn.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var bl=(0,i.memo)(Bl);function jl(e){var n=e.index,l=e.style,r=e.data,i=r.assistId,s=r.assists,a=r.onClick,o=s[n];return(0,t.jsx)("div",{style:l,children:(0,t.jsx)(bl,{active:i===o.id,assist:o,onClick:a},o.id)})}function yl(e){var n=e.heroId,l=e.weaponId,r=e.assistId,s=e.selectAssist,a=e.filter,o=e.maxSkill,c=e.skillXId,u=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]),h=function(e){var n=e.heroId,l=e.weaponId,t=e.filter,r=e.maxSkill,s=e.skillXId,a=(0,w.K)(),o=a.rules2DB,c=a.heroDB,u=a.weaponDB,h=a.assistDB,f=a.defaultSkillDB,p=(0,i.useMemo)((function(){return(0,d.Gt)({rules2DB:o,heroDB:c,weaponDB:u,assistDB:h,defaultSkillDB:f,heroId:n,weaponId:l,skillXId:s})}),[o,c,u,h,f,n,l,s]),k=(0,i.useMemo)((function(){var e={};p.forEach((function(n){r&&!n.last||(e[n.sp]=n.sp)}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[r,p]),x=(0,i.useState)([]),v=x[0],m=x[1],I=(0,i.useCallback)((function(e){var n=+e.currentTarget.value;m((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):(e.push(n),e.slice())}))}),[]),g=(0,i.useMemo)((function(){return p.filter((function(e){return!(r&&!e.last)&&!(t&&!e.query.includes(t.toLowerCase()))&&!(v.length&&!v.includes(e.sp))}))}),[p,t,r,v]);return{options:g,spOptions:k,spChecked:v,onCheckSp:I}}({heroId:n,weaponId:l,filter:a,maxSkill:o,skillXId:c}),f=h.options,p=h.spOptions,k=h.spChecked,x=h.onCheckSp,v=(0,i.useMemo)((function(){return{assistId:r,assists:f,onClick:u}}),[r,f,u]),m=(0,i.useCallback)((function(e){var n=f[e],l=40;return(n.mt||n.cd)&&(l+=24),(n.hp||n.atk||n.spd||n.def||n.res)&&(l+=24),n.exclusive&&(l+=24),l+=18}),[f]),I=(0,i.useCallback)((function(e){return f[e].id}),[f]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:an().spButtons,children:p.map((function(e){return(0,t.jsx)("button",{type:"button",value:e,"data-active":k.includes(e),onClick:x,children:e},e)}))}),(0,t.jsx)("div",{className:an().listItems,children:(0,t.jsx)(hl.Z,{children:function(e){var n=e.width,l=e.height;return(0,t.jsx)(dl.S_,{width:n,height:l,itemCount:f.length,itemSize:m,itemData:v,itemKey:I,children:jl},f.length)}})})]})}var wl=(0,i.memo)(yl);function Dl(e){var n=e.heroId,l=e.weaponId,r=e.assist,s=e.selectAssist,a=e.filter,o=e.maxSkill,c=e.skillXId,u=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]);return(0,t.jsxs)(cn.Ei,{children:[(0,t.jsx)(Wn,{active:!r,value:"",onClick:u,children:"\u7121\u6280\u80fd"}),(0,t.jsx)(wl,{heroId:n,weaponId:l,assistId:r,filter:a,maxSkill:o,selectAssist:s,skillXId:c})]})}var Sl=(0,i.memo)(Dl);var Cl=function(e){var n=e.hidden,l=e.onClickBack,r=e.heroId,s=e.weaponId,a=e.assist,o=e.selectAssist,c=e.maxSkill,u=e.toggleMaxSkill,d=e.setDefaultSkill,h=e.skillXId,f=(0,i.useState)(""),p=f[0],k=f[1],x=(0,i.useCallback)((function(e){k(e.currentTarget.value)}),[]),v=(0,i.useCallback)((function(e){o(e),l()}),[o,l]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:l}),(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:"\u8f14\u52a9"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(ln,{checked:c,onChange:u,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),d&&(0,t.jsx)(on,{onClick:d})]})]})]}),(0,t.jsx)("input",{className:an().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:x}),(0,t.jsx)(cn.qn,{children:(0,t.jsx)(Sl,{heroId:r,weaponId:s,assist:a,selectAssist:v,filter:p,maxSkill:c,skillXId:h})})]})};function _l(e){var n=e.heroId,l=e.weaponId,t=e.skillXId,r=e.filter,s=e.maxSkill,a=(0,w.K)(),o=a.rules2DB,c=a.heroDB,u=a.weaponDB,d=a.specialDB,h=a.defaultSkillDB,f=(0,i.useMemo)((function(){return(0,x.TZ)({rules2DB:o,heroDB:c,weaponDB:u,specialDB:d,defaultSkillDB:h,heroId:n,weaponId:l,skillXId:t})}),[o,c,u,d,h,n,l,t]),p=(0,i.useMemo)((function(){var e={};f.forEach((function(n){s&&!n.last||(e[n.sp]=n.sp)}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[s,f]),k=(0,i.useState)([]),v=k[0],m=k[1],I=(0,i.useCallback)((function(e){var n=+e.currentTarget.value;m((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):(e.push(n),e.slice())}))}),[]),g=(0,i.useMemo)((function(){return f.filter((function(e){return!(s&&!e.last)&&(!(r&&!e.query.includes(r.toLowerCase()))&&!(v.length&&!v.includes(e.sp)))}))}),[f,r,s,v]);return(0,i.useEffect)((function(){m((function(e){return e.filter((function(e){return p.includes(e)}))}))}),[p]),{options:g,spOptions:p,spChecked:v,onCheckSp:I}}function Al(e){var n=e.active,l=e.hidden,r=e.special,i=e.onClick;return(0,t.jsxs)(Wn,{active:n,last:r.last,hidden:l,value:r.id,onClick:i,children:[(0,t.jsxs)(pn.pp,{children:[(0,t.jsx)(pn.bP,{children:r.name}),(0,t.jsxs)(pn.n0,{children:[r.sp,"SP"]})]}),(0,t.jsxs)("div",{children:["CD ",r.cd]}),r.exclusive&&(0,t.jsx)(pn.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var Pl=(0,i.memo)(Al);function Ml(e){var n=e.index,l=e.style,r=e.data,i=r.special,s=r.skills,a=r.onClick,o=s[n];return(0,t.jsx)("div",{style:l,children:(0,t.jsx)(Pl,{active:i===o.id,special:o,onClick:a},o.id)})}function Ol(e){var n=e.heroId,l=e.weaponId,r=e.special,s=e.selectSpecial,a=e.skillXId,o=e.filter,c=e.maxSkill,u=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]),d=_l({heroId:n,weaponId:l,special:r,skillXId:a,filter:o,maxSkill:c}),h=d.options,f=d.spOptions,p=d.spChecked,k=d.onCheckSp,x=(0,i.useMemo)((function(){return{special:r,skills:h,onClick:u}}),[r,h,u]),v=(0,i.useCallback)((function(e){var n=h[e],l=40;return(n.mt||n.cd)&&(l+=24),(n.hp||n.atk||n.spd||n.def||n.res)&&(l+=24),n.exclusive&&(l+=24),l+=18}),[h]),m=(0,i.useCallback)((function(e){return h[e].id}),[h]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:an().spButtons,children:f.map((function(e){return(0,t.jsx)("button",{type:"button",value:e,"data-active":p.includes(e),onClick:k,children:e},e)}))}),(0,t.jsx)("div",{className:an().listItems,children:(0,t.jsx)(hl.Z,{children:function(e){var n=e.width,l=e.height;return(0,t.jsx)(dl.S_,{width:n,height:l,itemCount:h.length,itemSize:v,itemData:x,itemKey:m,children:Ml},h.length)}})})]})}var Xl=(0,i.memo)(Ol);function Tl(e){var n=e.heroId,l=e.weaponId,r=e.special,s=e.selectSpecial,a=e.skillXId,o=e.filter,c=e.maxSkill,u=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]);return(0,t.jsxs)(cn.Ei,{children:[(0,t.jsx)(Wn,{active:!r,value:"",onClick:u,children:"\u7121\u6280\u80fd"}),(0,t.jsx)(Xl,{heroId:n,weaponId:l,special:r,selectSpecial:s,skillXId:a,filter:o,maxSkill:c})]})}var Nl=(0,i.memo)(Tl);var Rl=function(e){var n=e.hidden,l=e.onClickBack,r=e.heroId,s=e.weaponId,a=e.special,o=e.selectSpecial,c=e.skillXId,u=e.maxSkill,d=e.toggleMaxSkill,h=e.setDefaultSkill,f=(0,i.useState)(""),p=f[0],k=f[1],x=(0,i.useCallback)((function(e){k(e.currentTarget.value)}),[]),v=(0,i.useCallback)((function(e){o(e),l()}),[o,l]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:l}),(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:"\u5967\u7fa9"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(ln,{checked:u,onChange:d,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),h&&(0,t.jsx)(on,{onClick:h})]})]})]}),(0,t.jsx)("input",{className:an().input,placeholder:"\u5967\u7fa9\u540d\u7a31",onChange:x}),(0,t.jsx)(cn.qn,{children:(0,t.jsx)(Nl,{heroId:r,weaponId:s,special:a,selectSpecial:v,skillXId:c,filter:p,maxSkill:u})})]})};function El(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=new Array(n);l<n;l++)t[l]=e[l];return t}function Zl(e){return function(e){if(Array.isArray(e))return El(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return El(e,n);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(l);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return El(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hl(e){var n=e.active,l=e.hidden,r=e.skill,i=e.onClick;return(0,t.jsxs)(Wn,{active:n,last:r.last,hidden:l,value:r.id,onClick:i,children:[(0,t.jsxs)(pn.pp,{children:[(0,t.jsxs)(pn.bP,{children:[r.icon&&(0,t.jsx)(pn.JO,{src:"/skills/".concat(r.icon)}),r.name]}),r.sp&&(0,t.jsxs)(pn.n0,{children:[r.sp,"SP"]})]}),r.mt&&(0,t.jsxs)(pn.XR,{children:["\u5a01\u529b ",r.mt]}),r.cd&&(0,t.jsxs)(pn.eM,{cd:r.cd,children:["\u5967\u7fa9 cd",(0,pn.lG)(r.cd)]}),(0,t.jsxs)(pn.lJ,{children:[r.hp&&(0,t.jsxs)(pn.i5,{children:["HP ",(0,pn.lG)(r.hp)]}),r.atk&&(0,t.jsxs)(pn.i5,{children:["\u653b\u64ca ",(0,pn.lG)(r.atk)]}),r.spd&&(0,t.jsxs)(pn.i5,{children:["\u901f\u5ea6 ",(0,pn.lG)(r.spd)]}),r.def&&(0,t.jsxs)(pn.i5,{children:["\u9632\u5b88 ",(0,pn.lG)(r.def)]}),r.res&&(0,t.jsxs)(pn.i5,{children:["\u9b54\u9632 ",(0,pn.lG)(r.res)]})]}),r.exclusive&&(0,t.jsx)(pn.Z4,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var Wl=(0,i.memo)(Hl);function Jl(e){var n=e.index,l=e.style,r=e.data,i=r.seal,s=r.skills,a=r.onClick,o=s[n];return"_sealA"===o.id?(0,t.jsx)("div",{style:l,children:(0,t.jsx)(cn.DK,{children:"A\u6280\u80fd\u8056\u5370"})}):"_sealB"===o.id?(0,t.jsx)("div",{style:l,children:(0,t.jsx)(cn.DK,{children:"B\u6280\u80fd\u8056\u5370"})}):"_sealC"===o.id?(0,t.jsx)("div",{style:l,children:(0,t.jsx)(cn.DK,{children:"C\u6280\u80fd\u8056\u5370"})}):"_seal"===o.id?(0,t.jsx)("div",{style:l,children:(0,t.jsx)(cn.DK,{children:"\u5c08\u7528\u8056\u5370"})}):(0,t.jsx)("div",{style:l,children:(0,t.jsx)(Wl,{active:i===o.id,skill:o,onClick:a},o.id)})}function Fl(e){var n=e.heroId,l=e.weaponId,r=e.seal,s=e.selectSeal,a=e.filter,o=e.maxSkill,c=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]),u=function(e){var n=e.heroId,l=e.weaponId,t=e.filter,r=e.maxSkill,s=(0,w.K)(),a=s.rules2DB,o=s.heroDB,c=s.weaponDB,u=s.sealDB,d=s.defaultSkillDB,h=(0,i.useMemo)((function(){var e=(0,k.AY)({rules2DB:a,heroDB:o,weaponDB:c,defaultSkillDB:d,skillDB:u.skillA,heroId:n,weaponId:l,skillXId:""}),t=(0,k.AY)({rules2DB:a,heroDB:o,weaponDB:c,defaultSkillDB:d,skillDB:u.skillB,heroId:n,weaponId:l,skillXId:""}),r=(0,k.AY)({rules2DB:a,heroDB:o,weaponDB:c,defaultSkillDB:d,skillDB:u.skillC,heroId:n,weaponId:l,skillXId:""}),i=(0,k.AY)({rules2DB:a,heroDB:o,weaponDB:c,defaultSkillDB:d,skillDB:u.seal,heroId:n,weaponId:l,skillXId:""});return[{id:"_sealA",name:"A\u6280\u80fd\u8056\u5370",sp:0,icon:"",query:""}].concat(Zl(e),[{id:"_sealB",name:"B\u6280\u80fd\u8056\u5370",sp:0,icon:"",query:""}],Zl(t),[{id:"_sealC",name:"C\u6280\u80fd\u8056\u5370",sp:0,icon:"",query:""}],Zl(r),[{id:"_seal",name:"\u5c08\u7528\u8056\u5370",sp:0,icon:"",query:""}],Zl(i))}),[a,o,c,u,d,n,l]),f=(0,i.useMemo)((function(){var e={};h.forEach((function(n){r&&!n.last||(e[n.sp]=n.sp)}));var n=Object.values(e).filter((function(e){return!!e}));return n.length<2?[]:n.sort((function(e,n){return e-n}))}),[r,h]),p=(0,i.useState)([]),x=p[0],v=p[1],m=(0,i.useCallback)((function(e){var n=+e.currentTarget.value;v((function(e){return e.includes(n)?e.filter((function(e){return n!==e})):(e.push(n),e.slice())}))}),[]),I=(0,i.useMemo)((function(){return h.filter((function(e){return!!["_sealA","_sealB","_sealC","_seal"].includes(e.id)||!(r&&!e.last)&&!(t&&!e.query.includes(t.toLowerCase()))&&!(x.length&&!x.includes(e.sp))}))}),[h,t,r,x]);return(0,i.useEffect)((function(){v((function(e){return e.filter((function(e){return f.includes(e)}))}))}),[f]),{options:I,spOptions:f,spChecked:x,onCheckSp:m}}({heroId:n,weaponId:l,filter:a,maxSkill:o}),d=u.options,h=u.spOptions,f=u.spChecked,p=u.onCheckSp,x=(0,i.useMemo)((function(){return{seal:r,skills:d,onClick:c}}),[r,d,c]),v=(0,i.useCallback)((function(e){var n=d[e];if(["_sealA","_sealB","_sealC","_seal"].includes(n.id))return 44;var l=40;return(n.mt||n.cd)&&(l+=24),(n.hp||n.atk||n.spd||n.def||n.res)&&(l+=24),n.exclusive&&(l+=24),l+=18}),[d]),m=(0,i.useCallback)((function(e){return d[e].id}),[d]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:an().spButtons,children:h.map((function(e){return(0,t.jsx)("button",{type:"button",value:e,"data-active":f.includes(e),onClick:p,children:e},e)}))}),(0,t.jsx)("div",{className:an().listItems,children:(0,t.jsx)(hl.Z,{children:function(e){var n=e.width,l=e.height;return(0,t.jsx)(dl.S_,{width:n,height:l,itemCount:d.length,itemSize:v,itemData:x,itemKey:m,children:Jl},d.length)}})})]})}var Kl=(0,i.memo)(Fl);function Vl(e){var n=e.heroId,l=e.weaponId,r=e.seal,s=e.selectSeal,a=e.filter,o=e.maxSkill,c=(0,i.useCallback)((function(e){e.stopPropagation(),s(e.currentTarget.value)}),[s]);return(0,t.jsxs)(cn.Ei,{children:[(0,t.jsx)(Wn,{active:!r,value:"",onClick:c,children:"\u7121\u8056\u5370"}),(0,t.jsx)(Kl,{heroId:n,weaponId:l,seal:r,selectSeal:s,filter:a,maxSkill:o})]})}var ql=(0,i.memo)(Vl);var zl=function(e){var n=e.hidden,l=e.onClickBack,r=e.heroId,s=e.weaponId,a=e.seal,o=e.selectSeal,c=e.maxSkill,u=e.toggleMaxSkill,d=(0,i.useState)(""),h=d[0],f=d[1],p=(0,i.useCallback)((function(e){f(e.currentTarget.value)}),[]),k=(0,i.useCallback)((function(e){o(e),l()}),[o,l]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:l}),(0,t.jsxs)(cn.dH,{children:[(0,t.jsx)("span",{children:"\u8056\u5370"}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,t.jsx)(ln,{checked:c,onChange:u,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"})})]})]}),(0,t.jsx)("input",{className:an().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:p}),(0,t.jsx)(cn.qn,{children:(0,t.jsx)(ql,{heroId:r,weaponId:s,seal:a,selectSeal:k,filter:h,maxSkill:c})})]})},Ql=l(7861),Gl=l.n(Ql),Ll=function(e){var n=e.bonus,l=e.selectBonus,r=(0,i.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return(0,t.jsxs)("div",{className:Gl().container,children:[(0,t.jsx)("button",{className:Gl()["neutral-button"],"data-active":!n,value:"",onClick:r,children:"-"}),Ve.map((function(e){return(0,t.jsx)("button",{className:Gl()["bonus-button"],"data-active":n===e.value,value:e.value,onClick:r,children:e.name},e.value)}))]})};var Yl=function(e){var n=e.hidden,l=e.title,r=e.bonus,s=e.selectBonus,a=e.onClickBack,o=(0,i.useCallback)((function(e){s(e),a()}),[s,a]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:a}),l]}),(0,t.jsx)(Ll,{bonus:r,selectBonus:o})]})},Ul=l(4299),$l=l.n(Ul),et=function(e){var n=e.bloom,l=e.selectBloom,r=(0,i.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return(0,t.jsxs)("div",{className:$l().container,children:[(0,t.jsx)("button",{className:$l()["neutral-button"],"data-active":!n,value:"",onClick:r,children:"-"}),ze.map((function(e){return(0,t.jsx)("button",{className:$l()["bloom-button"],"data-active":n===e.value,value:e.value,onClick:r,children:e.name},e.value)}))]})};var nt=function(e){var n=e.hidden,l=e.title,r=e.bloom,s=e.setBloom,a=e.onClickBack,o=(0,i.useCallback)((function(e){s(e),a()}),[s,a]);return(0,t.jsxs)(cn.W2,{hidden:n,children:[(0,t.jsxs)(cn.Dx,{children:[(0,t.jsx)(jn.Z,{onClick:a}),l]}),(0,t.jsx)(et,{bloom:r,selectBloom:o})]})};var lt=function(){var e=(0,i.useState)(""),n=e[0],l=e[1],t=(0,i.useCallback)((function(){l("hero")}),[]),r=(0,i.useCallback)((function(){l("rarity")}),[]),s=(0,i.useCallback)((function(){l("iv")}),[]),a=(0,i.useCallback)((function(){l("merge")}),[]),o=(0,i.useCallback)((function(){l("dragonflower")}),[]),c=(0,i.useCallback)((function(){l("blessing")}),[]),u=(0,i.useCallback)((function(){l("weapon")}),[]),d=(0,i.useCallback)((function(){l("refine")}),[]),h=(0,i.useCallback)((function(){l("assist")}),[]),f=(0,i.useCallback)((function(){l("special")}),[]),p=(0,i.useCallback)((function(){l("skillA")}),[]),k=(0,i.useCallback)((function(){l("skillB")}),[]),x=(0,i.useCallback)((function(){l("skillC")}),[]),v=(0,i.useCallback)((function(){l("skillX")}),[]),m=(0,i.useCallback)((function(){l("seal")}),[]),I=(0,i.useCallback)((function(){l("mythic1")}),[]),g=(0,i.useCallback)((function(){l("mythic2")}),[]),B=(0,i.useCallback)((function(){l("mythic3")}),[]),b=(0,i.useCallback)((function(){l("mythic4")}),[]);return{view:n,openHeroPicker:t,openRarityPicker:r,openIVPicker:s,openMergePicker:a,openDragonflowerPicker:o,openBlessingPicker:c,openBloomPicker:(0,i.useCallback)((function(){l("bloom")}),[]),openWeaponPicker:u,openRefinePicker:d,openAssistPicker:h,openSpecialPicker:f,openSkillAPicker:p,openSkillBPicker:k,openSkillCPicker:x,openSkillXPicker:v,openSealPicker:m,openMythicBonus1:I,openMythicBonus2:g,openMythicBonus3:B,openMythicBonus4:b,onClickBack:(0,i.useCallback)((function(){l("")}),[])}};function tt(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function rt(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),t.forEach((function(n){tt(e,n,l[n])}))}return e}var it=function(e){var n=lt(),l=n.view,r=n.openHeroPicker,i=n.openRarityPicker,s=n.openIVPicker,a=n.openMergePicker,o=n.openDragonflowerPicker,c=n.openBlessingPicker,u=n.openBloomPicker,d=n.openWeaponPicker,h=n.openRefinePicker,f=n.openAssistPicker,p=n.openSpecialPicker,k=n.openSkillAPicker,x=n.openSkillBPicker,v=n.openSkillCPicker,m=n.openSkillXPicker,I=n.openSealPicker,g=n.openMythicBonus1,B=n.openMythicBonus2,b=n.openMythicBonus3,j=n.openMythicBonus4,y=n.onClickBack;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Bn,rt({hidden:!!l},e,{openHeroPicker:r,openRarityPicker:i,openIVPicker:s,openMergePicker:a,openDragonflowerPicker:o,openBlessingPicker:c,openWeaponPicker:d,openRefinePicker:h,openAssistPicker:f,openSpecialPicker:p,openSkillAPicker:k,openSkillBPicker:x,openSkillCPicker:v,openSkillXPicker:m,openSealPicker:I,openMythicBonus1:g,openMythicBonus2:B,openMythicBonus3:b,openMythicBonus4:j,openBloomPicker:u})),(0,t.jsx)(Dn,{hidden:"hero"!==l,heroId:e.heroId,onChangeHero:e.onChangeHero,onClickBack:y,resplendent:e.resplendent}),(0,t.jsx)(Cn,{hidden:"rarity"!==l,rarity:e.rarity,selectRarity:e.setRarity,onClickBack:y}),(0,t.jsx)(An,{hidden:"iv"!==l,iv:e.iv,selectIV:e.setIV,onClickBack:y}),(0,t.jsx)(Mn,{hidden:"blessing"!==l,blessing:e.blessing,selectBlessing:e.setBlessing,onClickBack:y}),(0,t.jsx)(Xn,{hidden:"merge"!==l,merge:e.merge,selectMerge:e.setMerge,onClickBack:y}),(0,t.jsx)(En,{hidden:"dragonflower"!==l,dragonflower:e.dragonflower,selectDragonflower:e.setDragonflower,onClickBack:y}),(0,t.jsx)(Gn,{hidden:"weapon"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,selectWeaponId:e.setWeaponId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultWeapon}),(0,t.jsx)(ul,{hidden:"refine"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,refine:e.refine,selectRefine:e.setRefine}),(0,t.jsx)(Cl,{hidden:"assist"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,assist:e.assistId,selectAssist:e.setAssistId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultAssist,skillXId:e.skillXId}),(0,t.jsx)(Rl,{title:"\u5967\u7fa9",hidden:"special"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,special:e.specialId,selectSpecial:e.setSpecialId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSpecial,skillXId:e.skillXId}),(0,t.jsx)(gl,{skillType:"skillA",title:"A\u6280\u80fd",hidden:"skillA"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillAId,selectSkill:e.setSkillAId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillA,skillXId:e.skillXId}),(0,t.jsx)(gl,{skillType:"skillB",title:"B\u6280\u80fd",hidden:"skillB"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillBId,selectSkill:e.setSkillBId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillB,skillXId:e.skillXId}),(0,t.jsx)(gl,{skillType:"skillC",title:"C\u6280\u80fd",hidden:"skillC"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillCId,selectSkill:e.setSkillCId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillC,skillXId:e.skillXId}),(0,t.jsx)(gl,{skillType:"skillX",title:"X\u6280\u80fd",hidden:"skillX"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,skillId:e.skillXId,selectSkill:e.setSkillXId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillX,skillXId:e.skillXId}),(0,t.jsx)(zl,{hidden:"seal"!==l,onClickBack:y,heroId:e.heroId,weaponId:e.weaponId,seal:e.sealId,selectSeal:e.setSealId,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill}),(0,t.jsx)(Yl,{hidden:"mythic1"!==l,title:"\u795e\u968e1",onClickBack:y,bonus:e.mythicBonus1,selectBonus:e.setMythicBonus1}),(0,t.jsx)(Yl,{hidden:"mythic2"!==l,title:"\u795e\u968e2",onClickBack:y,bonus:e.mythicBonus2,selectBonus:e.setMythicBonus2}),(0,t.jsx)(Yl,{hidden:"mythic3"!==l,title:"\u795e\u968e3",onClickBack:y,bonus:e.mythicBonus3,selectBonus:e.setMythicBonus3}),(0,t.jsx)(Yl,{hidden:"mythic4"!==l,title:"\u795e\u968e4",onClickBack:y,bonus:e.mythicBonus4,selectBonus:e.setMythicBonus4}),(0,t.jsx)(nt,{hidden:"bloom"!==l,title:"\u7dbb\u653e",onClickBack:y,bloom:e.bloom,setBloom:e.setBloom})]})},st=l(449),at=l(4411);function ot(){var e=(0,w.K)(),n=e.rules2DB,l=e.heroDB,t=e.weaponDB,r=e.assistDB,s=e.specialDB,a=e.skillADB,o=e.skillBDB,c=e.skillCDB,p=e.skillXDB,m=e.sealDB,I=e.defaultSkillDB,g=(0,i.useState)("Feh"),B=g[0],b=g[1],j=(0,i.useState)(5),y=j[0],D=j[1],S=(0,i.useState)(""),C=S[0],_=S[1],A=(0,i.useState)(0),P=A[0],M=A[1],O=(0,i.useState)(0),X=O[0],T=O[1],N=(0,i.useState)(""),R=N[0],E=N[1],Z=(0,i.useState)(!1),H=Z[0],W=Z[1],J=(0,i.useCallback)((function(){W((function(e){return!e}))}),[]),F=(0,i.useState)(""),K=F[0],V=F[1],q=(0,i.useRef)({weaponId:"",assistId:"",specialId:"",skillAId:"",skillBId:"",skillCId:"",skillXId:""}),z=(0,i.useRef)(""),Q=(0,i.useRef)(""),G=(0,i.useRef)(""),L=(0,i.useState)(""),Y=L[0],U=L[1],$=(0,i.useState)(""),ee=$[0],ne=$[1],le=(0,i.useState)(""),te=le[0],re=le[1],ie=(0,i.useState)(""),se=ie[0],ae=ie[1],oe=(0,i.useState)(""),ce=oe[0],ue=oe[1],de=(0,i.useState)(""),he=de[0],fe=de[1],pe=(0,i.useState)(""),ke=pe[0],xe=pe[1],ve=(0,i.useState)(""),me=ve[0],Ie=ve[1],ge=(0,i.useState)(""),Be=ge[0],be=ge[1],je=(0,i.useState)(""),ye=je[0],we=je[1],De=(0,i.useState)(""),Se=De[0],Ce=De[1],_e=(0,i.useState)(""),Ae=_e[0],Pe=_e[1],Me=(0,i.useState)(""),Oe=Me[0],Xe=Me[1],Te=(0,i.useCallback)((function(){Q.current=q.current.weaponId,U(q.current.weaponId),ne((function(e){return(0,v.J7)({heroDB:l,weaponDB:t,heroId:z.current,weaponId:q.current.weaponId,refineId:e})?e:""}))}),[l,t]),Ne=(0,i.useCallback)((function(e){U(e),ne((function(n){return n?(0,v.J7)({heroDB:l,weaponDB:t,heroId:z.current,weaponId:e,refineId:n})?n:"":n})),re((function(e){return e?(0,d.ab)({rules2DB:n,heroDB:l,weaponDB:t,assistDB:r,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,assistId:e,skillXId:G.current})?e:"":e})),ae((function(r){return r?(0,x.Hh)({rules2DB:n,heroDB:l,weaponDB:t,specialDB:s,defaultSkillDB:I,heroId:z.current,weaponId:e,specialId:r,skillXId:G.current})?r:"":r})),ue((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:a,defaultSkillDB:I,heroId:z.current,weaponId:e,skillId:r,skillXId:G.current})?r:"":r})),fe((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:o,defaultSkillDB:I,heroId:z.current,weaponId:e,skillId:r,skillXId:G.current})?r:"":r})),xe((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:I,heroId:z.current,weaponId:e,skillId:r,skillXId:G.current})?r:"":r})),Ie((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:p,defaultSkillDB:I,heroId:z.current,weaponId:e,skillId:r,skillXId:G.current})?r:"":r}))}),[n,l,t,r,s,a,o,c,p,I]),Re=(0,i.useCallback)((function(e){re((function(i){return i?(0,d.ab)({rules2DB:n,heroDB:l,weaponDB:t,assistDB:r,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,skillXId:e,assistId:i})?i:"":i})),ae((function(r){return r?(0,x.Hh)({rules2DB:n,heroDB:l,weaponDB:t,specialDB:s,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,specialId:r,skillXId:e})?r:"":r})),ue((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:a,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,skillId:r,skillXId:e})?r:"":r})),fe((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:o,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,skillId:r,skillXId:e})?r:"":r})),xe((function(r){return r?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,skillId:r,skillXId:e})?r:"":r})),Ie(e)}),[n,l,t,r,s,a,o,c,I]),Ee=(0,i.useCallback)((function(){q.current.assistId?(0,d.ab)({rules2DB:n,heroDB:l,weaponDB:t,assistDB:r,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,assistId:q.current.assistId,skillXId:G.current})&&re(q.current.assistId):re(q.current.assistId)}),[n,l,t,r,I]),Ze=(0,i.useCallback)((function(){q.current.specialId?(0,x.Hh)({rules2DB:n,heroDB:l,weaponDB:t,specialDB:s,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,specialId:q.current.specialId,skillXId:G.current})&&ae(q.current.specialId):ae(q.current.specialId)}),[n,l,t,s,I]),He=(0,i.useCallback)((function(){q.current.skillAId?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:a,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,skillId:q.current.skillAId,skillXId:G.current})&&ue(q.current.skillAId):ue(q.current.skillAId)}),[n,l,t,a,I]),We=(0,i.useCallback)((function(){q.current.skillBId?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,defaultSkillDB:I,skillDB:o,heroId:z.current,weaponId:Q.current,skillId:q.current.skillBId,skillXId:G.current})&&fe(q.current.skillBId):fe(q.current.skillBId)}),[n,l,t,o,I]),Je=(0,i.useCallback)((function(){q.current.skillCId?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:I,heroId:z.current,weaponId:Q.current,skillId:q.current.skillCId,skillXId:G.current})&&xe(q.current.skillCId):xe(q.current.skillCId)}),[n,l,t,c,I]),Fe=(0,i.useCallback)((function(){q.current.skillXId?(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,defaultSkillDB:I,skillDB:p,heroId:z.current,weaponId:Q.current,skillId:q.current.skillXId,skillXId:q.current.skillXId})&&Ie(q.current.skillXId):Ie(q.current.skillXId)}),[n,l,t,p,I]),Ke=(0,i.useCallback)((function(){Te(),Ee(),Ze(),He(),We(),Je(),Fe()}),[Te,Ee,Ze,He,We,Je,Fe]);z.current=B,Q.current=Y,G.current=me;var Ve=(0,i.useCallback)((function(e){b(e),q.current=(0,at.N)({defaultSkillDB:I,heroId:e}),U((function(){return(0,v.Mw)({heroDB:l,weaponDB:t,heroId:e,weaponId:Q.current})?Q.current:""})),ne((function(n){return(0,v.J7)({heroDB:l,weaponDB:t,heroId:e,weaponId:Q.current,refineId:n})?n:""})),re((function(i){return(0,d.ab)({rules2DB:n,heroDB:l,weaponDB:t,assistDB:r,defaultSkillDB:I,heroId:e,weaponId:Q.current,assistId:i,skillXId:G.current})?i:""})),ae((function(r){return(0,x.Hh)({rules2DB:n,heroDB:l,weaponDB:t,specialDB:s,defaultSkillDB:I,heroId:e,weaponId:Q.current,specialId:r,skillXId:G.current})?r:""})),ue((function(r){return(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:a,defaultSkillDB:I,heroId:e,weaponId:Q.current,skillId:r,skillXId:G.current})?r:""})),fe((function(r){return(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:o,defaultSkillDB:I,heroId:e,weaponId:Q.current,skillId:r,skillXId:G.current})?r:""})),xe((function(r){return(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:c,defaultSkillDB:I,heroId:e,weaponId:Q.current,skillId:r,skillXId:G.current})?r:""})),Ie((function(r){return(0,k.hJ)({rules2DB:n,heroDB:l,weaponDB:t,skillDB:p,defaultSkillDB:I,heroId:e,weaponId:Q.current,skillId:r,skillXId:G.current})?r:""})),be((function(t){var r=function(e){var n=e.rules2DB,l=e.heroDB,t=e.sealDB,r=e.heroId,i=e.sealId;if(!l||!t||!r||!i)return!1;var s=(0,h.cK)(l,r);if(!s)return!1;var a=t.skillA[i]||t.skillB[i]||t.skillC[i]||t.seal[i];return!!a&&(0,f.O3)({rules2DB:n,ruleId:a.rules,moveType:s.moveType,colorType:s.colorType,weaponType:s.weaponType})}({rules2DB:n,heroDB:l,sealDB:m,heroId:e,sealId:t});return r?t:""}));var i="mythic"===(0,h.cK)(l,e).pool;we((function(e){return i?"":e})),Ce((function(e){return i?"":e})),Pe((function(e){return i?"":e})),Xe((function(e){return i?"":e}))}),[n,l,t,r,s,a,o,c,p,m,I]),qe=(0,i.useState)(!1),ze=qe[0],Qe=qe[1],Ge=(0,i.useCallback)((function(){Qe((function(e){return!e}))}),[]),Le=(0,i.useState)(!1),Ye=Le[0],Ue=Le[1],$e=(0,i.useCallback)((function(){Ue((function(e){return!e}))}),[]),en=(0,i.useState)(!1),nn=en[0],ln=en[1],tn=(0,i.useCallback)((function(){ln((function(e){return!e}))}),[]),rn=(0,i.useState)(!0),sn=rn[0],an=rn[1],on=(0,i.useCallback)((function(){an((function(e){return!e}))}),[]),cn=(0,i.useState)(!1),un=cn[0],dn=cn[1],hn=(0,i.useCallback)((function(){dn(!0)}),[]),fn=(0,i.useCallback)((function(){dn(!1)}),[]),pn=(0,u.Z)("/assets/summon-stone.jpg");return{heroId:B,onChangeHero:Ve,rarity:y,setRarity:D,iv:C,setIV:_,merge:P,setMerge:M,dragonflower:X,setDragonflower:T,blessing:R,setBlessing:E,support:H,toggleSupport:J,arena:ze,toggleArena:Ge,resplendent:Ye,toggleResplendent:$e,bloom:K,setBloom:V,weaponId:Y,setWeaponId:Ne,refine:ee,setRefine:ne,assistId:te,setAssistId:re,specialId:se,setSpecialId:ae,skillAId:ce,setSkillAId:ue,skillBId:he,setSkillBId:fe,skillCId:ke,setSkillCId:xe,skillXId:me,setSkillXId:Re,sealId:Be,setSealId:be,mythicBonus1:ye,setMythicBonus1:we,mythicBonus2:Se,setMythicBonus2:Ce,mythicBonus3:Ae,setMythicBonus3:Pe,mythicBonus4:Oe,setMythicBonus4:Xe,setDefaultWeapon:Te,setDefaultAssist:Ee,setDefaultSpecial:Ze,setDefaultSkillA:He,setDefaultSkillB:We,setDefaultSkillC:Je,setDefaultSkillX:Fe,setAllSkillDefault:Ke,lv1:nn,toggleLv1:tn,maxSkill:sn,toggleMaxSkill:on,bg:pn,editorIsOpen:un,openEditor:hn,closeEditor:fn}}var ct=l(7378),ut=l.n(ct);function dt(){var e=ot(),n=e.heroId,l=e.onChangeHero,i=e.rarity,s=e.setRarity,a=e.iv,o=e.setIV,c=e.merge,u=e.setMerge,d=e.dragonflower,h=e.setDragonflower,f=e.blessing,p=e.setBlessing,k=e.support,x=e.toggleSupport,v=e.arena,m=e.toggleArena,I=e.resplendent,g=e.toggleResplendent,B=e.bloom,b=e.setBloom,j=e.weaponId,y=e.setWeaponId,w=e.refine,D=e.setRefine,S=e.assistId,C=e.setAssistId,_=e.specialId,A=e.setSpecialId,P=e.skillAId,M=e.setSkillAId,O=e.skillBId,X=e.setSkillBId,T=e.skillCId,N=e.setSkillCId,R=e.skillXId,E=e.setSkillXId,Z=e.sealId,H=e.setSealId,W=e.mythicBonus1,J=e.setMythicBonus1,F=e.mythicBonus2,K=e.setMythicBonus2,V=e.mythicBonus3,q=e.setMythicBonus3,z=e.mythicBonus4,Q=e.setMythicBonus4,G=e.setDefaultWeapon,L=e.setDefaultAssist,Y=e.setDefaultSpecial,U=e.setDefaultSkillA,$=e.setDefaultSkillB,ee=e.setDefaultSkillC,ne=e.setDefaultSkillX,le=e.setAllSkillDefault,te=e.lv1,re=e.toggleLv1,ie=e.maxSkill,se=e.toggleMaxSkill,ae=e.bg,oe=e.editorIsOpen,ce=e.openEditor,ue=e.closeEditor;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.default,{children:(0,t.jsx)("title",{children:"\u55ae\u5175\u88fd\u9020\u6a5f"})}),(0,t.jsx)("div",{style:{background:"url('".concat(ae,"') center / cover no-repeat fixed")},children:(0,t.jsxs)("div",{className:ut().container,children:[(0,t.jsx)("div",{className:ut().viewer,children:(0,t.jsx)(Fe,{heroId:n,rarity:i,iv:a,merge:c,dragonflower:d,blessing:f,support:k,arena:v,resplendent:I,mythicBonus1:W,mythicBonus2:F,mythicBonus3:V,mythicBonus4:z,bloom:B,weaponId:j,refine:w,assistId:S,specialId:_,skillAId:P,skillBId:O,skillCId:T,skillXId:R,sealId:Z,lv1:te,openEditor:ce})}),(0,t.jsx)("div",{className:ut().editor,hidden:!oe,children:(0,t.jsx)(it,{heroId:n,onChangeHero:l,rarity:i,setRarity:s,iv:a,setIV:o,merge:c,setMerge:u,dragonflower:d,setDragonflower:h,blessing:f,setBlessing:p,support:k,toggleSupport:x,arena:v,toggleArena:m,resplendent:I,toggleResplendent:g,bloom:B,setBloom:b,weaponId:j,setWeaponId:y,refine:w,setRefine:D,assistId:S,setAssistId:C,specialId:_,setSpecialId:A,skillAId:P,setSkillAId:M,skillBId:O,setSkillBId:X,skillCId:T,setSkillCId:N,skillXId:R,setSkillXId:E,sealId:Z,setSealId:H,mythicBonus1:W,setMythicBonus1:J,mythicBonus2:F,setMythicBonus2:K,mythicBonus3:V,setMythicBonus3:q,mythicBonus4:z,setMythicBonus4:Q,setDefaultWeapon:G,setDefaultAssist:L,setDefaultSpecial:Y,setDefaultSkillA:U,setDefaultSkillB:$,setDefaultSkillC:ee,setDefaultSkillX:ne,setAllSkillDefault:le,lv1:te,toggleLv1:re,maxSkill:ie,toggleMaxSkill:se,closeEditor:ue})})]})})]})}var ht=function(){return(0,t.jsx)(st.Z,{children:(0,t.jsx)(dt,{})})};var ft=function(){return(0,t.jsx)(ht,{})}},5497:function(e){e.exports={blessing:"blessing_blessing__mVJnu","blessing-name":"blessing_blessing-name__O0ue_"}},2008:function(e){e.exports={checked:"checkbox_checked__gHbwk",button:"checkbox_button__d5nfX"}},2884:function(e){e.exports={container:"styles_container__YYoO2","neutral-button":"styles_neutral-button__0mamt","blessing-button":"styles_blessing-button__d1Pw5"}},4299:function(e){e.exports={container:"styles_container__zPOZX","neutral-button":"styles_neutral-button__5drcu","bloom-button":"styles_bloom-button__iOTb0","bonus-button":"styles_bonus-button__J3IcJ"}},1698:function(e){e.exports={picker:"heropicker_picker__a1u_q"}},5711:function(e){e.exports={container:"styles_container__gMrf9","neutral-button":"styles_neutral-button__qNLXK","iv-button":"styles_iv-button__PxFG8"}},7861:function(e){e.exports={container:"styles_container__GlT2N","neutral-button":"styles_neutral-button__oX55C","bonus-button":"styles_bonus-button__7uZxk"}},934:function(e){e.exports={refineName:"refineOption_refineName__je15K",might:"refineOption_might__Ljo2p",extractStats:"refineOption_extractStats____CPj",extractStat:"refineOption_extractStat__OPzWF"}},5767:function(e){e.exports={button:"editor_button__dre23",title:"editor_title__DCHaP","title-textgroup":"editor_title-textgroup__L3_XD",content:"editor_content__ucmsC",section:"editor_section__VSruc","section-group":"editor_section-group__PqWmB","hero-header":"editor_hero-header__2jYrP","button-content":"editor_button-content__WgPcn","editor-img":"editor_editor-img__YkSM_","close-button":"editor_close-button__w0FsF",container:"editor_container__ZGE8P",input:"editor_input__hhUEq",options:"editor_options__uKR9A",optionsContainer:"editor_optionsContainer__6ZBYQ",skillTitle:"editor_skillTitle__0pjMT",skillName:"editor_skillName__MG6LB",skillSp:"editor_skillSp__bVmgd",might:"editor_might__1RKES",extractStats:"editor_extractStats__TLGYH",extractStat:"editor_extractStat__XPTuU",subTitle:"editor_subTitle__jgvJ_",spButtons:"editor_spButtons__hDo9g",listItems:"editor_listItems__Bdjh9"}},1354:function(e){e.exports={skillTitle:"skillInfo_skillTitle__Z21ze",skillName:"skillInfo_skillName__4zW1T",skillSp:"skillInfo_skillSp__ksEK_",might:"skillInfo_might__RFRz7",extractStats:"skillInfo_extractStats__8XEae",extractStat:"skillInfo_extractStat__ucBek"}},7308:function(e){e.exports={weaponTitle:"weaponInfo_weaponTitle__lqbtZ",weaponName:"weaponInfo_weaponName__Gc8es",weaponSp:"weaponInfo_weaponSp__qBxGW",might:"weaponInfo_might__Tqclh",extractStats:"weaponInfo_extractStats__wyFzR",extractStat:"weaponInfo_extractStat__IZX2S"}},7710:function(e){e.exports={label:"labelcheckbox_label__20PyM","label-checkbox":"labelcheckbox_label-checkbox__utUa_"}},1237:function(e){e.exports={button:"optionButton_button__L_RWi"}},6820:function(e){e.exports={raritypicker:"raritypicker_raritypicker__M40Tm"}},2696:function(e){e.exports={canvas:"UnitViewer_canvas__Wx4QC",container:"UnitViewer_container__VnbTD",button:"UnitViewer_button__JbsTA",download:"UnitViewer_download__B1uAE",menu:"UnitViewer_menu__CrjVM"}},7378:function(e){e.exports={container:"UnitEditor_container__Osi54",viewer:"UnitEditor_viewer__Nr6JT",editor:"UnitEditor_editor__3Vl3u"}}},function(e){e.O(0,[406,520,797,548,201,774,888,179],(function(){return n=532,e(e.s=n);var n}));var n=e.O();_N_E=n}]);