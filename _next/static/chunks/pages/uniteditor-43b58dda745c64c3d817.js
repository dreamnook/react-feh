_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"4NHs":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return Wr}));var r=n("nKUr"),i=n("OyYD"),c=n("g4pe"),l=n.n(c),s=n("Ff2n"),a=n("q1tI"),o=n("EMxf"),u=n.n(o),d=n("rePB");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return Object(r.jsxs)("svg",b(b({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),{},{children:[Object(r.jsx)("path",{d:"M38 18h-8v-12h-12v12h-8l14 14 14-14zm-28 18v4h28v-4h-28z"}),Object(r.jsx)("path",{d:"M0 0h48v48h-48z",fill:"none"})]}))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){return Object(r.jsxs)("svg",O(O({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(r.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]}))},k=n("ODXe"),v=n("I5BY");function x(e){var t=e.rulesDB,n=e.ruleId;return t&&n?t[n]:null}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=e.assistDB,n=e.assist;return t&&n?t[n]:null}function w(e){var t=y({assistDB:e.assistDB,assist:e.assist});return(null===t||void 0===t?void 0:t.name)||""}function D(e){var t=e.sealDB,n=e.seal;return t&&n?t.skillA[n]?t.skillA[n]:t.skillB[n]?t.skillB[n]:t.skillC[n]?t.skillC[n]:t.seal[n]?t.seal[n]:null:null}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=e.rulesDB,n=e.heroDB,r=e.skillDB,i=e.heroId;if(!t||!n||!r||!i)return[];var c=Object(v.c)(n,i);return c?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=x({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[c.moveType])&&(!n.weaponType||!1!==n.weaponType[c.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return S(S({},e),{},{query:t})})):[]}function I(e){var t=e.rulesDB,n=e.heroDB,r=e.skillDB,i=e.heroId,c=e.skillId;if(!t||!n||!r||!i||!c)return!1;var l=Object(v.c)(n,i);if(!l)return!1;var s=r[c];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=x({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}function P(e){var t=e.skillDB,n=e.skillId;return t&&n?t[n]:null}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=e.specialDB,n=e.special;return t&&n?t[n]:null}function M(e){var t=T({specialDB:e.specialDB,special:e.special});return(null===t||void 0===t?void 0:t.name)||""}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){switch(e){case"red-bow":case"blue-bow":case"green-bow":case"white-bow":return"bow";case"red-dagger":case"blue-dagger":case"green-dagger":case"white-dagger":return"dagger";case"red-dragon":case"blue-dragon":case"green-dragon":case"white-dragon":return"dragon";case"red-beast":case"blue-beast":case"green-beast":case"white-beast":return"beast"}return e}function H(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId;if(!n||!t||!r)return[];var i=Object(v.c)(t,r);if(!i)return[];var c=R(i.weaponType),l=n[c];return c?Object.values(l).filter((function(e){return!e.exclusive||e.exclusive.includes(r)})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return N(N({},e),{},{query:t})})):[]}function W(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weaponId;if(!n||!t||!r||!i)return!1;var c=Object(v.c)(t,r);if(!c)return!1;var l=R(c.weaponType),s=n[l];if(!l)return!1;var a=s[i];return!!a&&(!a.exclusive||a.exclusive.includes(r))}function F(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon;if(!n||!t||!i||!r)return null;var c=Object(v.c)(t,r);return c?n[R(c.weaponType)][i]:null}function L(e){var t=F({heroDB:e.heroDB,weaponDB:e.weaponDB,heroId:e.heroId,weapon:e.weapon});return(null===t||void 0===t?void 0:t.name)||""}var z={atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632"};function V(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon,c=F({heroDB:t,weaponDB:n,heroId:r,weapon:i});return c&&c.refine?Object.entries(c.refine).filter((function(e){var t=Object(k.a)(e,2)[1];return!t.exclusive||t.exclusive.includes(r)})).map((function(e){var t=Object(k.a)(e,2),n=t[0],r=N({value:n},t[1]);return r.name||(r.name=z[n]||n),r.icon&&(r.icon="/skills/weapon/".concat(r.icon,".png")),!r.icon&&z[n]&&(r.icon="/skills/weapon/".concat(n,".png")),r})):[]}function Y(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon,c=e.refine,l=function(e){var t,n=e.heroDB,r=e.weaponDB,i=e.heroId,c=e.weapon,l=e.refine,s=F({heroDB:n,weaponDB:r,heroId:i,weapon:c});return null===s||void 0===s||null===(t=s.refine)||void 0===t?void 0:t[l]}({heroDB:t,weaponDB:n,heroId:r,weapon:i,refine:c});return l?z[c]?z[c]:l.name:""}var q={atk:"atk",spd:"spd",def:"def",res:"res"};function U(e){var t=e.heroDB,n=e.weaponDB,r=e.assistDB,i=e.specialDB,c=e.skillADB,l=e.skillBDB,s=e.skillCDB,a=e.sealDB,o=e.heroId,u=e.skills;return{weapon:F({heroDB:t,weaponDB:n,heroId:o,weapon:u.weapon}),assist:y({assistDB:r,assist:u.assist}),special:T({specialDB:i,special:u.special}),skillA:P({skillDB:c,skillId:u.skillA}),skillB:P({skillDB:l,skillId:u.skillB}),skillC:P({skillDB:s,skillId:u.skillC}),seal:D({sealDB:a,seal:u.seal})}}var J=["assist","special","skillA","skillB","skillC","seal"];var X=n("ufDn"),K={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};var Z=function(e){var t=e.rarity,n=void 0===t?5:t,r=e.merge,i=e.bst,c=e.spt,l=e.blesser,s=void 0===l?0:l,a=K[n];return 2*(150+a.base+a.float+2*r+Math.floor(i/5)+Math.floor(c/100)+4*s)},Q=[];function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(d.a)(this,"imageData",void 0),Object(d.a)(this,"src",void 0),Object(d.a)(this,"loadedData",void 0),Object(d.a)(this,"callback",void 0),this.imageData=new Image,this.src="",this.loadedData=!1,this.callback=t,this.imageData.onload=function(){n.loadedData=!0,n.callback&&n.callback(!0)},this.imageData.onerror=function(){n.loadedData=!1,n.callback&&n.callback(!1)}}var t,n,r;return t=e,(n=[{key:"load",value:function(e){e!==this.src&&(this.loadedData=!1,this.src=e,this.imageData.src=e)}},{key:"loaded",get:function(){return this.loadedData}},{key:"image",get:function(){return this.imageData}}])&&G(t.prototype,n),r&&G(t,r),e}(),ee=n("oh6S"),te=16,ne=554,re=ee.c,ie=174,ce=555,le=["infantry","armored","cavalry","flying"];function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=1,ue=43,de=85,je=127,be=169,pe=[0,1,2,3,4,5,6,7,8,9,"x","+","-"].reduce((function(e,t,n){return ae(ae({},e),{},Object(d.a)({},t,34*n+1))}),{}),he=function(e,t,n,r,i,c){pe[r]&&e.drawImage(t,pe[r],n,32,40,i,c,16,20)},Oe=240,fe=557,ke=[14,28,42],ve=["infantry","armored","cavalry","flying"],xe=432,ge=425,me=432,ye=425,we=275,De=594,Be=function(e,t,n){var r=37*n+1+De;e.drawImage(t,we,r,35,35)},Se=82,Ce=557,Ie=[14,28,42],Pe=112,Ae=557,_e=[14,28,42],Te=130,Me=594,Ee=[14,28,42,56],Ne=[1e3,100,10],Re=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oe,c=8+Me+37*r;Ne.forEach((function(r,l){if(n>=r){var s=Math.floor(n/r%10);he(e,t,i,s,Te+Ee[l],c)}}));var l=n%10;he(e,t,i,l,Te+Ee[3],c)},He=465,We=594,Fe=function(e){var t=e.context,n=e.numberAtlas,r=e.accelerate,i=e.specialCD;if(i){var c=ue;r<0&&(c=de),r>0&&(c=je),function(e,t,n){he(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue,n,He,8+We+74)}(t,n,r+i,c)}},Le=n("W8is"),ze=206,Ve=1224,Ye=["#ffa0af","white","#aaf0fa"],qe=Object.entries({hp:"HP",atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632",bst:"BST",arena:"\u9b25\u6280\u5206"}),Ue=634,Je=1224,Xe={weapon:0,assist:1,special:2,skillA:3,skillB:4,skillC:5,seal:6};var Ke=296,Ze=876,Qe=336,Ge=992,$e={x:460,y:530},et=195,tt=370;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=[["background","/assets/background.jpg"],["foreground","/assets/foreground.png"],["foreground2","/assets/foreground2.png"],["portrait",""],["rarityAtlas","/assets/rarity.png"],["weaponTypeAtlas","/assets/weapon-type.png"],["moveTypeAtlas","/assets/move-type.png"],["dragonflowerAtlas","/assets/dragonflower.png"],["supportAtlas","/assets/support.png"],["blessingAtlas",""],["numberAtlas","/assets/number.png"],["weaponIcon","/skills/weapon.png"],["assistIcon","/skills/assist.png"],["specialIcon","skills/special.png"],["textA","/assets/skill-a.png"],["textB","/assets/skill-b.png"],["textC","/assets/skill-c.png"],["textS","/assets/skill-s.png"],["arenaIcon","/assets/Arena_Crown.png"],["skillAIcon",""],["skillBIcon",""],["skillCIcon",""],["sealIcon",""],["resplendentIcon","/assets/god-wear-l.png"]],ct=[{skillName:"weapon",empty:"skills/weapon.png"},{skillName:"skillA",empty:"skills/empty.png"},{skillName:"skillB",empty:"skills/empty.png"},{skillName:"skillC",empty:"skills/empty.png"},{skillName:"seal",empty:"skills/seal-empty.png"}];var lt=function(e){var t=e.heroId,n=e.rarity,r=e.iv,c=e.merge,l=e.dragonflower,o=e.blessing,u=e.support,d=e.arena,j=e.resplendent,b=e.weapon,p=e.refine,h=e.assist,O=e.special,f=e.skillA,x=e.skillB,g=e.skillC,m=e.seal,y=e.lv1,w=Object(i.b)(),D=Object(a.useRef)(null),B=Object(a.useRef)(null),S=Object(a.useRef)(),C=Object(a.useRef)(),I=Object(a.useRef)(),P=Object(a.useRef)(),A=Object(a.useRef)(),_=Object(a.useRef)(),T=Object(a.useRef)(),M=Object(a.useRef)(),E=Object(a.useRef)(),N=Object(a.useRef)(),R=Object(a.useRef)(),H=Object(a.useRef)(),W=Object(a.useRef)(),F=Object(a.useRef)(),L=Object(a.useMemo)((function(){return Object(v.c)(w.heroDB,t)}),[w.heroDB,t]),z=Object(a.useMemo)((function(){return{weapon:b,assist:h,special:O,skillA:f,skillB:x,skillC:g,seal:m}}),[b,h,O,f,x,g,m]),V=L.stats,Y=Object(a.useMemo)((function(){return function(e){var t,n,r,i,c,l,s,a,o,u=e.heroDB,d=e.weaponDB,j=e.assistDB,b=e.specialDB,p=e.skillADB,h=e.skillBDB,O=e.skillCDB,f=e.sealDB,v=e.heroId,x=e.skills,g=e.refine,m=e.rarity,y=U({heroDB:u,weaponDB:d,assistDB:j,specialDB:b,skillADB:p,skillBDB:h,skillCDB:O,sealDB:f,heroId:v,skills:x}),w={weapon:"-",assist:"-",special:"-",skillA:"-",skillB:"-",skillC:"-",seal:"-"},D=0,B=(null===(t=y.special)||void 0===t?void 0:t.cd)||0;D+=(null===(n=y.weapon)||void 0===n?void 0:n.cd)||0,D+=(null===(r=y.assist)||void 0===r?void 0:r.cd)||0,D+=(null===(i=y.skillA)||void 0===i?void 0:i.cd)||0,D+=(null===(c=y.skillB)||void 0===c?void 0:c.cd)||0,D+=(null===(l=y.skillC)||void 0===l?void 0:l.cd)||0,D+=(null===(s=y.seal)||void 0===s?void 0:s.cd)||0;var S={hp:0,atk:0,spd:0,def:0,res:0},C=0,I=0;Object.entries(y).forEach((function(e){var t=Object(k.a)(e,2),n=t[0],r=t[1];w[n]=(null===r||void 0===r?void 0:r.name)||"-",S.hp+=(null===r||void 0===r?void 0:r.hp)||0,S.atk+=((null===r||void 0===r?void 0:r.mt)||0)+((null===r||void 0===r?void 0:r.atk)||0),S.spd+=(null===r||void 0===r?void 0:r.spd)||0,S.def+=(null===r||void 0===r?void 0:r.def)||0,S.res+=(null===r||void 0===r?void 0:r.res)||0,C+=(null===r||void 0===r?void 0:r.sp)||0,5===m&&(I=Math.max((null===r||void 0===r?void 0:r.bst)||0,I))}));var P=null===(a=y.weapon)||void 0===a||null===(o=a.refine)||void 0===o?void 0:o[g];return P&&(S.hp+=P.hp||0,S.atk+=(P.mt||0)+(P.atk||0),S.spd+=P.spd||0,S.def+=P.def||0,S.res+=P.res||0,D+=P.cd||0,y.weapon.exclusive||(C+=50),5===m&&(I=Math.max(I,P.bst||0))),{names:w,stats:S,accelerate:D,specialCD:B,spt:C,bst:I}}({heroDB:w.heroDB,weaponDB:w.weaponDB,assistDB:w.assistDB,specialDB:w.specialDB,skillADB:w.skillADB,skillBDB:w.skillBDB,skillCDB:w.skillCDB,sealDB:w.sealDB,skills:z,heroId:t,refine:p,rarity:n})}),[z,t,p,n,w.heroDB,w.weaponDB,w.assistDB,w.specialDB,w.skillADB,w.skillBDB,w.skillCDB,w.sealDB]),K=Object(a.useMemo)((function(){return Object(X.b)(n,V,r,c,u,Y.stats,y,d,l,j)}),[n,V,r,c,u,Y,y,d,l,j]),G=Object(a.useMemo)((function(){return Z({rarity:n,merge:c,bst:Math.max(K.bst,Y.bst,L.bst||0),spt:Y.spt})}),[n,c,K.bst,Y.bst,Y.spt,L]),ee=Object(a.useRef)({}),se=Object(a.useCallback)((function(){if(D.current){var e=ee.current,t=e.background,n=e.foreground,r=e.foreground2,i=e.portrait,c=e.rarityAtlas,l=e.weaponTypeAtlas,a=e.moveTypeAtlas,o=e.dragonflowerAtlas,u=e.supportAtlas,d=e.blessingAtlas,j=e.numberAtlas,b=e.weaponIcon,p=e.assistIcon,h=e.specialIcon,O=e.textA,f=e.textB,v=e.textC,x=e.textS,g=e.arenaIcon,m=e.skillAIcon,y=e.skillBIcon,w=e.skillCIcon,L=e.sealIcon,z=e.resplendentIcon,V=S.current,Y=V.title,q=V.name,U=V.weaponType,J=V.moveType,X=!!S.current.blessing||!!M.current,K=D.current.getContext("2d");K.clearRect(0,0,540,960),t.loaded&&function(e){var t=e.context,n=e.background;e.support?t.drawImage(n,540,0,540,960,0,0,540,960):t.drawImage(n,0,0,540,960,0,0,540,960)}({context:K,background:t.image,support:E.current}),i.loaded&&function(e){var t=e.context,n=e.portrait;t.drawImage(n,0,0,540,960,0,0,540,960)}({context:K,portrait:i.image}),n.loaded&&function(e){var t=e.context,n=e.foreground;t.drawImage(n,0,0,540,960,0,0,540,960)}({context:K,foreground:n.image}),r.loaded&&function(e){var t=e.context,n=e.foreground2;e.dragonflower?t.drawImage(n,0,50,540,50,0,542,540,50):t.drawImage(n,0,0,540,50,0,542,540,50)}({context:K,foreground2:r.image,dragonflower:T.current}),c.loaded&&function(e){var t=e.context,n=e.rarityAtlas;switch(e.rarity){case 5:t.drawImage(n,0,0,153,40,42,380,153,40);break;case 4:t.drawImage(n,0,41,153,40,42,380,153,40)}}({context:K,rarityAtlas:c.image,rarity:P.current}),l.loaded&&function(e){var t=e.context,n=e.weaponTypeAtlas,r=e.weaponType,i=re.indexOf(r);i>-1&&t.drawImage(n,56*i,0,56,55,te,ne,28,28)}({context:K,weaponTypeAtlas:l.image,weaponType:U}),a.loaded&&function(e){var t=e.context,n=e.moveTypeAtlas,r=e.moveType,i=le.indexOf(r);i>-1&&t.drawImage(n,56*i,0,52,52,ie,ce,26,26)}({context:K,moveTypeAtlas:a.image,moveType:J}),o.loaded&&j.loaded&&function(e){var t=e.context,n=e.dragonflowerAtlas,r=e.numberAtlas,i=e.moveType,c=e.dragonflower;if(c){var l=ve.indexOf(i);l>-1&&t.drawImage(n,0,58*l,64,58,216,546,48,44);var s=0,a=ue;he(t,r,a,"+",Oe+ke[0],fe),s+=1,c>9&&(he(t,r,a,1,Oe+ke[s],fe),s+=1),he(t,r,a,c%10,Oe+ke[s],fe)}}({context:K,dragonflowerAtlas:o.image,numberAtlas:j.image,moveType:J,dragonflower:T.current}),u.loaded&&function(e){var t=e.context,n=e.supportAtlas,r=e.support,i=e.hasBlessing?108:0;r&&t.drawImage(n,xe-i,ge,108,115)}({context:K,supportAtlas:u.image,support:E.current,hasBlessing:X}),d.loaded&&function(e){var t=e.context,n=e.blessingAtlas;t.drawImage(n,me,ye,108,115)}({context:K,blessingAtlas:d.image}),j.loaded&&(!function(e){var t=e.context,n=e.numberAtlas,r=e.lv1?1:40,i=0;r>9&&he(t,n,ue,4,Se+Ie[i],Ce),he(t,n,ue,r%10,Se+Ie[i+=1],Ce)}({context:K,numberAtlas:j.image,lv1:W.current}),function(e){var t=e.context,n=e.numberAtlas,r=e.merge;if(!(r<=0)){var i=0,c=r>9?be:ue;he(t,n,c,"+",Pe+_e[0],Ae),i+=1,r>9&&(he(t,n,c,1,Pe+_e[i],Ae),i+=1),he(t,n,c,r%10,Pe+_e[i],Ae)}}({context:K,numberAtlas:j.image,merge:_.current}),function(e){var t=e.context,n=e.numberAtlas,r=e.stats,i=e.score,c=e.sbst,l=e.bst;Object.values(r).forEach((function(e,r){Re(t,n,e,r,oe)}));var s=c>l?de:be;Re(t,n,l,5,be),Re(t,n,i,6,s)}(rt({context:K,numberAtlas:j.image,score:F.current,sbst:Math.max(C.current.bst,S.current.bst)},I.current)),Fe({context:K,numberAtlas:j.image,accelerate:C.current.accelerate,specialCD:C.current.specialCD})),function(e){var t=e.context,n=e.weaponIcon,r=e.assistIcon,i=e.specialIcon,c=e.textA,l=e.textB,s=e.textC,a=e.textS,o=e.skillAIcon,u=e.skillBIcon,d=e.skillCIcon,j=e.sealIcon;n.loaded&&Be(t,n.image,0),r.loaded&&Be(t,r.image,1),i.loaded&&Be(t,i.image,2),o.loaded&&Be(t,o.image,3),t.drawImage(c.image,we+20,De+112+18,18,18),u.loaded&&Be(t,u.image,4),t.drawImage(l.image,we+20,De+149+18,18,18),d.loaded&&Be(t,d.image,5),t.drawImage(s.image,we+20,De+186+18,18,18),j.loaded&&Be(t,j.image,6),t.drawImage(a.image,we+20,De+223+18,18,18)}({context:K,weaponIcon:b,assistIcon:p,specialIcon:h,textA:O,textB:f,textC:v,textS:x,skillAIcon:m,skillBIcon:y,skillCIcon:w,sealIcon:L}),B.current.getContext("2d").clearRect(0,0,1080,1920),function(e){var t=e.canvas,n=e.iv,r=e.merge,i=t.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#101010",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8;var c=Object(Le.a)(n),l=c.boon,s=c.bane,a={hp:1,atk:1,spd:1,def:1,res:1,bst:1,arena:1};a[l]+=1,a[s]-=1,a[s]=r>0?1:a[s],qe.forEach((function(e,t){var n=Object(k.a)(e,2),r=n[0],c=n[1],l=Ve+74*t;i.fillStyle=Ye[a[r]],i.strokeText(c,ze,l),i.fillText(c,ze,l)}))}({canvas:B.current,iv:A.current,merge:_.current}),function(e){var t=e.canvas,n=e.refine,r=e.weapon,i=Object(s.a)(e,["canvas","refine","weapon"]),c=t.getContext("2d");c.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",c.textAlign="left",c.textBaseline="middle",c.lineJoin="round",c.lineWidth=8,c.strokeStyle="#101010",c.fillStyle=n&&"-"!==n?"lime":"white";var l=Ue+("-"===r?4:0),a=Je;c.strokeText(r,l,a),c.fillText(r,l,a),c.fillStyle="white",Object.keys(i).forEach((function(e){var t=i[e],n=Je+74*Xe[e],r="-"===t?4:0;c.strokeText(t,Ue+r,n),c.fillText(t,Ue+r,n)}))}(rt({canvas:B.current,refine:H.current},C.current.names)),function(e){var t=e.canvas,n=e.title,r=e.name,i=t.getContext("2d");i.font="500 48px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#220d00",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8,i.strokeText(n,Ke,Ze),i.fillText(n,Ke,Ze),i.font="500 52px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",i.strokeText(r,Qe,Ge),i.fillText(r,Qe,Ge)}({canvas:B.current,title:Y,name:q}),N.current&&g&&function(e){var t=e.context,n=e.arenaIcon;t.drawImage(n,$e.x,$e.y,50,49)}({context:K,arenaIcon:g.image}),R.current&&z&&function(e){var t=e.context,n=e.resplendentIcon;t.drawImage(n,et,tt,64,63)}({context:K,resplendentIcon:z.image}),K.drawImage(B.current,0,0,540,960)}}),[]);Object(a.useEffect)((function(){B.current=document.createElement("canvas"),B.current.width=1080,B.current.height=1920}),[]),Object(a.useEffect)((function(){it.forEach((function(e){var t=Object(k.a)(e,2),n=t[0],r=t[1];ee.current[n]=new $(se),ee.current[n].load(r)}))}),[ee,se]),Object(a.useEffect)((function(){var e=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!Q.includes(e)?"".concat(e,"(R)"):e}(L.id,j);ee.current.portrait.load("/portraits/".concat(e,".png"));var t=function(e){var t=e.heroDB,n=e.weaponDB,r=e.assistDB,i=e.specialDB,c=e.skillADB,l=e.skillBDB,s=e.skillCDB,a=e.sealDB,o=e.heroId,u=e.skills,d=e.refine,j=U({heroDB:t,weaponDB:n,assistDB:r,specialDB:i,skillADB:c,skillBDB:l,skillCDB:s,sealDB:a,heroId:o,skills:u}),b={};if(J.forEach((function(e){var t=j[e];b[e]=(null===t||void 0===t?void 0:t.icon)&&"skills/".concat(t.icon)})),d&&"-"!==d){var p,h,O=q[d]||(null===(p=j.weapon.refine)||void 0===p||null===(h=p[d])||void 0===h?void 0:h.icon);O&&(b.weapon="skills/weapon/".concat(O,".png"))}return b}({heroDB:w.heroDB,weaponDB:w.weaponDB,assistDB:w.assistDB,specialDB:w.specialDB,skillADB:w.skillADB,skillBDB:w.skillBDB,skillCDB:w.skillCDB,sealDB:w.sealDB,skills:z,heroId:L.id,refine:p});ct.forEach((function(e){var n=e.skillName,r=e.empty;ee.current["".concat(n,"Icon")].load(t[n]||r)}));var n="-"!==L.blessing&&!!L.blessing||!!o;ee.current.blessingAtlas.load(n?"assets/blessing-".concat(L.blessing||o,".png"):"")}),[L,j,z,p,o,K,w.heroDB,w.weaponDB,w.assistDB,w.specialDB,w.skillADB,w.skillBDB,w.skillCDB,w.sealDB]),Object(a.useEffect)((function(){S.current=L,P.current=n,A.current=r,_.current=c,T.current=l,M.current=o,E.current=u,N.current=d,R.current=j,H.current=p,W.current=y,F.current=G,C.current=Y,I.current=K,se()}),[L,n,r,c,l,o,u,d,j,p,y,G,Y,K,se]);var ae=Object(a.useCallback)((function(){var e=D.current.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="".concat(null===L||void 0===L?void 0:L.name,"-").concat(null===L||void 0===L?void 0:L.title,".png"),t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}),[null===L||void 0===L?void 0:L.name,null===L||void 0===L?void 0:L.title]);return{canvasRef:D,triggerDownload:ae}};function st(e){var t=e.openEditor,n=Object(s.a)(e,["openEditor"]),i=lt(n),c=i.canvasRef,l=i.triggerDownload;return Object(r.jsxs)("div",{className:u.a.container,children:[Object(r.jsx)("canvas",{className:u.a.canvas,width:"540",height:"960",ref:c}),Object(r.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.download),onClick:l,children:Object(r.jsx)(p,{})}),Object(r.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.menu),onClick:t,children:Object(r.jsx)(f,{})})]})}var at=Object(a.memo)(st);function ot(e){return 4===e?"4\u2605":"5\u2606"}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=function(e){return Object(r.jsxs)("svg",dt(dt({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Object(r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}))},bt=n("MX0m"),pt=n.n(bt);function ht(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2629191159"}),Object(r.jsx)(pt.a,{id:"2629191159",children:["div.jsx-2629191159{width:1.5em;height:1.5em;border-radius:0.5em;background-color:white;}"]})]})}var Ot=function(e){var t=e.className,n=e.checked,i=e.onChange,c=Object(a.useCallback)((function(e){e.stopPropagation(),i&&i(!n)}),[n,i]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{role:"button",onClick:c,className:"jsx-19544621 "+(t||""),children:n&&Object(r.jsx)(ht,{})}),Object(r.jsx)(pt.a,{id:"19544621",children:["div.jsx-19544621{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:0.5em;width:2.5em;height:2.5em;font-size:1em;border:solid 1px white;background-color:transparent;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},ft=n("ORp4"),kt=n.n(ft);var vt=function(e){var t=e.children,n=e.checked,i=e.onChange;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("label",{className:kt.a.label,children:[t,Object(r.jsx)(Ot,{className:kt.a["label-checkbox"],checked:n,onChange:i})]})})},xt=n("niDk"),gt=n("Uwun");var mt=function(e){var t=e.blessing,n=Object(a.useMemo)((function(){return Object(gt.b)(t)}),[t]),i=n.src,c=n.name;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"jsx-3356831981",children:[i&&Object(r.jsx)(xt.a,{src:i,loading:"lazy",width:"50px",height:"50px"}),Object(r.jsx)("div",{className:"jsx-3356831981 blessing-name",children:c})]}),Object(r.jsx)(pt.a,{id:"3356831981",children:["div.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}","div.jsx-3356831981 img.jsx-3356831981{width:2.5em;height:2.5em;margin-right:0.25em;}","div.jsx-3356831981 .blessing-name.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;}"]})]})},yt=n("xjvT"),wt=n.n(yt);var Dt=function(e){var t=e.onClick;return Object(r.jsx)("button",{className:wt.a.button,onClick:t,style:{fontSize:"16px",marginLeft:"1em"},children:"\u4f7f\u7528\u539f\u751f\u6280\u80fd"})};function Bt(e){var t=e.hidden,n=e.style,i=e.children;return Object(r.jsx)("div",{hidden:t,className:wt.a.container,style:n,children:i})}function St(e){var t=e.children,n=e.style;return Object(r.jsx)("div",{className:wt.a.title,style:n,children:t})}function Ct(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["title-textgroup"],children:t})}function It(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a.content,children:t})}function Pt(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["section-group"],children:t})}function At(e){var t=e.children,n=e.disabled,i=e.onClick;return Object(r.jsx)("button",{className:"".concat(wt.a.button," ").concat(wt.a.section),disabled:n,onClick:i,children:t})}function _t(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["button-content"],children:t})}function Tt(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-773961252",children:t}),Object(r.jsx)(pt.a,{id:"773961252",children:["div.jsx-773961252{overflow-y:auto;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-bottom:1em;-webkit-overflow-scrolling:touch;}"]})]})}function Mt(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a.options,children:t})}function Et(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t})}function Nt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:t})}function Rt(e){var t=e.src;return Object(r.jsx)(xt.a,{src:t,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function Ht(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Wt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Ft(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function Lt(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function zt(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Vt(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Yt=function(e){return e>0?"+".concat(e):"".concat(e)};function qt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.35em",padding:"0.25em",backgroundColor:"#1d3e53"},children:t})}var Ut=n("0unf");function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=function(e){var t=e.heroId,n=e.resplendent,c=Object(i.b)(),l=c.heroDB,s=c.assistDB,o=c.resplendentDB,u=Object(a.useMemo)((function(){return Object(v.a)({heroDB:l,assistDB:s,resplendentDB:o,heroId:t,noStat:!0})}),[l,s,o,t]);return Object(r.jsx)(Ut.a,Xt(Xt({},u),{},{faceSrc:n?u.faceSrcR:u.faceSrc}))};var Zt=function(e){var t=e.heroId,n=e.weapon,c=Object(i.b)(),l=c.heroDB,s=c.weaponDB;return Object(r.jsx)(r.Fragment,{children:L({heroDB:l,weaponDB:s,heroId:t,weapon:n})})};var Qt=function(e){var t=e.heroId,n=e.weapon,c=e.refine,l=Object(i.b)(),s=l.heroDB,a=l.weaponDB;return Object(r.jsx)(r.Fragment,{children:Y({heroDB:s,weaponDB:a,heroId:t,weapon:n,refine:c})})};var Gt=function(e){var t=e.assist,n=Object(i.b)().assistDB;return Object(r.jsx)(r.Fragment,{children:w({assistDB:n,assist:t})})};var $t=function(e){var t=e.special,n=Object(i.b)().specialDB;return Object(r.jsx)(r.Fragment,{children:M({specialDB:n,special:t})})},en=["skillA","skillB","skillC"];var tn=function(e){var t=e.skillType,n=e.skillId,c=Object(i.b)();if(en.includes(t)){var l=function(e){var t=P({skillDB:e.skillDB,skillId:e.skillId});return t?{icon:t.icon,name:t.name}:{icon:"",name:""}}({skillDB:c["".concat(t,"DB")],skillId:n}),s=l.icon,a=l.name;return Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)(Rt,{src:"skills/".concat(s)}),a]})}if("seal"===t){var o=function(e){var t=D({sealDB:e.sealDB,seal:e.seal});return t?{icon:t.icon,name:t.name}:{icon:"",name:""}}({sealDB:c.sealDB,seal:n}),u=o.icon,d=o.name;return Object(r.jsxs)(r.Fragment,{children:[u&&Object(r.jsx)(Rt,{src:"skills/".concat(u)}),d]})}return null};var nn=function(e){var t=e.hidden,n=e.heroId,c=e.rarity,l=e.iv,o=e.merge,u=e.dragonflower,d=e.blessing,j=e.support,b=e.arena,p=e.resplendent,h=e.weapon,O=e.refine,f=e.assist,k=e.special,x=e.skillA,g=e.skillB,m=e.skillC,y=e.seal,w=e.lv1,D=e.maxSkill,B=Object(s.a)(e,["hidden","heroId","rarity","iv","merge","dragonflower","blessing","support","arena","resplendent","weapon","refine","assist","special","skillA","skillB","skillC","seal","lv1","maxSkill"]),S=function(e){var t=e.heroId,n=e.weapon,r=e.maxSkill,c=Object(i.b)(),l=c.heroDB,s=c.weaponDB,o=Object(a.useMemo)((function(){return Object(v.c)(l,t)}),[l,t]),u=Object(a.useMemo)((function(){if("Feh"===t)return[];var e=H({heroDB:l,weaponDB:s,heroId:t});return r?e.filter((function(e){return e.last})).length>0:e.length>0}),[l,s,t,r]),d=Object(a.useMemo)((function(){return"Feh"!==t&&V({heroDB:l,weaponDB:s,heroId:t,weapon:n}).length>0}),[l,s,t,n]);return"Feh"===t?{hasRarity:!1,hasBlessing:!0,hasWeapon:!1,hasRefine:!1,hasAssist:!1,hasSpecial:!1,hasSkillA:!1,hasSkillB:!1,hasSkillC:!1,hasSeal:!1}:{hasRarity:o.rarity.length>0,hasBlessing:!!o.blessing,hasWeapon:u,hasRefine:d,hasAssist:!0,hasSpecial:!0,hasSkillA:!0,hasSkillB:!0,hasSkillC:!0,hasSeal:!0,blessing:o.blessing&&o.blessing}}({heroId:n,weapon:h,maxSkill:D}),C=S.hasRarity,I=S.hasBlessing,P=S.hasWeapon,A=S.hasRefine,_=S.hasAssist,T=S.hasSpecial,M=S.hasSkillA,E=S.hasSkillB,N=S.hasSkillC,R=S.hasSeal,W=S.blessing;return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsx)("button",{className:wt.a["close-button"],onClick:B.closeEditor,children:Object(r.jsx)(jt,{})}),Object(r.jsx)(St,{children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u82f1\u96c4"}),Object(r.jsx)(vt,{checked:w,onChange:B.toggleLv1,children:"Lv1"})]})}),Object(r.jsxs)(It,{children:[Object(r.jsx)("button",{className:"".concat(wt.a.button," ").concat(wt.a["hero-header"]),onClick:B.openHeroPicker,children:Object(r.jsx)(Kt,{heroId:n,resplendent:p})}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!C,onClick:B.openRarityPicker,children:["\u7a00\u6709\u5ea6",Object(r.jsx)(_t,{children:ot(c)})]}),Object(r.jsxs)(At,{disabled:"Feh"===n,onClick:B.openIVPicker,children:["IV",Object(r.jsx)(_t,{children:Object(Le.b)(l)})]}),Object(r.jsxs)(At,{disabled:I,onClick:B.openBlessingPicker,children:["\u795d\u798f",Object(r.jsx)(_t,{children:Object(r.jsx)(mt,{blessing:W||d})})]}),Object(r.jsxs)(At,{onClick:B.openMergePicker,children:["\u7a81\u7834\u6b21\u6578",Object(r.jsx)(_t,{children:o?"+".concat(o):"-"})]}),Object(r.jsxs)(At,{onClick:B.openDragonflowerPicker,children:["\u795e\u9f8d\u4e4b\u82b1",Object(r.jsx)(_t,{children:u?"+".concat(u):"-"})]})]})]}),Object(r.jsx)(St,{children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u6280\u80fd"}),Object(r.jsx)(vt,{checked:D,onChange:B.toggleMaxSkill,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),Object(r.jsx)(Dt,{onClick:B.setAllSkillDefault})]})}),Object(r.jsxs)(It,{children:[Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!P,onClick:B.openWeaponPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"\u6b66\u5668",Object(r.jsx)(_t,{children:Object(r.jsx)(Zt,{heroId:n,weapon:h})})]}),Object(r.jsxs)(At,{disabled:!A,onClick:B.openRefinePicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/refining-stone.png"}),"\u935b\u9020",Object(r.jsx)(_t,{children:Object(r.jsx)(Qt,{heroId:n,weapon:h,refine:O})})]})]}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!_,onClick:B.openAssistPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"\u8f14\u52a9",Object(r.jsx)(_t,{children:Object(r.jsx)(Gt,{assist:f})})]}),Object(r.jsxs)(At,{disabled:!T,onClick:B.openSpecialPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"\u5967\u7fa9",Object(r.jsx)(_t,{children:Object(r.jsx)($t,{special:k})})]})]}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!M,onClick:B.openSkillAPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"skillA",skillId:x})})]}),Object(r.jsxs)(At,{disabled:!E,onClick:B.openSkillBPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"skillB",skillId:g})})]}),Object(r.jsxs)(At,{disabled:!N,onClick:B.openSkillCPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"skillC",skillId:m})})]}),Object(r.jsxs)(At,{disabled:!R,onClick:B.openSealPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),"\u8056\u5370",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"seal",skillId:y})})]})]})]}),Object(r.jsx)(St,{children:"\u5f37\u5316"}),Object(r.jsx)(It,{children:Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{onClick:B.toggleSupport,children:["\u53ec\u559a\u5e2b\u5951\u7d04",Object(r.jsx)(Ot,{checked:j})]}),Object(r.jsxs)(At,{onClick:B.toggleSupport,children:["\u9b25\u6280\u5834",Object(r.jsx)(Ot,{checked:b})]}),Object(r.jsxs)(At,{onClick:B.toggleResplendent,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/god-wear.png"}),"\u795e\u88dd",Object(r.jsx)(Ot,{checked:p})]})]})})]})},rn=n("C5HV");function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=function(e){return Object(r.jsxs)("svg",ln(ln({width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),Object(r.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}))};var an=function(e){var t=e.onClick;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:t,className:"jsx-3918608153",children:Object(r.jsx)(sn,{fill:"white"})}),Object(r.jsx)(pt.a,{id:"3918608153",children:["button.jsx-3918608153{background-color:transparent;display:block;}"]})]})};var on=function(e){var t=e.hidden,n=e.heroId,i=e.onChangeHero,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:c}),"\u82f1\u96c4"]}),Object(r.jsx)(rn.a,{heroId:n,onSelect:l,noDropdown:!0,noStat:!0})]})},un=n("XJgP"),dn=n.n(un),jn=function(e){var t=e.iv,n=e.selectIV,i=Object(a.useCallback)((function(e){e.stopPropagation(),n(e.currentTarget.value)}),[n]);return Object(r.jsxs)("div",{className:dn.a.container,children:[Object(r.jsx)("button",{className:dn.a["neutral-button"],"data-active":!t,value:"",onClick:i,children:"-"}),Le.e.map((function(e){return Object(r.jsx)("button",{className:dn.a["iv-button"],"data-active":t===e.value,value:e.value,onClick:i,children:e.name},e.value)}))]})};var bn=function(e){var t=e.hidden,n=e.iv,i=e.selectIV,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:c}),"IV"]}),Object(r.jsx)(jn,{iv:n,selectIV:l})]})},pn=n("dLxW"),hn=n.n(pn),On=function(e){var t=e.blessing,n=e.selectBlessing,i=Object(a.useCallback)((function(e){e.stopPropagation(),n(e.currentTarget.value)}),[n]);return Object(r.jsxs)("div",{className:hn.a.container,children:[Object(r.jsx)("button",{className:hn.a["neutral-button"],"data-active":!t,value:"",onClick:i,children:"-"}),gt.c.map((function(e){return Object(r.jsx)("button",{className:hn.a["blessing-button"],"data-active":t===e.value,value:e.value,onClick:i,children:Object(r.jsx)(mt,{blessing:e.value})},e.value)}))]})};var fn=function(e){var t=e.hidden,n=e.blessing,i=e.selectBlessing,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:c}),"IV"]}),Object(r.jsx)(On,{blessing:n,selectBlessing:l})]})},kn=n("PY5n");var vn=function(e){var t=e.hidden,n=e.merge,i=e.selectMerge,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:c}),"\u7a81\u7834\u6b21\u6578"]}),Object(r.jsx)(kn.a,{merge:n,onSelect:l})]})},xn=n("KWow"),gn=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];var mn=function(e){var t=e.dragonflower,n=e.onSelect;return Object(r.jsx)(xn.a,{value:t,onSelect:n,options:gn})};var yn=function(e){var t=e.hidden,n=e.dragonflower,i=e.selectDragonflower,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:c}),"\u795e\u9f8d\u4e4b\u82b1"]}),Object(r.jsx)(mn,{dragonflower:n,onSelect:l})]})};var wn=function(e){var t=e.active,n=e.last,i=e.hidden,c=e.value,l=e.children,s=e.onClick;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{"data-active":t,value:c,onClick:s,hidden:i,className:pt.a.dynamic([["2665293084",[n?1:.618]]]),children:l}),Object(r.jsx)(pt.a,{id:"2665293084",dynamic:[n?1:.618],children:[".__jsx-style-dynamic-selector{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;text-align:left;outline:none;line-height:1.5;opacity:".concat(n?1:.618,";}"),"button.__jsx-style-dynamic-selector{padding:0.5em;margin-bottom:0.5em;border-bottom:1px solid #1d3e53;cursor:pointer;display:block;color:white;width:100%;background-color:transparent;}","button.__jsx-style-dynamic-selector:hover{background-color:#77abb7aa;}","button[hidden].__jsx-style-dynamic-selector{display:none;}","button[data-active='true'].__jsx-style-dynamic-selector{background-color:#476d7c;}"]})]})};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t})}function Cn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder"},children:t})}function In(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Pn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function An(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function _n(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function Tn(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Mn(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var En=function(e){return e>0?"+".concat(e):"".concat(e)};var Nn=function(e){var t=e.active,n=e.weapon,i=e.hidden,c=e.onClick;return Object(r.jsxs)(wn,{active:t,last:n.last,hidden:i,value:n.id,onClick:c,children:[Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Cn,{children:n.name}),Object(r.jsxs)(In,{children:[n.sp,"SP"]})]}),Object(r.jsxs)(Pn,{children:["\u5a01\u529b ",n.mt]}),n.cd&&Object(r.jsxs)(Tn,{cd:n.cd,children:["\u5967\u7fa9 cd",En(n.cd)]}),Object(r.jsxs)(An,{children:[n.hp&&Object(r.jsxs)(_n,{children:["HP ",En(n.hp)]}),n.atk&&Object(r.jsxs)(_n,{children:["\u653b\u64ca ",En(n.atk)]}),n.spd&&Object(r.jsxs)(_n,{children:["\u901f\u5ea6 ",En(n.spd)]}),n.def&&Object(r.jsxs)(_n,{children:["\u9632\u5b88 ",En(n.def)]}),n.res&&Object(r.jsxs)(_n,{children:["\u9b54\u9632 ",En(n.res)]})]}),n.exclusive&&Object(r.jsx)(Mn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function Rn(e){var t=e.heroId,n=e.weapon,c=e.selectWeapon,l=function(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.heroDB,s=c.weaponDB,o=Object(a.useMemo)((function(){return H({heroDB:l,weaponDB:s,heroId:t})}),[t,l,s]);return{options:Object(a.useMemo)((function(){return o.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),Bn(Bn({},e),{},{hidden:t})}))}),[o,n,r])}}({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,o=Object(a.useCallback)((function(e){e.stopPropagation(),c(e.currentTarget.value)}),[c]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:o,children:"\u7121\u6b66\u5668"}),l.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Nn,{hidden:t,weapon:i,active:n===e.id,onClick:o},e.id)}))]})}var Hn=Object(a.memo)(Rn);var Wn=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.weapon,l=e.selectWeapon,s=e.maxSkill,o=e.toggleMaxSkill,u=e.setDefaultSkill,d=Object(a.useState)(""),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u6b66\u5668"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),Object(r.jsx)(Dt,{onClick:u})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6b66\u5668\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Hn,{heroId:i,weapon:c,filter:j,maxSkill:s,selectWeapon:h})})]})};function Fn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:t})}function Ln(e){var t=e.src;return Object(r.jsx)(xt.a,{src:t,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function zn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Vn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function Yn(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function qn(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Un(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Jn=function(e){return e>0?"+".concat(e):"".concat(e)};var Xn=function(e){var t=e.active,n=e.hidden,i=e.refineType,c=e.refine,l=e.onClick;return Object(r.jsxs)(wn,{active:t,last:!0,hidden:n,value:i,onClick:l,children:[Object(r.jsxs)(Fn,{children:[c.icon&&Object(r.jsx)(Ln,{src:c.icon}),c.name]}),c.mt&&Object(r.jsxs)(zn,{children:["\u5a01\u529b ",c.mt]}),c.cd&&Object(r.jsxs)(qn,{cd:c.cd,children:["\u5967\u7fa9 cd",Jn(c.cd)]}),Object(r.jsxs)(Vn,{children:[c.hp&&Object(r.jsxs)(Yn,{children:["HP ",Jn(c.hp)]}),c.atk&&Object(r.jsxs)(Yn,{children:["\u653b\u64ca ",Jn(c.atk)]}),c.spd&&Object(r.jsxs)(Yn,{children:["\u901f\u5ea6 ",Jn(c.spd)]}),c.def&&Object(r.jsxs)(Yn,{children:["\u9632\u5b88 ",Jn(c.def)]}),c.res&&Object(r.jsxs)(Yn,{children:["\u9b54\u9632 ",Jn(c.res)]})]}),c.exclusive&&Object(r.jsx)(Un,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function Kn(e){var t=e.heroId,n=e.weapon,c=e.refine,l=e.selectRefine,o=function(e){var t=e.heroId,n=e.weapon,r=Object(i.b)(),c=r.heroDB,l=r.weaponDB;return{options:Object(a.useMemo)((function(){return V({heroDB:c,weaponDB:l,heroId:t,weapon:n})}),[c,l,t,n])}}({heroId:t,weapon:n}).options,u=Object(a.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!c,value:"",onClick:u,children:"\u7121\u935b\u9020"}),o.map((function(e){var t=e.value,n=Object(s.a)(e,["value"]);return Object(r.jsx)(Xn,{refineType:t,refine:n,active:c===t,onClick:u},t)}))]})}var Zn=Object(a.memo)(Kn);var Qn=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.weapon,l=e.refine,s=e.selectRefine,o=Object(a.useCallback)((function(e){s(e),n()}),[s,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsx)(Ct,{children:Object(r.jsx)("span",{children:"\u935b\u9020"})})]}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Zn,{heroId:i,weapon:c,refine:l,selectRefine:o})})]})};function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t=e.active,n=e.hidden,i=e.skill,c=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Nt,{children:[i.icon&&Object(r.jsx)(Rt,{src:"skills/".concat(i.icon)}),i.name]}),i.mt&&Object(r.jsxs)(Wt,{children:["\u5a01\u529b ",i.mt]}),i.cd&&Object(r.jsxs)(zt,{cd:i.cd,children:["\u5967\u7fa9 cd",Yt(i.cd)]}),Object(r.jsxs)(Ft,{children:[i.hp&&Object(r.jsxs)(Lt,{children:["HP ",Yt(i.hp)]}),i.atk&&Object(r.jsxs)(Lt,{children:["\u653b\u64ca ",Yt(i.atk)]}),i.spd&&Object(r.jsxs)(Lt,{children:["\u901f\u5ea6 ",Yt(i.spd)]}),i.def&&Object(r.jsxs)(Lt,{children:["\u9632\u5b88 ",Yt(i.def)]}),i.res&&Object(r.jsxs)(Lt,{children:["\u9b54\u9632 ",Yt(i.res)]})]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var tr=Object(a.memo)(er);function nr(e){var t=e.heroId,n=e.skillType,c=e.skillId,l=e.selectSkill,o=e.filter,u=e.maxSkill,d=function(e){var t=e.heroId,n=e.skillType,r=e.filter,c=e.maxSkill,l=Object(i.b)(),s=l.rulesDB,o=l.heroDB,u=l["".concat(n,"DB")],d=Object(a.useMemo)((function(){return C({rulesDB:s,heroDB:o,skillDB:u,heroId:t})}),[s,o,u,t]);return{options:Object(a.useMemo)((function(){return d.map((function(e){var t=!1;return c&&!e.last&&(t=!0),!t&&r&&(t=!e.query.includes(r.toLowerCase())),$n($n({},e),{},{hidden:t})}))}),[d,r,c])}}({heroId:t,skillType:n,skillId:c,filter:o,maxSkill:u}).options,j=Object(a.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!c,value:"",onClick:j,children:"\u7121\u6280\u80fd"}),d.map((function(e){var t=e.hidden,n=Object(s.a)(e,["hidden"]);return Object(r.jsx)(tr,{hidden:t,active:c===n.id,skill:n,onClick:j},n.id)}))]})}var rr=Object(a.memo)(nr);var ir=function(e){var t=e.hidden,n=e.skillType,i=e.title,c=e.onClickBack,l=e.heroId,s=e.skillId,o=e.selectSkill,u=e.maxSkill,d=e.toggleMaxSkill,j=e.setDefaultSkill,b=Object(a.useState)(""),p=b[0],h=b[1],O=Object(a.useCallback)((function(e){h(e.currentTarget.value)}),[]),f=Object(a.useCallback)((function(e){o(e),c()}),[o,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:c}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:i}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:u,onChange:d,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),j&&Object(r.jsx)(Dt,{onClick:j})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:O}),Object(r.jsx)(Tt,{children:Object(r.jsx)(rr,{heroId:l,skillType:n,skillId:s,selectSkill:f,filter:p,maxSkill:u})})]})};function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.rulesDB,s=c.heroDB,o=c.assistDB,u=Object(a.useMemo)((function(){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.assistDB,i=e.heroId;if(!t||!n||!r||!i)return[];var c=Object(v.c)(n,i);return c?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=x({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[c.moveType])&&(!n.weaponType||!1!==n.weaponType[c.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return m(m({},e),{},{query:t})})):[]}({rulesDB:l,heroDB:s,assistDB:o,heroId:t})}),[l,s,o,t]);return{options:Object(a.useMemo)((function(){return u.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),lr(lr({},e),{},{hidden:t})}))}),[u,n,r])}}function ar(e){var t=e.active,n=e.hidden,i=e.assist,c=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)(Nt,{children:i.name}),Object(r.jsxs)(Ht,{children:[i.sp,"SP"]})]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var or=Object(a.memo)(ar);function ur(e){var t=e.heroId,n=e.assist,i=e.selectAssist,c=sr({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,l=Object(a.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:l,children:"\u7121\u6280\u80fd"}),c.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(or,{hidden:t,active:n===i.id,assist:i,onClick:l},i.id)}))]})}var dr=Object(a.memo)(ur);var jr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.assist,l=e.selectAssist,s=e.maxSkill,o=e.toggleMaxSkill,u=e.setDefaultSkill,d=Object(a.useState)(""),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u652f\u63f4"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),u&&Object(r.jsx)(Dt,{onClick:u})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(dr,{heroId:i,assist:c,selectAssist:h,filter:j,maxSkill:s})})]})};function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.rulesDB,s=c.heroDB,o=c.specialDB,u=Object(a.useMemo)((function(){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.specialDB,i=e.heroId;if(!t||!n||!r||!i)return[];var c=Object(v.c)(n,i);return c?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=x({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[c.moveType])&&(!n.weaponType||!1!==n.weaponType[c.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return _(_({},e),{},{query:t})})):[]}({rulesDB:l,heroDB:s,specialDB:o,heroId:t})}),[l,s,o,t]);return{options:Object(a.useMemo)((function(){return u.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),pr(pr({},e),{},{hidden:t})}))}),[u,n,r])}}function Or(e){var t=e.active,n=e.hidden,i=e.special,c=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)(Nt,{children:i.name}),Object(r.jsxs)(Ht,{children:[i.sp,"SP"]})]}),Object(r.jsxs)("div",{children:["CD ",i.cd]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var fr=Object(a.memo)(Or);function kr(e){var t=e.heroId,n=e.special,i=e.selectSpecial,c=hr({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,l=Object(a.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:l,children:"\u7121\u6280\u80fd"}),c.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(fr,{hidden:t,active:n===i.id,special:i,onClick:l},i.id)}))]})}var vr=Object(a.memo)(kr);var xr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.special,l=e.selectSpecial,s=e.maxSkill,o=e.toggleMaxSkill,u=e.setDefaultSkill,d=Object(a.useState)(""),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u5967\u7fa9"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),u&&Object(r.jsx)(Dt,{onClick:u})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u5967\u7fa9\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(vr,{heroId:i,special:c,selectSpecial:h,filter:j,maxSkill:s})})]})};function gr(e){var t=e.active,n=e.hidden,i=e.skill,c=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Nt,{children:[i.icon&&Object(r.jsx)(Rt,{src:"skills/".concat(i.icon)}),i.name]}),i.mt&&Object(r.jsxs)(Wt,{children:["\u5a01\u529b ",i.mt]}),i.cd&&Object(r.jsxs)(zt,{cd:i.cd,children:["\u5967\u7fa9 cd",Yt(i.cd)]}),Object(r.jsxs)(Ft,{children:[i.hp&&Object(r.jsxs)(Lt,{children:["HP ",Yt(i.hp)]}),i.atk&&Object(r.jsxs)(Lt,{children:["\u653b\u64ca ",Yt(i.atk)]}),i.spd&&Object(r.jsxs)(Lt,{children:["\u901f\u5ea6 ",Yt(i.spd)]}),i.def&&Object(r.jsxs)(Lt,{children:["\u9632\u5b88 ",Yt(i.def)]}),i.res&&Object(r.jsxs)(Lt,{children:["\u9b54\u9632 ",Yt(i.res)]})]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var mr=Object(a.memo)(gr);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dr(e){var t=e.skill,n=e.maxSkill,r=e.filter,i=!1;return n&&!t.last&&(i=!0),!i&&r&&(i=!t.query.includes(r.toLowerCase())),wr(wr({},t),{},{hidden:i})}function Br(e){var t=e.heroId,n=e.seal,c=e.selectSeal,l=function(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.rulesDB,s=c.heroDB,o=c.sealDB;return{skillAOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.skillA,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r]),skillBOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.skillB,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r]),skillCOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.skillC,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r]),sealOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.seal,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r])}}({heroId:t,filter:e.filter,maxSkill:e.maxSkill}),o=l.skillAOptions,u=l.skillBOptions,d=l.skillCOptions,j=l.sealOptions,b=Object(a.useCallback)((function(e){e.stopPropagation(),c(e.currentTarget.value)}),[c]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:b,children:"\u7121\u8056\u5370"}),Object(r.jsx)(qt,{children:"A\u6280\u80fd\u8056\u5370"}),o.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(qt,{children:"B\u6280\u80fd\u8056\u5370"}),u.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(qt,{children:"C\u6280\u80fd\u8056\u5370"}),d.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(qt,{children:"\u5c08\u7528\u8056\u5370"}),j.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)}))]})}var Sr=Object(a.memo)(Br);var Cr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.seal,l=e.selectSeal,s=e.maxSkill,o=e.toggleMaxSkill,u=Object(a.useState)(""),d=u[0],j=u[1],b=Object(a.useCallback)((function(e){j(e.currentTarget.value)}),[]),p=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u8056\u5370"}),Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"})})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:b}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Sr,{heroId:i,seal:c,selectSeal:p,filter:d,maxSkill:s})})]})};var Ir=function(){var e=Object(a.useState)(""),t=e[0],n=e[1];return{view:t,openHeroPicker:Object(a.useCallback)((function(){n("hero")}),[]),openRarityPicker:Object(a.useCallback)((function(){n("rarity")}),[]),openIVPicker:Object(a.useCallback)((function(){n("iv")}),[]),openMergePicker:Object(a.useCallback)((function(){n("merge")}),[]),openDragonflowerPicker:Object(a.useCallback)((function(){n("dragonflower")}),[]),openBlessingPicker:Object(a.useCallback)((function(){n("blessing")}),[]),openWeaponPicker:Object(a.useCallback)((function(){n("weapon")}),[]),openRefinePicker:Object(a.useCallback)((function(){n("refine")}),[]),openAssistPicker:Object(a.useCallback)((function(){n("assist")}),[]),openSpecialPicker:Object(a.useCallback)((function(){n("special")}),[]),openSkillAPicker:Object(a.useCallback)((function(){n("skillA")}),[]),openSkillBPicker:Object(a.useCallback)((function(){n("skillB")}),[]),openSkillCPicker:Object(a.useCallback)((function(){n("skillC")}),[]),openSealPicker:Object(a.useCallback)((function(){n("seal")}),[]),onClickBack:Object(a.useCallback)((function(){n("")}),[])}};function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _r=function(e){var t=Ir(),n=t.view,i=t.openHeroPicker,c=t.openRarityPicker,l=t.openIVPicker,s=t.openMergePicker,a=t.openDragonflowerPicker,o=t.openBlessingPicker,u=t.openWeaponPicker,d=t.openRefinePicker,j=t.openAssistPicker,b=t.openSpecialPicker,p=t.openSkillAPicker,h=t.openSkillBPicker,O=t.openSkillCPicker,f=t.openSealPicker,k=t.onClickBack;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(nn,Ar(Ar({hidden:!!n},e),{},{openHeroPicker:i,openRarityPicker:c,openIVPicker:l,openMergePicker:s,openDragonflowerPicker:a,openBlessingPicker:o,openWeaponPicker:u,openRefinePicker:d,openAssistPicker:j,openSpecialPicker:b,openSkillAPicker:p,openSkillBPicker:h,openSkillCPicker:O,openSealPicker:f})),Object(r.jsx)(on,{hidden:"hero"!==n,heroId:e.heroId,onChangeHero:e.onChangeHero,onClickBack:k}),Object(r.jsx)(bn,{hidden:"iv"!==n,iv:e.iv,selectIV:e.setIV,onClickBack:k}),Object(r.jsx)(fn,{hidden:"blessing"!==n,blessing:e.blessing,selectBlessing:e.setBlessing,onClickBack:k}),Object(r.jsx)(vn,{hidden:"merge"!==n,merge:e.merge,selectMerge:e.setMerge,onClickBack:k}),Object(r.jsx)(yn,{hidden:"dragonflower"!==n,dragonflower:e.dragonflower,selectDragonflower:e.setDragonflower,onClickBack:k}),Object(r.jsx)(Wn,{hidden:"weapon"!==n,onClickBack:k,heroId:e.heroId,weapon:e.weapon,selectWeapon:e.setWeapon,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultWeapon}),Object(r.jsx)(Qn,{hidden:"refine"!==n,onClickBack:k,heroId:e.heroId,weapon:e.weapon,refine:e.refine,selectRefine:e.setRefine}),Object(r.jsx)(jr,{hidden:"assist"!==n,onClickBack:k,heroId:e.heroId,assist:e.assist,selectAssist:e.setAssist,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultAssist}),Object(r.jsx)(xr,{title:"A\u6280\u80fd",hidden:"special"!==n,onClickBack:k,heroId:e.heroId,special:e.special,selectSpecial:e.setSpecial,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSpecial}),Object(r.jsx)(ir,{skillType:"skillA",title:"A\u6280\u80fd",hidden:"skillA"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillA,selectSkill:e.setSkillA,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillA}),Object(r.jsx)(ir,{skillType:"skillB",title:"B\u6280\u80fd",hidden:"skillB"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillB,selectSkill:e.setSkillB,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillB}),Object(r.jsx)(ir,{skillType:"skillC",title:"C\u6280\u80fd",hidden:"skillC"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillC,selectSkill:e.setSkillC,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillC}),Object(r.jsx)(Cr,{hidden:"seal"!==n,onClickBack:k,heroId:e.heroId,seal:e.skillC,selectSeal:e.setSeal,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill})]})},Tr=n("YnUv"),Mr=n.n(Tr),Er=n("YVe8"),Nr={weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""};function Rr(){var e=Object(i.b)(),t=e.rulesDB,n=e.heroDB,r=e.weaponDB,c=e.assistDB,l=e.specialDB,s=e.skillADB,o=e.skillBDB,u=e.skillCDB,d=e.sealDB,j=e.defaultSkillDB,b=Object(a.useState)("Feh"),p=b[0],h=b[1],O=Object(a.useState)(5),f=O[0],k=O[1],g=Object(a.useState)(""),m=g[0],y=g[1],w=Object(a.useState)(0),D=w[0],B=w[1],S=Object(a.useState)(0),C=S[0],P=S[1],A=Object(a.useState)(""),_=A[0],T=A[1],M=Object(a.useState)(!1),E=M[0],N=M[1],R=Object(a.useCallback)((function(){N((function(e){return!e}))}),[]),H=Object(a.useRef)({weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""}),L=Object(a.useRef)(""),z=Object(a.useState)(""),V=z[0],Y=z[1],q=Object(a.useState)(""),U=q[0],J=q[1],X=Object(a.useState)(""),K=X[0],Z=X[1],Q=Object(a.useState)(""),G=Q[0],$=Q[1],ee=Object(a.useState)(""),te=ee[0],ne=ee[1],re=Object(a.useState)(""),ie=re[0],ce=re[1],le=Object(a.useState)(""),se=le[0],ae=le[1],oe=Object(a.useState)(""),ue=oe[0],de=oe[1],je=Object(a.useCallback)((function(){Y(H.current.weapon)}),[]),be=Object(a.useCallback)((function(){Z(H.current.assist)}),[]),pe=Object(a.useCallback)((function(){$(H.current.special)}),[]),he=Object(a.useCallback)((function(){ne(H.current.skillA)}),[]),Oe=Object(a.useCallback)((function(){ce(H.current.skillB)}),[]),fe=Object(a.useCallback)((function(){ae(H.current.skillC)}),[]),ke=Object(a.useCallback)((function(){je(),be(),pe(),he(),Oe(),fe()}),[je,be,pe,he,Oe,fe]);L.current=V;var ve=Object(a.useCallback)((function(e){h(e),H.current=function(e){var t=e.defaultSkillDB,n=e.heroId;if(!t||!n||!t[n])return Nr;var r=t[n],i="",c="",l="",s="",a="",o="";return r.weapon&&(i=Object.keys(r.weapon).pop()),r.assist&&(c=Object.keys(r.assist).pop()),r.special&&(l=Object.keys(r.special).pop()),r.skillA&&(s=Object.keys(r.skillA).pop()),r.skillB&&(a=Object.keys(r.skillB).pop()),r.skillC&&(o=Object.keys(r.skillC).pop()),{weapon:i,assist:c,special:l,skillA:s,skillB:a,skillC:o}}({defaultSkillDB:j,heroId:e}),Y((function(){return W({heroDB:n,weaponDB:r,heroId:e,weaponId:L.current})?L.current:""})),J((function(t){return function(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weaponId,c=e.refineId;if(!W({heroDB:t,weaponDB:n,heroId:r,weaponId:i}))return!1;var l=F({heroDB:t,weaponDB:n,heroId:r,weapon:i});return!!(l&&l.refine&&l.refine[c])&&(!l.refine[c].exclusive||l.refine[c].exclusive.includes(r))}({heroDB:n,weaponDB:r,heroId:e,weaponId:L.current,refineId:t})?t:""})),Z((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.assistDB,i=e.heroId,c=e.assistId;if(!t||!n||!r||!i||!c)return!1;var l=Object(v.c)(n,i);if(!l)return!1;var s=r[c];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=x({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}({rulesDB:t,heroDB:n,assistDB:c,heroId:e,assistId:r})?r:""})),$((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.specialDB,i=e.heroId,c=e.specialId;if(!t||!n||!r||!i||!c)return!1;var l=Object(v.c)(n,i);if(!l)return!1;var s=r[c];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=x({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}({rulesDB:t,heroDB:n,specialDB:l,heroId:e,specialId:r})?r:""})),ne((function(r){return I({rulesDB:t,heroDB:n,skillDB:s,heroId:e,skillId:r})?r:""})),ce((function(r){return I({rulesDB:t,heroDB:n,skillDB:o,heroId:e,skillId:r})?r:""})),ae((function(r){return I({rulesDB:t,heroDB:n,skillDB:u,heroId:e,skillId:r})?r:""})),de((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.sealDB,i=e.heroId,c=e.sealId;if(!n||!r||!i||!c)return!1;var l=Object(v.c)(n,i);if(!l)return!1;var s=r.skillA[c]||r.skillB[c]||r.skillC[c]||r.seal[c];if(!s)return!1;var a=x({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}({rulesDB:t,heroDB:n,sealDB:d,heroId:e,sealId:r})?r:""}))}),[t,n,r,c,l,s,o,u,d,j]),xe=Object(a.useState)(!1),ge=xe[0],me=xe[1],ye=Object(a.useCallback)((function(){me((function(e){return!e}))}),[]),we=Object(a.useState)(!1),De=we[0],Be=we[1],Se=Object(a.useCallback)((function(){Be((function(e){return!e}))}),[]),Ce=Object(a.useState)(!1),Ie=Ce[0],Pe=Ce[1],Ae=Object(a.useCallback)((function(){Pe((function(e){return!e}))}),[]),_e=Object(a.useState)(!0),Te=_e[0],Me=_e[1],Ee=Object(a.useCallback)((function(){Me((function(e){return!e}))}),[]),Ne=Object(a.useState)(!1),Re=Ne[0],He=Ne[1],We=Object(a.useCallback)((function(){He(!0)}),[]),Fe=Object(a.useCallback)((function(){He(!1)}),[]),Le=Object(Er.a)("/assets/summon-stone.jpg");return{heroId:p,onChangeHero:ve,rarity:f,setRarity:k,iv:m,setIV:y,merge:D,setMerge:B,dragonflower:C,setDragonflower:P,blessing:_,setBlessing:T,support:E,toggleSupport:R,arena:ge,toggleArena:ye,resplendent:De,toggleResplendent:Se,weapon:V,setWeapon:Y,refine:U,setRefine:J,assist:K,setAssist:Z,special:G,setSpecial:$,skillA:te,setSkillA:ne,skillB:ie,setSkillB:ce,skillC:se,setSkillC:ae,seal:ue,setSeal:de,setDefaultWeapon:je,setDefaultAssist:be,setDefaultSpecial:pe,setDefaultSkillA:he,setDefaultSkillB:Oe,setDefaultSkillC:fe,setAllSkillDefault:ke,lv1:Ie,toggleLv1:Ae,maxSkill:Te,toggleMaxSkill:Ee,bg:Le,editorIsOpen:Re,openEditor:We,closeEditor:Fe}}var Hr=function(){var e=Rr(),t=e.heroId,n=e.onChangeHero,i=e.rarity,c=e.setRarity,s=e.iv,a=e.setIV,o=e.merge,u=e.setMerge,d=e.dragonflower,j=e.setDragonflower,b=e.blessing,p=e.setBlessing,h=e.support,O=e.toggleSupport,f=e.arena,k=e.toggleArena,v=e.resplendent,x=e.toggleResplendent,g=e.weapon,m=e.setWeapon,y=e.refine,w=e.setRefine,D=e.assist,B=e.setAssist,S=e.special,C=e.setSpecial,I=e.skillA,P=e.setSkillA,A=e.skillB,_=e.setSkillB,T=e.skillC,M=e.setSkillC,E=e.seal,N=e.setSeal,R=e.setDefaultWeapon,H=e.setDefaultAssist,W=e.setDefaultSpecial,F=e.setDefaultSkillA,L=e.setDefaultSkillB,z=e.setDefaultSkillC,V=e.setAllSkillDefault,Y=e.lv1,q=e.toggleLv1,U=e.maxSkill,J=e.toggleMaxSkill,X=e.bg,K=e.editorIsOpen,Z=e.openEditor,Q=e.closeEditor;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{children:Object(r.jsx)("title",{children:"\u55ae\u5175\u88fd\u9020\u6a5f"})}),Object(r.jsx)("div",{style:{background:"url('".concat(X,"') center / cover no-repeat fixed")},children:Object(r.jsxs)("div",{className:Mr.a.container,children:[Object(r.jsx)("div",{className:Mr.a.viewer,children:Object(r.jsx)(at,{heroId:t,rarity:i,iv:s,merge:o,dragonflower:d,blessing:b,support:h,arena:f,resplendent:v,weapon:g,refine:y,assist:D,special:S,skillA:I,skillB:A,skillC:T,seal:E,lv1:Y,openEditor:Z})}),Object(r.jsx)("div",{className:Mr.a.editor,hidden:!K,children:Object(r.jsx)(_r,{heroId:t,onChangeHero:n,rarity:i,setRarity:c,iv:s,setIV:a,merge:o,setMerge:u,dragonflower:d,setDragonflower:j,blessing:b,setBlessing:p,support:h,toggleSupport:O,arena:f,toggleArena:k,resplendent:v,toggleResplendent:x,weapon:g,setWeapon:m,refine:y,setRefine:w,assist:D,setAssist:B,special:S,setSpecial:C,skillA:I,setSkillA:P,skillB:A,setSkillB:_,skillC:T,setSkillC:M,seal:E,setSeal:N,setDefaultWeapon:R,setDefaultAssist:H,setDefaultSpecial:W,setDefaultSkillA:F,setDefaultSkillB:L,setDefaultSkillC:z,setAllSkillDefault:V,lv1:Y,toggleLv1:q,maxSkill:U,toggleMaxSkill:J,closeEditor:Q})})]})})]})};var Wr=!0;t.default=function(e){var t=e.db;return Object(r.jsx)(i.a.Provider,{value:t,children:Object(r.jsx)(Hr,{})})}},EMxf:function(e,t,n){e.exports={canvas:"unitviewer_canvas__1B3ct",container:"unitviewer_container__3VZmP",button:"unitviewer_button__2TX0S",download:"unitviewer_download__3Uy5D",menu:"unitviewer_menu__2M5q2"}},ORp4:function(e,t,n){e.exports={label:"labelcheckbox_label__2oYYn","label-checkbox":"labelcheckbox_label-checkbox__sIM3t"}},XJgP:function(e,t,n){e.exports={container:"styles_container__3csrI","neutral-button":"styles_neutral-button__2Xm3a","iv-button":"styles_iv-button__2PgFW"}},YnUv:function(e,t,n){e.exports={container:"uniteditor_container__1sFaN",viewer:"uniteditor_viewer__3R3bp",editor:"uniteditor_editor__3iyeY"}},dLxW:function(e,t,n){e.exports={container:"styles_container__1uNtQ","neutral-button":"styles_neutral-button__HXZYg","blessing-button":"styles_blessing-button__m41R8"}},jsgU:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uniteditor",function(){return n("4NHs")}])},xjvT:function(e,t,n){e.exports={button:"editor_button__2Z2Kz",title:"editor_title__2zWFs","title-textgroup":"editor_title-textgroup__2jYvF",content:"editor_content__3FUd5",section:"editor_section__3UQua","section-group":"editor_section-group__2EmUU","hero-header":"editor_hero-header__3PATq","button-content":"editor_button-content__eni0J","editor-img":"editor_editor-img__2WL8i","close-button":"editor_close-button__38zOJ",container:"editor_container__2qbrs",input:"editor_input__3m_fH",options:"editor_options__v_lcK"}}},[["jsgU",0,2,1,3,4,5]]]);