_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"4NHs":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return Hr}));var r=n("nKUr"),i=n("OyYD"),l=n("g4pe"),c=n.n(l),s=n("Ff2n"),a=n("q1tI"),o=n("EMxf"),u=n.n(o),d=n("rePB");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return Object(r.jsxs)("svg",b(b({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),{},{children:[Object(r.jsx)("path",{d:"M38 18h-8v-12h-12v12h-8l14 14 14-14zm-28 18v4h28v-4h-28z"}),Object(r.jsx)("path",{d:"M0 0h48v48h-48z",fill:"none"})]}))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){return Object(r.jsxs)("svg",O(O({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(r.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]}))},k=n("ODXe"),v=n("YVe8"),x=n("I5BY");function g(e){var t=e.rulesDB,n=e.ruleId;return t&&n?t[n]:null}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=e.assistDB,n=e.assist;return t&&n?t[n]:null}function D(e){var t=w({assistDB:e.assistDB,assist:e.assist});return(null===t||void 0===t?void 0:t.name)||""}function B(e){var t=e.sealDB,n=e.seal;return t&&n?t.skillA[n]?t.skillA[n]:t.skillB[n]?t.skillB[n]:t.skillC[n]?t.skillC[n]:t.seal[n]?t.seal[n]:null:null}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=e.rulesDB,n=e.heroDB,r=e.skillDB,i=e.heroId;if(!t||!n||!r||!i)return[];var l=Object(x.c)(n,i);return l?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=g({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[l.moveType])&&(!n.weaponType||!1!==n.weaponType[l.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return C(C({},e),{},{query:t})})):[]}function P(e){var t=e.rulesDB,n=e.heroDB,r=e.skillDB,i=e.heroId,l=e.skillId;if(!t||!n||!r||!i||!l)return!1;var c=Object(x.c)(n,i);if(!c)return!1;var s=r[l];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=g({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[c.moveType])&&(!a.weaponType||!1!==a.weaponType[c.weaponType])}function A(e){var t=e.skillDB,n=e.skillId;return t&&n?t[n]:null}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=e.specialDB,n=e.special;return t&&n?t[n]:null}function E(e){var t=M({specialDB:e.specialDB,special:e.special});return(null===t||void 0===t?void 0:t.name)||""}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){switch(e){case"red-bow":case"blue-bow":case"green-bow":case"white-bow":return"bow";case"red-dagger":case"blue-dagger":case"green-dagger":case"white-dagger":return"dagger";case"red-dragon":case"blue-dragon":case"green-dragon":case"white-dragon":return"dragon";case"red-beast":case"blue-beast":case"green-beast":case"white-beast":return"beast"}return e}function W(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId;if(!n||!t||!r)return[];var i=Object(x.c)(t,r);if(!i)return[];var l=H(i.weaponType),c=n[l];return l?Object.values(c).filter((function(e){return!e.exclusive||e.exclusive.includes(r)})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return R(R({},e),{},{query:t})})):[]}function F(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weaponId;if(!n||!t||!r||!i)return!1;var l=Object(x.c)(t,r);if(!l)return!1;var c=H(l.weaponType),s=n[c];if(!c)return!1;var a=s[i];return!!a&&(!a.exclusive||a.exclusive.includes(r))}function L(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon;if(!n||!t||!i||!r)return null;var l=Object(x.c)(t,r);return l?n[H(l.weaponType)][i]:null}function z(e){var t=L({heroDB:e.heroDB,weaponDB:e.weaponDB,heroId:e.heroId,weapon:e.weapon});return(null===t||void 0===t?void 0:t.name)||""}var V={atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632"};function Y(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon,l=L({heroDB:t,weaponDB:n,heroId:r,weapon:i});return l&&l.refine?Object.entries(l.refine).filter((function(e){var t=Object(k.a)(e,2)[1];return!t.exclusive||t.exclusive.includes(r)})).map((function(e){var t=Object(k.a)(e,2),n=t[0],r=R({value:n},t[1]);return r.name||(r.name=V[n]||n),r.icon&&(r.icon="/skills/weapon/".concat(r.icon,".png")),!r.icon&&V[n]&&(r.icon="/skills/weapon/".concat(n,".png")),r})):[]}function q(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon,l=e.refine,c=function(e){var t,n=e.heroDB,r=e.weaponDB,i=e.heroId,l=e.weapon,c=e.refine,s=L({heroDB:n,weaponDB:r,heroId:i,weapon:l});return null===s||void 0===s||null===(t=s.refine)||void 0===t?void 0:t[c]}({heroDB:t,weaponDB:n,heroId:r,weapon:i,refine:l});return c?V[l]?V[l]:c.name:""}var J={atk:"atk",spd:"spd",def:"def",res:"res"};function X(e){var t=e.heroDB,n=e.weaponDB,r=e.assistDB,i=e.specialDB,l=e.skillADB,c=e.skillBDB,s=e.skillCDB,a=e.sealDB,o=e.heroId,u=e.skills;return{weapon:L({heroDB:t,weaponDB:n,heroId:o,weapon:u.weapon}),assist:w({assistDB:r,assist:u.assist}),special:M({specialDB:i,special:u.special}),skillA:A({skillDB:l,skillId:u.skillA}),skillB:A({skillDB:c,skillId:u.skillB}),skillC:A({skillDB:s,skillId:u.skillC}),seal:B({sealDB:a,seal:u.seal})}}var U=["assist","special","skillA","skillB","skillC","seal"];var Q=n("ufDn"),K={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};var Z=function(e){var t=e.rarity,n=void 0===t?5:t,r=e.merge,i=e.bst,l=e.spt,c=e.blesser,s=void 0===c?0:c,a=K[n];return 2*(150+a.base+a.float+2*r+Math.floor(i/5)+Math.floor(l/100)+4*s)};function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(d.a)(this,"imageData",void 0),Object(d.a)(this,"src",void 0),Object(d.a)(this,"loadedData",void 0),Object(d.a)(this,"callback",void 0),this.imageData=new Image,this.src="",this.loadedData=!1,this.callback=t,this.imageData.onload=function(){n.loadedData=!0,n.callback&&n.callback(!0)},this.imageData.onerror=function(){n.loadedData=!1,n.callback&&n.callback(!1)}}var t,n,r;return t=e,(n=[{key:"load",value:function(e){e!==this.src&&(this.loadedData=!1,this.src=e,this.imageData.src=e)}},{key:"loaded",get:function(){return this.loadedData}},{key:"image",get:function(){return this.imageData}}])&&G(t.prototype,n),r&&G(t,r),e}();var ee=n("oh6S"),te=16,ne=554,re=ee.c;var ie=174,le=555,ce=["infantry","armored","cavalry","flying"];function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=1,ue=43,de=85,je=127,be=169,pe=[0,1,2,3,4,5,6,7,8,9,"x","+","-"].reduce((function(e,t,n){return ae(ae({},e),{},Object(d.a)({},t,34*n+1))}),{});function he(e,t,n,r,i,l){pe[r]&&e.drawImage(t,pe[r],n,32,40,i,l,16,20)}var Oe=240,fe=557,ke=[14,28,42],ve=["infantry","armored","cavalry","flying"];var xe=432,ge=425;var me=432,ye=425;var we=275,De=594,Be=function(e,t,n){var r=37*n+1+De;e.drawImage(t,we,r,35,35)};var Se=82,Ce=557,Ie=[14,28,42];var Pe=112,Ae=557,_e=[14,28,42];var Te=130,Me=594,Ee=[14,28,42,56],Ne=[1e3,100,10],Re=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oe,l=8+Me+37*r;Ne.forEach((function(r,c){if(n>=r){var s=Math.floor(n/r%10);he(e,t,i,s,Te+Ee[c],l)}}));var c=n%10;he(e,t,i,c,Te+Ee[3],l)};var He=465,We=594;function Fe(e){var t=e.context,n=e.numberAtlas,r=e.accelerate,i=e.specialCD;if(i){var l=ue;r<0&&(l=de),r>0&&(l=je),function(e,t,n){he(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue,n,He,8+We+74)}(t,n,r+i,l)}}var Le=n("W8is"),ze=206,Ve=1224,Ye=["#ffa0af","white","#aaf0fa"],qe=Object.entries({hp:"HP",atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632",bst:"BST",arena:"\u9b25\u6280\u5206"});var Je=634,Xe=1224,Ue={weapon:0,assist:1,special:2,skillA:3,skillB:4,skillC:5,seal:6};var Qe=296,Ke=876,Ze=336,Ge=992;var $e={x:460,y:530};var et=195,tt=370;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=[["background","/assets/background.jpg"],["foreground","/assets/foreground.png"],["foreground2","/assets/foreground2.png"],["portrait",""],["rarityAtlas","/assets/rarity.png"],["weaponTypeAtlas","/assets/weapon-type.png"],["moveTypeAtlas","/assets/move-type.png"],["dragonflowerAtlas","/assets/dragonflower.png"],["supportAtlas","/assets/support.png"],["blessingAtlas",""],["numberAtlas","/assets/number.png"],["weaponIcon","/skills/weapon.png"],["assistIcon","/skills/assist.png"],["specialIcon","/skills/special.png"],["textA","/assets/skill-a.png"],["textB","/assets/skill-b.png"],["textC","/assets/skill-c.png"],["textS","/assets/skill-s.png"],["arenaIcon","/assets/Arena_Crown.png"],["skillAIcon",""],["skillBIcon",""],["skillCIcon",""],["sealIcon",""],["resplendentIcon","/assets/god-wear-l.png"]],lt=[{skillName:"weapon",empty:"/skills/weapon.png"},{skillName:"skillA",empty:"/skills/empty.png"},{skillName:"skillB",empty:"/skills/empty.png"},{skillName:"skillC",empty:"/skills/empty.png"},{skillName:"seal",empty:"/skills/seal-empty.png"}];var ct=function(e){var t=e.heroId,n=e.rarity,r=e.iv,l=e.merge,c=e.dragonflower,o=e.blessing,u=e.support,d=e.arena,j=e.resplendent,b=e.weapon,p=e.refine,h=e.assist,O=e.special,f=e.skillA,g=e.skillB,m=e.skillC,y=e.seal,w=e.lv1,D=Object(i.b)(),B=Object(a.useRef)(null),S=Object(a.useRef)(null),C=Object(a.useRef)(),I=Object(a.useRef)(),P=Object(a.useRef)(),A=Object(a.useRef)(),_=Object(a.useRef)(),T=Object(a.useRef)(),M=Object(a.useRef)(),E=Object(a.useRef)(),N=Object(a.useRef)(),R=Object(a.useRef)(),H=Object(a.useRef)(),W=Object(a.useRef)(),F=Object(a.useRef)(),L=Object(a.useRef)(),z=Object(a.useMemo)((function(){return Object(x.c)(D.heroDB,t)}),[D.heroDB,t]),V=Object(a.useMemo)((function(){return{weapon:b,assist:h,special:O,skillA:f,skillB:g,skillC:m,seal:y}}),[b,h,O,f,g,m,y]),Y=z.stats,q=Object(a.useMemo)((function(){return function(e){var t,n,r,i,l,c,s,a,o,u=e.heroDB,d=e.weaponDB,j=e.assistDB,b=e.specialDB,p=e.skillADB,h=e.skillBDB,O=e.skillCDB,f=e.sealDB,v=e.heroId,x=e.skills,g=e.refine,m=e.rarity,y=X({heroDB:u,weaponDB:d,assistDB:j,specialDB:b,skillADB:p,skillBDB:h,skillCDB:O,sealDB:f,heroId:v,skills:x}),w={weapon:"-",assist:"-",special:"-",skillA:"-",skillB:"-",skillC:"-",seal:"-"},D=0,B=(null===(t=y.special)||void 0===t?void 0:t.cd)||0;D+=(null===(n=y.weapon)||void 0===n?void 0:n.cd)||0,D+=(null===(r=y.assist)||void 0===r?void 0:r.cd)||0,D+=(null===(i=y.skillA)||void 0===i?void 0:i.cd)||0,D+=(null===(l=y.skillB)||void 0===l?void 0:l.cd)||0,D+=(null===(c=y.skillC)||void 0===c?void 0:c.cd)||0,D+=(null===(s=y.seal)||void 0===s?void 0:s.cd)||0;var S={hp:0,atk:0,spd:0,def:0,res:0},C=0,I=0;Object.entries(y).forEach((function(e){var t=Object(k.a)(e,2),n=t[0],r=t[1];w[n]=(null===r||void 0===r?void 0:r.name)||"-",S.hp+=(null===r||void 0===r?void 0:r.hp)||0,S.atk+=((null===r||void 0===r?void 0:r.mt)||0)+((null===r||void 0===r?void 0:r.atk)||0),S.spd+=(null===r||void 0===r?void 0:r.spd)||0,S.def+=(null===r||void 0===r?void 0:r.def)||0,S.res+=(null===r||void 0===r?void 0:r.res)||0,C+=(null===r||void 0===r?void 0:r.sp)||0,5===m&&(I=Math.max((null===r||void 0===r?void 0:r.bst)||0,I))}));var P=null===(a=y.weapon)||void 0===a||null===(o=a.refine)||void 0===o?void 0:o[g];return P&&(S.hp+=P.hp||0,S.atk+=(P.mt||0)+(P.atk||0),S.spd+=P.spd||0,S.def+=P.def||0,S.res+=P.res||0,D+=P.cd||0,y.weapon.exclusive||(C+=50),5===m&&(I=Math.max(I,P.bst||0))),{names:w,stats:S,accelerate:D,specialCD:B,spt:C,bst:I}}({heroDB:D.heroDB,weaponDB:D.weaponDB,assistDB:D.assistDB,specialDB:D.specialDB,skillADB:D.skillADB,skillBDB:D.skillBDB,skillCDB:D.skillCDB,sealDB:D.sealDB,skills:V,heroId:t,refine:p,rarity:n})}),[V,t,p,n,D.heroDB,D.weaponDB,D.assistDB,D.specialDB,D.skillADB,D.skillBDB,D.skillCDB,D.sealDB]),K=Object(a.useMemo)((function(){return Object(Q.b)(n,Y,r,l,u,q.stats,w,d,c,j)}),[n,Y,r,l,u,q,w,d,c,j]),G=Object(a.useMemo)((function(){return Z({rarity:n,merge:l,bst:Math.max(K.bst,q.bst,z.bst||0),spt:q.spt})}),[n,l,K.bst,q.bst,q.spt,z]),ee=Object(a.useRef)({}),se=Object(a.useCallback)((function(){if(B.current){var e=ee.current,t=e.background,n=e.foreground,r=e.foreground2,i=e.portrait,l=e.rarityAtlas,c=e.weaponTypeAtlas,a=e.moveTypeAtlas,o=e.dragonflowerAtlas,u=e.supportAtlas,d=e.blessingAtlas,j=e.numberAtlas,b=e.weaponIcon,p=e.assistIcon,h=e.specialIcon,O=e.textA,f=e.textB,v=e.textC,x=e.textS,g=e.arenaIcon,m=e.skillAIcon,y=e.skillBIcon,w=e.skillCIcon,D=e.sealIcon,z=e.resplendentIcon,V=C.current,Y=V.title,q=V.name,J=V.weaponType,X=V.moveType,U=!!C.current.blessing||!!E.current,Q=B.current.getContext("2d");Q.clearRect(0,0,540,960),t.loaded&&function(e){var t=e.context,n=e.background;e.support?t.drawImage(n,540,0,540,960,0,0,540,960):t.drawImage(n,0,0,540,960,0,0,540,960)}({context:Q,background:t.image,support:N.current}),i.loaded&&function(e){var t=e.context,n=e.portrait;t.drawImage(n,0,0,540,960,0,0,540,960)}({context:Q,portrait:i.image}),n.loaded&&function(e){var t=e.context,n=e.foreground;t.drawImage(n,0,0,540,960,0,0,540,960)}({context:Q,foreground:n.image}),r.loaded&&function(e){var t=e.context,n=e.foreground2;e.dragonflower?t.drawImage(n,0,50,540,50,0,542,540,50):t.drawImage(n,0,0,540,50,0,542,540,50)}({context:Q,foreground2:r.image,dragonflower:M.current}),l.loaded&&function(e){var t=e.context,n=e.rarityAtlas;switch(e.rarity){case 5:t.drawImage(n,0,0,153,40,42,380,153,40);break;case 4:t.drawImage(n,0,41,153,40,42,380,153,40)}}({context:Q,rarityAtlas:l.image,rarity:A.current}),c.loaded&&function(e){var t=e.context,n=e.weaponTypeAtlas,r=e.weaponType,i=re.indexOf(r);i>-1&&t.drawImage(n,56*i,0,56,55,te,ne,28,28)}({context:Q,weaponTypeAtlas:c.image,weaponType:J}),a.loaded&&function(e){var t=e.context,n=e.moveTypeAtlas,r=e.moveType,i=ce.indexOf(r);i>-1&&t.drawImage(n,56*i,0,52,52,ie,le,26,26)}({context:Q,moveTypeAtlas:a.image,moveType:X}),o.loaded&&j.loaded&&function(e){var t=e.context,n=e.dragonflowerAtlas,r=e.numberAtlas,i=e.moveType,l=e.dragonflower;if(l){var c=ve.indexOf(i);c>-1&&t.drawImage(n,0,58*c,64,58,216,546,48,44);var s=0,a=ue;he(t,r,a,"+",Oe+ke[0],fe),s+=1,l>9&&(he(t,r,a,1,Oe+ke[s],fe),s+=1),he(t,r,a,l%10,Oe+ke[s],fe)}}({context:Q,dragonflowerAtlas:o.image,numberAtlas:j.image,moveType:X,dragonflower:M.current}),u.loaded&&function(e){var t=e.context,n=e.supportAtlas,r=e.support,i=e.hasBlessing?108:0;r&&t.drawImage(n,xe-i,ge,108,115)}({context:Q,supportAtlas:u.image,support:N.current,hasBlessing:U}),d.loaded&&function(e){var t=e.context,n=e.blessingAtlas;t.drawImage(n,me,ye,108,115)}({context:Q,blessingAtlas:d.image}),j.loaded&&(!function(e){var t=e.context,n=e.numberAtlas,r=e.lv1?1:40,i=0;r>9&&he(t,n,ue,4,Se+Ie[i],Ce),he(t,n,ue,r%10,Se+Ie[i+=1],Ce)}({context:Q,numberAtlas:j.image,lv1:F.current}),function(e){var t=e.context,n=e.numberAtlas,r=e.merge;if(!(r<=0)){var i=0,l=r>9?be:ue;he(t,n,l,"+",Pe+_e[0],Ae),i+=1,r>9&&(he(t,n,l,1,Pe+_e[i],Ae),i+=1),he(t,n,l,r%10,Pe+_e[i],Ae)}}({context:Q,numberAtlas:j.image,merge:T.current}),function(e){var t=e.context,n=e.numberAtlas,r=e.stats,i=e.score,l=e.sbst,c=e.bst;Object.values(r).forEach((function(e,r){Re(t,n,e,r,oe)}));var s=l>c?de:be;Re(t,n,c,5,be),Re(t,n,i,6,s)}(rt({context:Q,numberAtlas:j.image,score:L.current,sbst:Math.max(I.current.bst,C.current.bst)},P.current)),Fe({context:Q,numberAtlas:j.image,accelerate:I.current.accelerate,specialCD:I.current.specialCD})),function(e){var t=e.context,n=e.weaponIcon,r=e.assistIcon,i=e.specialIcon,l=e.textA,c=e.textB,s=e.textC,a=e.textS,o=e.skillAIcon,u=e.skillBIcon,d=e.skillCIcon,j=e.sealIcon;n.loaded&&Be(t,n.image,0),r.loaded&&Be(t,r.image,1),i.loaded&&Be(t,i.image,2),o.loaded&&Be(t,o.image,3),t.drawImage(l.image,we+20,De+112+18,18,18),u.loaded&&Be(t,u.image,4),t.drawImage(c.image,we+20,De+149+18,18,18),d.loaded&&Be(t,d.image,5),t.drawImage(s.image,we+20,De+186+18,18,18),j.loaded&&Be(t,j.image,6),t.drawImage(a.image,we+20,De+223+18,18,18)}({context:Q,weaponIcon:b,assistIcon:p,specialIcon:h,textA:O,textB:f,textC:v,textS:x,skillAIcon:m,skillBIcon:y,skillCIcon:w,sealIcon:D}),S.current.getContext("2d").clearRect(0,0,1080,1920),function(e){var t=e.canvas,n=e.iv,r=e.merge,i=t.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#101010",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8;var l=Object(Le.a)(n),c=l.boon,s=l.bane,a={hp:1,atk:1,spd:1,def:1,res:1,bst:1,arena:1};a[c]+=1,a[s]-=1,a[s]=r>0?1:a[s],qe.forEach((function(e,t){var n=Object(k.a)(e,2),r=n[0],l=n[1],c=Ve+74*t;i.fillStyle=Ye[a[r]],i.strokeText(l,ze,c),i.fillText(l,ze,c)}))}({canvas:S.current,iv:_.current,merge:T.current}),function(e){var t=e.canvas,n=e.refine,r=e.weapon,i=Object(s.a)(e,["canvas","refine","weapon"]),l=t.getContext("2d");l.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",l.textAlign="left",l.textBaseline="middle",l.lineJoin="round",l.lineWidth=8,l.strokeStyle="#101010",l.fillStyle=n&&"-"!==n?"lime":"white";var c=Je+("-"===r?4:0),a=Xe;l.strokeText(r,c,a),l.fillText(r,c,a),l.fillStyle="white",Object.keys(i).forEach((function(e){var t=i[e],n=Xe+74*Ue[e],r="-"===t?4:0;l.strokeText(t,Je+r,n),l.fillText(t,Je+r,n)}))}(rt({canvas:S.current,refine:W.current},I.current.names)),function(e){var t=e.canvas,n=e.title,r=e.name,i=t.getContext("2d");i.font="500 48px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#220d00",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8,i.strokeText(n,Qe,Ke),i.fillText(n,Qe,Ke),i.font="500 52px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",i.strokeText(r,Ze,Ge),i.fillText(r,Ze,Ge)}({canvas:S.current,title:Y,name:q}),R.current&&g&&function(e){var t=e.context,n=e.arenaIcon;t.drawImage(n,$e.x,$e.y,50,49)}({context:Q,arenaIcon:g.image}),H.current&&z&&function(e){var t=e.context,n=e.resplendentIcon;t.drawImage(n,et,tt,64,63)}({context:Q,resplendentIcon:z.image}),Q.drawImage(S.current,0,0,540,960)}}),[]);Object(a.useEffect)((function(){S.current=document.createElement("canvas"),S.current.width=1080,S.current.height=1920}),[]),Object(a.useEffect)((function(){it.forEach((function(e){var t=Object(k.a)(e,2),n=t[0],r=t[1];ee.current[n]=new $(se),ee.current[n].load(Object(v.a)(r))}))}),[ee,se]),Object(a.useEffect)((function(){var e=function(e){var t=e.resplendentDB,n=e.heroId;return e.enable&&(null===t||void 0===t?void 0:t.includes(n))?"".concat(n,"(R)"):n}({resplendentDB:D.resplendentDB,heroId:z.id,enable:j});ee.current.portrait.load(Object(v.a)("/portraits/".concat(e,".png")));var t=function(e){var t=e.heroDB,n=e.weaponDB,r=e.assistDB,i=e.specialDB,l=e.skillADB,c=e.skillBDB,s=e.skillCDB,a=e.sealDB,o=e.heroId,u=e.skills,d=e.refine,j=X({heroDB:t,weaponDB:n,assistDB:r,specialDB:i,skillADB:l,skillBDB:c,skillCDB:s,sealDB:a,heroId:o,skills:u}),b={};if(U.forEach((function(e){var t=j[e];b[e]=(null===t||void 0===t?void 0:t.icon)&&"/skills/".concat(t.icon)})),d&&"-"!==d){var p,h,O=J[d]||(null===(p=j.weapon.refine)||void 0===p||null===(h=p[d])||void 0===h?void 0:h.icon);O&&(b.weapon="/skills/weapon/".concat(O,".png"))}return b}({heroDB:D.heroDB,weaponDB:D.weaponDB,assistDB:D.assistDB,specialDB:D.specialDB,skillADB:D.skillADB,skillBDB:D.skillBDB,skillCDB:D.skillCDB,sealDB:D.sealDB,skills:V,heroId:z.id,refine:p});lt.forEach((function(e){var n=e.skillName,r=e.empty;ee.current["".concat(n,"Icon")].load(Object(v.a)("".concat(t[n]||r)))}));var n="-"!==z.blessing&&!!z.blessing||!!o,r=Object(v.a)("/assets/blessing-".concat(z.blessing||o,".png"));ee.current.blessingAtlas.load(n?r:"")}),[z,j,V,p,o,K,D.heroDB,D.weaponDB,D.assistDB,D.specialDB,D.skillADB,D.skillBDB,D.skillCDB,D.sealDB,D.resplendentDB]),Object(a.useEffect)((function(){C.current=z,A.current=n,_.current=r,T.current=l,M.current=c,E.current=o,N.current=u,R.current=d,H.current=j,W.current=p,F.current=w,L.current=G,I.current=q,P.current=K,se()}),[z,n,r,l,c,o,u,d,j,p,w,G,q,K,se]);var ae=Object(a.useCallback)((function(){var e=B.current.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="".concat(null===z||void 0===z?void 0:z.name,"-").concat(null===z||void 0===z?void 0:z.title,".png"),t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}),[null===z||void 0===z?void 0:z.name,null===z||void 0===z?void 0:z.title]);return{canvasRef:B,triggerDownload:ae}};function st(e){var t=e.openEditor,n=Object(s.a)(e,["openEditor"]),i=ct(n),l=i.canvasRef,c=i.triggerDownload;return Object(r.jsxs)("div",{className:u.a.container,children:[Object(r.jsx)("canvas",{className:u.a.canvas,width:"540",height:"960",ref:l}),Object(r.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.download),onClick:c,children:Object(r.jsx)(p,{})}),Object(r.jsx)("button",{className:"".concat(u.a.button," ").concat(u.a.menu),onClick:t,children:Object(r.jsx)(f,{})})]})}var at=Object(a.memo)(st);function ot(e){return 4===e?"4\u2605":"5\u2606"}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=function(e){return Object(r.jsxs)("svg",dt(dt({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Object(r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}))},bt=n("MX0m"),pt=n.n(bt);function ht(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2629191159"}),Object(r.jsx)(pt.a,{id:"2629191159",children:["div.jsx-2629191159{width:1.5em;height:1.5em;border-radius:0.5em;background-color:white;}"]})]})}var Ot=function(e){var t=e.className,n=e.checked,i=e.onChange,l=Object(a.useCallback)((function(e){i&&(e.stopPropagation(),i(!n))}),[n,i]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{role:"button",onClick:l,className:"jsx-19544621 "+(t||""),children:n&&Object(r.jsx)(ht,{})}),Object(r.jsx)(pt.a,{id:"19544621",children:["div.jsx-19544621{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:0.5em;width:2.5em;height:2.5em;font-size:1em;border:solid 1px white;background-color:transparent;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},ft=n("ORp4"),kt=n.n(ft);var vt=function(e){var t=e.children,n=e.checked,i=e.onChange;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("label",{className:kt.a.label,children:[t,Object(r.jsx)(Ot,{className:kt.a["label-checkbox"],checked:n,onChange:i})]})})},xt=n("niDk"),gt=n("Uwun");var mt=function(e){var t=e.blessing,n=Object(a.useMemo)((function(){return Object(gt.b)(t)}),[t]),i=n.src,l=n.name;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"jsx-3356831981",children:[i&&Object(r.jsx)(xt.a,{src:i,loading:"lazy",width:"50px",height:"50px"}),Object(r.jsx)("div",{className:"jsx-3356831981 blessing-name",children:l})]}),Object(r.jsx)(pt.a,{id:"3356831981",children:["div.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}","div.jsx-3356831981 img.jsx-3356831981{width:2.5em;height:2.5em;margin-right:0.25em;}","div.jsx-3356831981 .blessing-name.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;}"]})]})},yt=n("oYQy"),wt=n.n(yt);var Dt=function(e){var t=e.onClick;return Object(r.jsx)("button",{className:wt.a.button,onClick:t,style:{fontSize:"16px",marginLeft:"1em"},children:"\u4f7f\u7528\u539f\u751f\u6280\u80fd"})};function Bt(e){var t=e.hidden,n=e.style,i=e.children;return Object(r.jsx)("div",{hidden:t,className:wt.a.container,style:n,children:i})}function St(e){var t=e.children,n=e.style;return Object(r.jsx)("div",{className:wt.a.title,style:n,children:t})}function Ct(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["title-textgroup"],children:t})}function It(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a.content,children:t})}function Pt(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["section-group"],children:t})}function At(e){var t=e.children,n=e.disabled,i=e.onClick;return Object(r.jsx)("button",{className:"".concat(wt.a.button," ").concat(wt.a.section),disabled:n,onClick:i,children:t})}function _t(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["button-content"],children:t})}function Tt(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-773961252",children:t}),Object(r.jsx)(pt.a,{id:"773961252",children:["div.jsx-773961252{overflow-y:auto;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-bottom:1em;-webkit-overflow-scrolling:touch;}"]})]})}function Mt(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a.options,children:t})}function Et(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t})}function Nt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:t})}function Rt(e){var t=e.src;return Object(r.jsx)(xt.a,{src:t,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"},loading:"lazy"})}function Ht(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Wt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Ft(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function Lt(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function zt(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Vt(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Yt=function(e){return e>0?"+".concat(e):"".concat(e)};function qt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.35em",padding:"0.25em",backgroundColor:"#1d3e53"},children:t})}var Jt=n("0unf");function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=function(e){var t=e.heroId,n=e.resplendent,l=Object(i.b)(),c=l.heroDB,s=l.assistDB,o=l.resplendentDB,u=Object(a.useMemo)((function(){return Object(x.a)({heroDB:c,assistDB:s,resplendentDB:o,heroId:t,noStat:!0})}),[c,s,o,t]);return Object(r.jsx)(Jt.a,Ut(Ut({},u),{},{faceSrc:n?u.faceSrcR:u.faceSrc}))};var Kt=function(e){var t=e.heroId,n=e.weapon,l=Object(i.b)(),c=l.heroDB,s=l.weaponDB;return Object(r.jsx)(r.Fragment,{children:z({heroDB:c,weaponDB:s,heroId:t,weapon:n})})};var Zt=function(e){var t=e.heroId,n=e.weapon,l=e.refine,c=Object(i.b)(),s=c.heroDB,a=c.weaponDB;return Object(r.jsx)(r.Fragment,{children:q({heroDB:s,weaponDB:a,heroId:t,weapon:n,refine:l})})};var Gt=function(e){var t=e.assist,n=Object(i.b)().assistDB;return Object(r.jsx)(r.Fragment,{children:D({assistDB:n,assist:t})})};var $t=function(e){var t=e.special,n=Object(i.b)().specialDB;return Object(r.jsx)(r.Fragment,{children:E({specialDB:n,special:t})})},en=["skillA","skillB","skillC"];var tn=function(e){var t=e.skillType,n=e.skillId,l=Object(i.b)();if(en.includes(t)){var c=function(e){var t=A({skillDB:e.skillDB,skillId:e.skillId});return t?{icon:t.icon,name:t.name}:{icon:"",name:""}}({skillDB:l["".concat(t,"DB")],skillId:n}),s=c.icon,a=c.name;return Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)(Rt,{src:"/skills/".concat(s)}),a]})}if("seal"===t){var o=function(e){var t=B({sealDB:e.sealDB,seal:e.seal});return t?{icon:t.icon,name:t.name}:{icon:"",name:""}}({sealDB:l.sealDB,seal:n}),u=o.icon,d=o.name;return Object(r.jsxs)(r.Fragment,{children:[u&&Object(r.jsx)(Rt,{src:"/skills/".concat(u)}),d]})}return null};var nn=function(e){var t=e.hidden,n=e.heroId,l=e.rarity,c=e.iv,o=e.merge,u=e.dragonflower,d=e.blessing,j=e.support,b=e.arena,p=e.resplendent,h=e.weapon,O=e.refine,f=e.assist,k=e.special,v=e.skillA,g=e.skillB,m=e.skillC,y=e.seal,w=e.lv1,D=e.maxSkill,B=Object(s.a)(e,["hidden","heroId","rarity","iv","merge","dragonflower","blessing","support","arena","resplendent","weapon","refine","assist","special","skillA","skillB","skillC","seal","lv1","maxSkill"]),S=function(e){var t=e.heroId,n=e.weapon,r=e.maxSkill,l=Object(i.b)(),c=l.heroDB,s=l.weaponDB,o=Object(a.useMemo)((function(){return Object(x.c)(c,t)}),[c,t]),u=Object(a.useMemo)((function(){if("Feh"===t)return[];var e=W({heroDB:c,weaponDB:s,heroId:t});return r?e.filter((function(e){return e.last})).length>0:e.length>0}),[c,s,t,r]),d=Object(a.useMemo)((function(){return"Feh"!==t&&Y({heroDB:c,weaponDB:s,heroId:t,weapon:n}).length>0}),[c,s,t,n]);return"Feh"===t?{hasRarity:!1,hasBlessing:!0,hasWeapon:!1,hasRefine:!1,hasAssist:!1,hasSpecial:!1,hasSkillA:!1,hasSkillB:!1,hasSkillC:!1,hasSeal:!1}:{hasRarity:o.rarity.length>0,hasBlessing:!!o.blessing,hasWeapon:u,hasRefine:d,hasAssist:!0,hasSpecial:!0,hasSkillA:!0,hasSkillB:!0,hasSkillC:!0,hasSeal:!0,blessing:o.blessing&&o.blessing}}({heroId:n,weapon:h,maxSkill:D}),C=S.hasRarity,I=S.hasBlessing,P=S.hasWeapon,A=S.hasRefine,_=S.hasAssist,T=S.hasSpecial,M=S.hasSkillA,E=S.hasSkillB,N=S.hasSkillC,R=S.hasSeal,H=S.blessing;return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsx)("button",{className:wt.a["close-button"],onClick:B.closeEditor,children:Object(r.jsx)(jt,{})}),Object(r.jsx)(St,{children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u82f1\u96c4"}),Object(r.jsx)(vt,{checked:w,onChange:B.toggleLv1,children:"Lv1"})]})}),Object(r.jsxs)(It,{children:[Object(r.jsx)("button",{className:"".concat(wt.a.button," ").concat(wt.a["hero-header"]),onClick:B.openHeroPicker,children:Object(r.jsx)(Qt,{heroId:n,resplendent:p})}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!C,onClick:B.openRarityPicker,children:["\u7a00\u6709\u5ea6",Object(r.jsx)(_t,{children:ot(l)})]}),Object(r.jsxs)(At,{disabled:"Feh"===n,onClick:B.openIVPicker,children:["IV",Object(r.jsx)(_t,{children:Object(Le.b)(c)})]}),Object(r.jsxs)(At,{disabled:I,onClick:B.openBlessingPicker,children:["\u795d\u798f",Object(r.jsx)(_t,{children:Object(r.jsx)(mt,{blessing:H||d})})]}),Object(r.jsxs)(At,{onClick:B.openMergePicker,children:["\u7a81\u7834\u6b21\u6578",Object(r.jsx)(_t,{children:o?"+".concat(o):"-"})]}),Object(r.jsxs)(At,{onClick:B.openDragonflowerPicker,children:["\u795e\u9f8d\u4e4b\u82b1",Object(r.jsx)(_t,{children:u?"+".concat(u):"-"})]})]})]}),Object(r.jsx)(St,{children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u6280\u80fd"}),Object(r.jsx)(vt,{checked:D,onChange:B.toggleMaxSkill,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),Object(r.jsx)(Dt,{onClick:B.setAllSkillDefault})]})}),Object(r.jsxs)(It,{children:[Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!P,onClick:B.openWeaponPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"\u6b66\u5668",Object(r.jsx)(_t,{children:Object(r.jsx)(Kt,{heroId:n,weapon:h})})]}),Object(r.jsxs)(At,{disabled:!A,onClick:B.openRefinePicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/refining-stone.png"}),"\u935b\u9020",Object(r.jsx)(_t,{children:Object(r.jsx)(Zt,{heroId:n,weapon:h,refine:O})})]})]}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!_,onClick:B.openAssistPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"\u8f14\u52a9",Object(r.jsx)(_t,{children:Object(r.jsx)(Gt,{assist:f})})]}),Object(r.jsxs)(At,{disabled:!T,onClick:B.openSpecialPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"\u5967\u7fa9",Object(r.jsx)(_t,{children:Object(r.jsx)($t,{special:k})})]})]}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!M,onClick:B.openSkillAPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"skillA",skillId:v})})]}),Object(r.jsxs)(At,{disabled:!E,onClick:B.openSkillBPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"skillB",skillId:g})})]}),Object(r.jsxs)(At,{disabled:!N,onClick:B.openSkillCPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"skillC",skillId:m})})]}),Object(r.jsxs)(At,{disabled:!R,onClick:B.openSealPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),"\u8056\u5370",Object(r.jsx)(_t,{children:Object(r.jsx)(tn,{skillType:"seal",skillId:y})})]})]})]}),Object(r.jsx)(St,{children:"\u5f37\u5316"}),Object(r.jsx)(It,{children:Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{onClick:B.toggleSupport,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/support.png"}),"\u53ec\u559a\u5e2b\u5951\u7d04",Object(r.jsx)(Ot,{checked:j})]}),Object(r.jsxs)(At,{onClick:B.toggleArena,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Arena_Crown.png"}),"\u9b25\u6280\u5834",Object(r.jsx)(Ot,{checked:b})]}),Object(r.jsxs)(At,{onClick:B.toggleResplendent,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/god-wear.png"}),"\u795e\u88dd",Object(r.jsx)(Ot,{checked:p})]})]})})]})},rn=n("C5HV");function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=function(e){return Object(r.jsxs)("svg",cn(cn({width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),Object(r.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}))};var an=function(e){var t=e.onClick;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:t,className:"jsx-3918608153",children:Object(r.jsx)(sn,{fill:"white"})}),Object(r.jsx)(pt.a,{id:"3918608153",children:["button.jsx-3918608153{background-color:transparent;display:block;}"]})]})};var on=function(e){var t=e.hidden,n=e.heroId,i=e.onChangeHero,l=e.onClickBack,c=e.resplendent,s=Object(a.useCallback)((function(e){i(e),l()}),[i,l]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:l}),"\u82f1\u96c4"]}),Object(r.jsx)(rn.a,{heroId:n,onSelect:s,noDropdown:!0,noStat:!0,resplendent:c})]})},un=n("XJgP"),dn=n.n(un),jn=function(e){var t=e.iv,n=e.selectIV,i=Object(a.useCallback)((function(e){e.stopPropagation(),n(e.currentTarget.value)}),[n]);return Object(r.jsxs)("div",{className:dn.a.container,children:[Object(r.jsx)("button",{className:dn.a["neutral-button"],"data-active":!t,value:"",onClick:i,children:"-"}),Le.e.map((function(e){return Object(r.jsx)("button",{className:dn.a["iv-button"],"data-active":t===e.value,value:e.value,onClick:i,children:e.name},e.value)}))]})};var bn=function(e){var t=e.hidden,n=e.iv,i=e.selectIV,l=e.onClickBack,c=Object(a.useCallback)((function(e){i(e),l()}),[i,l]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:l}),"IV"]}),Object(r.jsx)(jn,{iv:n,selectIV:c})]})},pn=n("dLxW"),hn=n.n(pn),On=function(e){var t=e.blessing,n=e.selectBlessing,i=Object(a.useCallback)((function(e){e.stopPropagation(),n(e.currentTarget.value)}),[n]);return Object(r.jsxs)("div",{className:hn.a.container,children:[Object(r.jsx)("button",{className:hn.a["neutral-button"],"data-active":!t,value:"",onClick:i,children:"-"}),gt.c.map((function(e){return Object(r.jsx)("button",{className:hn.a["blessing-button"],"data-active":t===e.value,value:e.value,onClick:i,children:Object(r.jsx)(mt,{blessing:e.value})},e.value)}))]})};var fn=function(e){var t=e.hidden,n=e.blessing,i=e.selectBlessing,l=e.onClickBack,c=Object(a.useCallback)((function(e){i(e),l()}),[i,l]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:l}),"IV"]}),Object(r.jsx)(On,{blessing:n,selectBlessing:c})]})},kn=n("PY5n");var vn=function(e){var t=e.hidden,n=e.merge,i=e.selectMerge,l=e.onClickBack,c=Object(a.useCallback)((function(e){i(e),l()}),[i,l]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:l}),"\u7a81\u7834\u6b21\u6578"]}),Object(r.jsx)(kn.a,{merge:n,onSelect:c})]})},xn=n("KWow"),gn=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];var mn=function(e){var t=e.dragonflower,n=e.onSelect;return Object(r.jsx)(xn.a,{value:t,onSelect:n,options:gn})};var yn=function(e){var t=e.hidden,n=e.dragonflower,i=e.selectDragonflower,l=e.onClickBack,c=Object(a.useCallback)((function(e){i(e),l()}),[i,l]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:l}),"\u795e\u9f8d\u4e4b\u82b1"]}),Object(r.jsx)(mn,{dragonflower:n,onSelect:c})]})};var wn=function(e){var t=e.active,n=e.last,i=e.hidden,l=e.value,c=e.children,s=e.onClick;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{"data-active":t,value:l,onClick:s,hidden:i,className:pt.a.dynamic([["2665293084",[n?1:.618]]]),children:c}),Object(r.jsx)(pt.a,{id:"2665293084",dynamic:[n?1:.618],children:[".__jsx-style-dynamic-selector{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;text-align:left;outline:none;line-height:1.5;opacity:".concat(n?1:.618,";}"),"button.__jsx-style-dynamic-selector{padding:0.5em;margin-bottom:0.5em;border-bottom:1px solid #1d3e53;cursor:pointer;display:block;color:white;width:100%;background-color:transparent;}","button.__jsx-style-dynamic-selector:hover{background-color:#77abb7aa;}","button[hidden].__jsx-style-dynamic-selector{display:none;}","button[data-active='true'].__jsx-style-dynamic-selector{background-color:#476d7c;}"]})]})};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t})}function Cn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder"},children:t})}function In(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Pn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function An(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function _n(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function Tn(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Mn(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var En=function(e){return e>0?"+".concat(e):"".concat(e)};var Nn=function(e){var t=e.active,n=e.weapon,i=e.hidden,l=e.onClick;return Object(r.jsxs)(wn,{active:t,last:n.last,hidden:i,value:n.id,onClick:l,children:[Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Cn,{children:n.name}),Object(r.jsxs)(In,{children:[n.sp,"SP"]})]}),Object(r.jsxs)(Pn,{children:["\u5a01\u529b ",n.mt]}),n.cd&&Object(r.jsxs)(Tn,{cd:n.cd,children:["\u5967\u7fa9 cd",En(n.cd)]}),Object(r.jsxs)(An,{children:[n.hp&&Object(r.jsxs)(_n,{children:["HP ",En(n.hp)]}),n.atk&&Object(r.jsxs)(_n,{children:["\u653b\u64ca ",En(n.atk)]}),n.spd&&Object(r.jsxs)(_n,{children:["\u901f\u5ea6 ",En(n.spd)]}),n.def&&Object(r.jsxs)(_n,{children:["\u9632\u5b88 ",En(n.def)]}),n.res&&Object(r.jsxs)(_n,{children:["\u9b54\u9632 ",En(n.res)]})]}),n.exclusive&&Object(r.jsx)(Mn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function Rn(e){var t=e.heroId,n=e.weapon,l=e.selectWeapon,c=function(e){var t=e.heroId,n=e.filter,r=e.maxSkill,l=Object(i.b)(),c=l.heroDB,s=l.weaponDB,o=Object(a.useMemo)((function(){return W({heroDB:c,weaponDB:s,heroId:t})}),[t,c,s]);return{options:Object(a.useMemo)((function(){return o.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),Bn(Bn({},e),{},{hidden:t})}))}),[o,n,r])}}({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,o=Object(a.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:o,children:"\u7121\u6b66\u5668"}),c.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Nn,{hidden:t,weapon:i,active:n===e.id,onClick:o},e.id)}))]})}var Hn=Object(a.memo)(Rn);var Wn=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,l=e.weapon,c=e.selectWeapon,s=e.maxSkill,o=e.toggleMaxSkill,u=e.setDefaultSkill,d=Object(a.useState)(""),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){c(e),n()}),[c,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u6b66\u5668"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),Object(r.jsx)(Dt,{onClick:u})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6b66\u5668\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Hn,{heroId:i,weapon:l,filter:j,maxSkill:s,selectWeapon:h})})]})};function Fn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:t})}function Ln(e){var t=e.src;return Object(r.jsx)(xt.a,{src:t,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function zn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Vn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function Yn(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function qn(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Jn(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Xn=function(e){return e>0?"+".concat(e):"".concat(e)};var Un=function(e){var t=e.active,n=e.hidden,i=e.refineType,l=e.refine,c=e.onClick;return Object(r.jsxs)(wn,{active:t,last:!0,hidden:n,value:i,onClick:c,children:[Object(r.jsxs)(Fn,{children:[l.icon&&Object(r.jsx)(Ln,{src:l.icon}),l.name]}),l.mt&&Object(r.jsxs)(zn,{children:["\u5a01\u529b ",l.mt]}),l.cd&&Object(r.jsxs)(qn,{cd:l.cd,children:["\u5967\u7fa9 cd",Xn(l.cd)]}),Object(r.jsxs)(Vn,{children:[l.hp&&Object(r.jsxs)(Yn,{children:["HP ",Xn(l.hp)]}),l.atk&&Object(r.jsxs)(Yn,{children:["\u653b\u64ca ",Xn(l.atk)]}),l.spd&&Object(r.jsxs)(Yn,{children:["\u901f\u5ea6 ",Xn(l.spd)]}),l.def&&Object(r.jsxs)(Yn,{children:["\u9632\u5b88 ",Xn(l.def)]}),l.res&&Object(r.jsxs)(Yn,{children:["\u9b54\u9632 ",Xn(l.res)]})]}),l.exclusive&&Object(r.jsx)(Jn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function Qn(e){var t=e.heroId,n=e.weapon,l=e.refine,c=e.selectRefine,o=function(e){var t=e.heroId,n=e.weapon,r=Object(i.b)(),l=r.heroDB,c=r.weaponDB;return{options:Object(a.useMemo)((function(){return Y({heroDB:l,weaponDB:c,heroId:t,weapon:n})}),[l,c,t,n])}}({heroId:t,weapon:n}).options,u=Object(a.useCallback)((function(e){e.stopPropagation(),c(e.currentTarget.value)}),[c]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!l,value:"",onClick:u,children:"\u7121\u935b\u9020"}),o.map((function(e){var t=e.value,n=Object(s.a)(e,["value"]);return Object(r.jsx)(Un,{refineType:t,refine:n,active:l===t,onClick:u},t)}))]})}var Kn=Object(a.memo)(Qn);var Zn=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,l=e.weapon,c=e.refine,s=e.selectRefine,o=Object(a.useCallback)((function(e){s(e),n()}),[s,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsx)(Ct,{children:Object(r.jsx)("span",{children:"\u935b\u9020"})})]}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Kn,{heroId:i,weapon:l,refine:c,selectRefine:o})})]})};function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e){var t=e.active,n=e.hidden,i=e.skill,l=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:l,children:[Object(r.jsxs)(Nt,{children:[i.icon&&Object(r.jsx)(Rt,{src:"/skills/".concat(i.icon)}),i.name]}),i.mt&&Object(r.jsxs)(Wt,{children:["\u5a01\u529b ",i.mt]}),i.cd&&Object(r.jsxs)(zt,{cd:i.cd,children:["\u5967\u7fa9 cd",Yt(i.cd)]}),Object(r.jsxs)(Ft,{children:[i.hp&&Object(r.jsxs)(Lt,{children:["HP ",Yt(i.hp)]}),i.atk&&Object(r.jsxs)(Lt,{children:["\u653b\u64ca ",Yt(i.atk)]}),i.spd&&Object(r.jsxs)(Lt,{children:["\u901f\u5ea6 ",Yt(i.spd)]}),i.def&&Object(r.jsxs)(Lt,{children:["\u9632\u5b88 ",Yt(i.def)]}),i.res&&Object(r.jsxs)(Lt,{children:["\u9b54\u9632 ",Yt(i.res)]})]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var tr=Object(a.memo)(er);function nr(e){var t=e.heroId,n=e.skillType,l=e.skillId,c=e.selectSkill,o=e.filter,u=e.maxSkill,d=function(e){var t=e.heroId,n=e.skillType,r=e.filter,l=e.maxSkill,c=Object(i.b)(),s=c.rulesDB,o=c.heroDB,u=c["".concat(n,"DB")],d=Object(a.useMemo)((function(){return I({rulesDB:s,heroDB:o,skillDB:u,heroId:t})}),[s,o,u,t]);return{options:Object(a.useMemo)((function(){return d.map((function(e){var t=!1;return l&&!e.last&&(t=!0),!t&&r&&(t=!e.query.includes(r.toLowerCase())),$n($n({},e),{},{hidden:t})}))}),[d,r,l])}}({heroId:t,skillType:n,skillId:l,filter:o,maxSkill:u}).options,j=Object(a.useCallback)((function(e){e.stopPropagation(),c(e.currentTarget.value)}),[c]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!l,value:"",onClick:j,children:"\u7121\u6280\u80fd"}),d.map((function(e){var t=e.hidden,n=Object(s.a)(e,["hidden"]);return Object(r.jsx)(tr,{hidden:t,active:l===n.id,skill:n,onClick:j},n.id)}))]})}var rr=Object(a.memo)(nr);var ir=function(e){var t=e.hidden,n=e.skillType,i=e.title,l=e.onClickBack,c=e.heroId,s=e.skillId,o=e.selectSkill,u=e.maxSkill,d=e.toggleMaxSkill,j=e.setDefaultSkill,b=Object(a.useState)(""),p=b[0],h=b[1],O=Object(a.useCallback)((function(e){h(e.currentTarget.value)}),[]),f=Object(a.useCallback)((function(e){o(e),l()}),[o,l]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:l}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:i}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:u,onChange:d,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),j&&Object(r.jsx)(Dt,{onClick:j})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:O}),Object(r.jsx)(Tt,{children:Object(r.jsx)(rr,{heroId:c,skillType:n,skillId:s,selectSkill:f,filter:p,maxSkill:u})})]})};function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e){var t=e.heroId,n=e.filter,r=e.maxSkill,l=Object(i.b)(),c=l.rulesDB,s=l.heroDB,o=l.assistDB,u=Object(a.useMemo)((function(){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.assistDB,i=e.heroId;if(!t||!n||!r||!i)return[];var l=Object(x.c)(n,i);return l?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=g({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[l.moveType])&&(!n.weaponType||!1!==n.weaponType[l.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return y(y({},e),{},{query:t})})):[]}({rulesDB:c,heroDB:s,assistDB:o,heroId:t})}),[c,s,o,t]);return{options:Object(a.useMemo)((function(){return u.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),cr(cr({},e),{},{hidden:t})}))}),[u,n,r])}}function ar(e){var t=e.active,n=e.hidden,i=e.assist,l=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:l,children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)(Nt,{children:i.name}),Object(r.jsxs)(Ht,{children:[i.sp,"SP"]})]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var or=Object(a.memo)(ar);function ur(e){var t=e.heroId,n=e.assist,i=e.selectAssist,l=sr({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,c=Object(a.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:c,children:"\u7121\u6280\u80fd"}),l.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(or,{hidden:t,active:n===i.id,assist:i,onClick:c},i.id)}))]})}var dr=Object(a.memo)(ur);var jr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,l=e.assist,c=e.selectAssist,s=e.maxSkill,o=e.toggleMaxSkill,u=e.setDefaultSkill,d=Object(a.useState)(""),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){c(e),n()}),[c,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u652f\u63f4"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),u&&Object(r.jsx)(Dt,{onClick:u})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(dr,{heroId:i,assist:l,selectAssist:h,filter:j,maxSkill:s})})]})};function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e){var t=e.heroId,n=e.filter,r=e.maxSkill,l=Object(i.b)(),c=l.rulesDB,s=l.heroDB,o=l.specialDB,u=Object(a.useMemo)((function(){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.specialDB,i=e.heroId;if(!t||!n||!r||!i)return[];var l=Object(x.c)(n,i);return l?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=g({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[l.moveType])&&(!n.weaponType||!1!==n.weaponType[l.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return T(T({},e),{},{query:t})})):[]}({rulesDB:c,heroDB:s,specialDB:o,heroId:t})}),[c,s,o,t]);return{options:Object(a.useMemo)((function(){return u.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),pr(pr({},e),{},{hidden:t})}))}),[u,n,r])}}function Or(e){var t=e.active,n=e.hidden,i=e.special,l=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:l,children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)(Nt,{children:i.name}),Object(r.jsxs)(Ht,{children:[i.sp,"SP"]})]}),Object(r.jsxs)("div",{children:["CD ",i.cd]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var fr=Object(a.memo)(Or);function kr(e){var t=e.heroId,n=e.special,i=e.selectSpecial,l=hr({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,c=Object(a.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:c,children:"\u7121\u6280\u80fd"}),l.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(fr,{hidden:t,active:n===i.id,special:i,onClick:c},i.id)}))]})}var vr=Object(a.memo)(kr);var xr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,l=e.special,c=e.selectSpecial,s=e.maxSkill,o=e.toggleMaxSkill,u=e.setDefaultSkill,d=Object(a.useState)(""),j=d[0],b=d[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){c(e),n()}),[c,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u5967\u7fa9"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),u&&Object(r.jsx)(Dt,{onClick:u})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u5967\u7fa9\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(vr,{heroId:i,special:l,selectSpecial:h,filter:j,maxSkill:s})})]})};function gr(e){var t=e.active,n=e.hidden,i=e.skill,l=e.onClick;return Object(r.jsxs)(wn,{active:t,last:i.last,hidden:n,value:i.id,onClick:l,children:[Object(r.jsxs)(Nt,{children:[i.icon&&Object(r.jsx)(Rt,{src:"/skills/".concat(i.icon)}),i.name]}),i.mt&&Object(r.jsxs)(Wt,{children:["\u5a01\u529b ",i.mt]}),i.cd&&Object(r.jsxs)(zt,{cd:i.cd,children:["\u5967\u7fa9 cd",Yt(i.cd)]}),Object(r.jsxs)(Ft,{children:[i.hp&&Object(r.jsxs)(Lt,{children:["HP ",Yt(i.hp)]}),i.atk&&Object(r.jsxs)(Lt,{children:["\u653b\u64ca ",Yt(i.atk)]}),i.spd&&Object(r.jsxs)(Lt,{children:["\u901f\u5ea6 ",Yt(i.spd)]}),i.def&&Object(r.jsxs)(Lt,{children:["\u9632\u5b88 ",Yt(i.def)]}),i.res&&Object(r.jsxs)(Lt,{children:["\u9b54\u9632 ",Yt(i.res)]})]}),i.exclusive&&Object(r.jsx)(Vt,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var mr=Object(a.memo)(gr);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dr(e){var t=e.skill,n=e.maxSkill,r=e.filter,i=!1;return n&&!t.last&&(i=!0),!i&&r&&(i=!t.query.includes(r.toLowerCase())),wr(wr({},t),{},{hidden:i})}function Br(e){var t=e.heroId,n=e.seal,l=e.selectSeal,c=function(e){var t=e.heroId,n=e.filter,r=e.maxSkill,l=Object(i.b)(),c=l.rulesDB,s=l.heroDB,o=l.sealDB;return{skillAOptions:Object(a.useMemo)((function(){return I({rulesDB:c,heroDB:s,skillDB:o.skillA,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[c,s,o,t,n,r]),skillBOptions:Object(a.useMemo)((function(){return I({rulesDB:c,heroDB:s,skillDB:o.skillB,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[c,s,o,t,n,r]),skillCOptions:Object(a.useMemo)((function(){return I({rulesDB:c,heroDB:s,skillDB:o.skillC,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[c,s,o,t,n,r]),sealOptions:Object(a.useMemo)((function(){return I({rulesDB:c,heroDB:s,skillDB:o.seal,heroId:t}).map((function(e){return Dr({skill:e,maxSkill:r,filter:n})}))}),[c,s,o,t,n,r])}}({heroId:t,filter:e.filter,maxSkill:e.maxSkill}),o=c.skillAOptions,u=c.skillBOptions,d=c.skillCOptions,j=c.sealOptions,b=Object(a.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(wn,{active:!n,value:"",onClick:b,children:"\u7121\u8056\u5370"}),Object(r.jsx)(qt,{children:"A\u6280\u80fd\u8056\u5370"}),o.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(qt,{children:"B\u6280\u80fd\u8056\u5370"}),u.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(qt,{children:"C\u6280\u80fd\u8056\u5370"}),d.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(qt,{children:"\u5c08\u7528\u8056\u5370"}),j.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(mr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)}))]})}var Sr=Object(a.memo)(Br);var Cr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,l=e.seal,c=e.selectSeal,s=e.maxSkill,o=e.toggleMaxSkill,u=Object(a.useState)(""),d=u[0],j=u[1],b=Object(a.useCallback)((function(e){j(e.currentTarget.value)}),[]),p=Object(a.useCallback)((function(e){c(e),n()}),[c,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(St,{children:[Object(r.jsx)(an,{onClick:n}),Object(r.jsxs)(Ct,{children:[Object(r.jsx)("span",{children:"\u8056\u5370"}),Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"})})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:b}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Sr,{heroId:i,seal:l,selectSeal:p,filter:d,maxSkill:s})})]})};var Ir=function(){var e=Object(a.useState)(""),t=e[0],n=e[1];return{view:t,openHeroPicker:Object(a.useCallback)((function(){n("hero")}),[]),openRarityPicker:Object(a.useCallback)((function(){n("rarity")}),[]),openIVPicker:Object(a.useCallback)((function(){n("iv")}),[]),openMergePicker:Object(a.useCallback)((function(){n("merge")}),[]),openDragonflowerPicker:Object(a.useCallback)((function(){n("dragonflower")}),[]),openBlessingPicker:Object(a.useCallback)((function(){n("blessing")}),[]),openWeaponPicker:Object(a.useCallback)((function(){n("weapon")}),[]),openRefinePicker:Object(a.useCallback)((function(){n("refine")}),[]),openAssistPicker:Object(a.useCallback)((function(){n("assist")}),[]),openSpecialPicker:Object(a.useCallback)((function(){n("special")}),[]),openSkillAPicker:Object(a.useCallback)((function(){n("skillA")}),[]),openSkillBPicker:Object(a.useCallback)((function(){n("skillB")}),[]),openSkillCPicker:Object(a.useCallback)((function(){n("skillC")}),[]),openSealPicker:Object(a.useCallback)((function(){n("seal")}),[]),onClickBack:Object(a.useCallback)((function(){n("")}),[])}};function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _r=function(e){var t=Ir(),n=t.view,i=t.openHeroPicker,l=t.openRarityPicker,c=t.openIVPicker,s=t.openMergePicker,a=t.openDragonflowerPicker,o=t.openBlessingPicker,u=t.openWeaponPicker,d=t.openRefinePicker,j=t.openAssistPicker,b=t.openSpecialPicker,p=t.openSkillAPicker,h=t.openSkillBPicker,O=t.openSkillCPicker,f=t.openSealPicker,k=t.onClickBack;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(nn,Ar(Ar({hidden:!!n},e),{},{openHeroPicker:i,openRarityPicker:l,openIVPicker:c,openMergePicker:s,openDragonflowerPicker:a,openBlessingPicker:o,openWeaponPicker:u,openRefinePicker:d,openAssistPicker:j,openSpecialPicker:b,openSkillAPicker:p,openSkillBPicker:h,openSkillCPicker:O,openSealPicker:f})),Object(r.jsx)(on,{hidden:"hero"!==n,heroId:e.heroId,onChangeHero:e.onChangeHero,onClickBack:k,resplendent:e.resplendent}),Object(r.jsx)(bn,{hidden:"iv"!==n,iv:e.iv,selectIV:e.setIV,onClickBack:k}),Object(r.jsx)(fn,{hidden:"blessing"!==n,blessing:e.blessing,selectBlessing:e.setBlessing,onClickBack:k}),Object(r.jsx)(vn,{hidden:"merge"!==n,merge:e.merge,selectMerge:e.setMerge,onClickBack:k}),Object(r.jsx)(yn,{hidden:"dragonflower"!==n,dragonflower:e.dragonflower,selectDragonflower:e.setDragonflower,onClickBack:k}),Object(r.jsx)(Wn,{hidden:"weapon"!==n,onClickBack:k,heroId:e.heroId,weapon:e.weapon,selectWeapon:e.setWeapon,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultWeapon}),Object(r.jsx)(Zn,{hidden:"refine"!==n,onClickBack:k,heroId:e.heroId,weapon:e.weapon,refine:e.refine,selectRefine:e.setRefine}),Object(r.jsx)(jr,{hidden:"assist"!==n,onClickBack:k,heroId:e.heroId,assist:e.assist,selectAssist:e.setAssist,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultAssist}),Object(r.jsx)(xr,{title:"A\u6280\u80fd",hidden:"special"!==n,onClickBack:k,heroId:e.heroId,special:e.special,selectSpecial:e.setSpecial,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSpecial}),Object(r.jsx)(ir,{skillType:"skillA",title:"A\u6280\u80fd",hidden:"skillA"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillA,selectSkill:e.setSkillA,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillA}),Object(r.jsx)(ir,{skillType:"skillB",title:"B\u6280\u80fd",hidden:"skillB"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillB,selectSkill:e.setSkillB,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillB}),Object(r.jsx)(ir,{skillType:"skillC",title:"C\u6280\u80fd",hidden:"skillC"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillC,selectSkill:e.setSkillC,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillC}),Object(r.jsx)(Cr,{hidden:"seal"!==n,onClickBack:k,heroId:e.heroId,seal:e.skillC,selectSeal:e.setSeal,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill})]})},Tr=n("YnUv"),Mr=n.n(Tr),Er={weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""};function Nr(){var e=Object(i.b)(),t=e.rulesDB,n=e.heroDB,r=e.weaponDB,l=e.assistDB,c=e.specialDB,s=e.skillADB,o=e.skillBDB,u=e.skillCDB,d=e.sealDB,j=e.defaultSkillDB,b=Object(a.useState)("Feh"),p=b[0],h=b[1],O=Object(a.useState)(5),f=O[0],k=O[1],m=Object(a.useState)(""),y=m[0],w=m[1],D=Object(a.useState)(0),B=D[0],S=D[1],C=Object(a.useState)(0),I=C[0],A=C[1],_=Object(a.useState)(""),T=_[0],M=_[1],E=Object(a.useState)(!1),N=E[0],R=E[1],H=Object(a.useCallback)((function(){R((function(e){return!e}))}),[]),W=Object(a.useRef)({weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""}),z=Object(a.useRef)(""),V=Object(a.useState)(""),Y=V[0],q=V[1],J=Object(a.useState)(""),X=J[0],U=J[1],Q=Object(a.useState)(""),K=Q[0],Z=Q[1],G=Object(a.useState)(""),$=G[0],ee=G[1],te=Object(a.useState)(""),ne=te[0],re=te[1],ie=Object(a.useState)(""),le=ie[0],ce=ie[1],se=Object(a.useState)(""),ae=se[0],oe=se[1],ue=Object(a.useState)(""),de=ue[0],je=ue[1],be=Object(a.useCallback)((function(){q(W.current.weapon)}),[]),pe=Object(a.useCallback)((function(){Z(W.current.assist)}),[]),he=Object(a.useCallback)((function(){ee(W.current.special)}),[]),Oe=Object(a.useCallback)((function(){re(W.current.skillA)}),[]),fe=Object(a.useCallback)((function(){ce(W.current.skillB)}),[]),ke=Object(a.useCallback)((function(){oe(W.current.skillC)}),[]),ve=Object(a.useCallback)((function(){be(),pe(),he(),Oe(),fe(),ke()}),[be,pe,he,Oe,fe,ke]);z.current=Y;var xe=Object(a.useCallback)((function(e){h(e),W.current=function(e){var t=e.defaultSkillDB,n=e.heroId;if(!t||!n||!t[n])return Er;var r=t[n],i="",l="",c="",s="",a="",o="";return r.weapon&&(i=Object.keys(r.weapon).pop()),r.assist&&(l=Object.keys(r.assist).pop()),r.special&&(c=Object.keys(r.special).pop()),r.skillA&&(s=Object.keys(r.skillA).pop()),r.skillB&&(a=Object.keys(r.skillB).pop()),r.skillC&&(o=Object.keys(r.skillC).pop()),{weapon:i,assist:l,special:c,skillA:s,skillB:a,skillC:o}}({defaultSkillDB:j,heroId:e}),q((function(){return F({heroDB:n,weaponDB:r,heroId:e,weaponId:z.current})?z.current:""})),U((function(t){return function(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weaponId,l=e.refineId;if(!F({heroDB:t,weaponDB:n,heroId:r,weaponId:i}))return!1;var c=L({heroDB:t,weaponDB:n,heroId:r,weapon:i});return!!(c&&c.refine&&c.refine[l])&&(!c.refine[l].exclusive||c.refine[l].exclusive.includes(r))}({heroDB:n,weaponDB:r,heroId:e,weaponId:z.current,refineId:t})?t:""})),Z((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.assistDB,i=e.heroId,l=e.assistId;if(!t||!n||!r||!i||!l)return!1;var c=Object(x.c)(n,i);if(!c)return!1;var s=r[l];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=g({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[c.moveType])&&(!a.weaponType||!1!==a.weaponType[c.weaponType])}({rulesDB:t,heroDB:n,assistDB:l,heroId:e,assistId:r})?r:""})),ee((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.specialDB,i=e.heroId,l=e.specialId;if(!t||!n||!r||!i||!l)return!1;var c=Object(x.c)(n,i);if(!c)return!1;var s=r[l];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=g({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[c.moveType])&&(!a.weaponType||!1!==a.weaponType[c.weaponType])}({rulesDB:t,heroDB:n,specialDB:c,heroId:e,specialId:r})?r:""})),re((function(r){return P({rulesDB:t,heroDB:n,skillDB:s,heroId:e,skillId:r})?r:""})),ce((function(r){return P({rulesDB:t,heroDB:n,skillDB:o,heroId:e,skillId:r})?r:""})),oe((function(r){return P({rulesDB:t,heroDB:n,skillDB:u,heroId:e,skillId:r})?r:""})),je((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.sealDB,i=e.heroId,l=e.sealId;if(!n||!r||!i||!l)return!1;var c=Object(x.c)(n,i);if(!c)return!1;var s=r.skillA[l]||r.skillB[l]||r.skillC[l]||r.seal[l];if(!s)return!1;var a=g({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[c.moveType])&&(!a.weaponType||!1!==a.weaponType[c.weaponType])}({rulesDB:t,heroDB:n,sealDB:d,heroId:e,sealId:r})?r:""}))}),[t,n,r,l,c,s,o,u,d,j]),ge=Object(a.useState)(!1),me=ge[0],ye=ge[1],we=Object(a.useCallback)((function(){ye((function(e){return!e}))}),[]),De=Object(a.useState)(!1),Be=De[0],Se=De[1],Ce=Object(a.useCallback)((function(){Se((function(e){return!e}))}),[]),Ie=Object(a.useState)(!1),Pe=Ie[0],Ae=Ie[1],_e=Object(a.useCallback)((function(){Ae((function(e){return!e}))}),[]),Te=Object(a.useState)(!0),Me=Te[0],Ee=Te[1],Ne=Object(a.useCallback)((function(){Ee((function(e){return!e}))}),[]),Re=Object(a.useState)(!1),He=Re[0],We=Re[1],Fe=Object(a.useCallback)((function(){We(!0)}),[]),Le=Object(a.useCallback)((function(){We(!1)}),[]),ze=Object(v.a)("/assets/summon-stone.jpg");return{heroId:p,onChangeHero:xe,rarity:f,setRarity:k,iv:y,setIV:w,merge:B,setMerge:S,dragonflower:I,setDragonflower:A,blessing:T,setBlessing:M,support:N,toggleSupport:H,arena:me,toggleArena:we,resplendent:Be,toggleResplendent:Ce,weapon:Y,setWeapon:q,refine:X,setRefine:U,assist:K,setAssist:Z,special:$,setSpecial:ee,skillA:ne,setSkillA:re,skillB:le,setSkillB:ce,skillC:ae,setSkillC:oe,seal:de,setSeal:je,setDefaultWeapon:be,setDefaultAssist:pe,setDefaultSpecial:he,setDefaultSkillA:Oe,setDefaultSkillB:fe,setDefaultSkillC:ke,setAllSkillDefault:ve,lv1:Pe,toggleLv1:_e,maxSkill:Me,toggleMaxSkill:Ne,bg:ze,editorIsOpen:He,openEditor:Fe,closeEditor:Le}}var Rr=function(){var e=Nr(),t=e.heroId,n=e.onChangeHero,i=e.rarity,l=e.setRarity,s=e.iv,a=e.setIV,o=e.merge,u=e.setMerge,d=e.dragonflower,j=e.setDragonflower,b=e.blessing,p=e.setBlessing,h=e.support,O=e.toggleSupport,f=e.arena,k=e.toggleArena,v=e.resplendent,x=e.toggleResplendent,g=e.weapon,m=e.setWeapon,y=e.refine,w=e.setRefine,D=e.assist,B=e.setAssist,S=e.special,C=e.setSpecial,I=e.skillA,P=e.setSkillA,A=e.skillB,_=e.setSkillB,T=e.skillC,M=e.setSkillC,E=e.seal,N=e.setSeal,R=e.setDefaultWeapon,H=e.setDefaultAssist,W=e.setDefaultSpecial,F=e.setDefaultSkillA,L=e.setDefaultSkillB,z=e.setDefaultSkillC,V=e.setAllSkillDefault,Y=e.lv1,q=e.toggleLv1,J=e.maxSkill,X=e.toggleMaxSkill,U=e.bg,Q=e.editorIsOpen,K=e.openEditor,Z=e.closeEditor;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{children:Object(r.jsx)("title",{children:"\u55ae\u5175\u88fd\u9020\u6a5f"})}),Object(r.jsx)("div",{style:{background:"url('".concat(U,"') center / cover no-repeat fixed")},children:Object(r.jsxs)("div",{className:Mr.a.container,children:[Object(r.jsx)("div",{className:Mr.a.viewer,children:Object(r.jsx)(at,{heroId:t,rarity:i,iv:s,merge:o,dragonflower:d,blessing:b,support:h,arena:f,resplendent:v,weapon:g,refine:y,assist:D,special:S,skillA:I,skillB:A,skillC:T,seal:E,lv1:Y,openEditor:K})}),Object(r.jsx)("div",{className:Mr.a.editor,hidden:!Q,children:Object(r.jsx)(_r,{heroId:t,onChangeHero:n,rarity:i,setRarity:l,iv:s,setIV:a,merge:o,setMerge:u,dragonflower:d,setDragonflower:j,blessing:b,setBlessing:p,support:h,toggleSupport:O,arena:f,toggleArena:k,resplendent:v,toggleResplendent:x,weapon:g,setWeapon:m,refine:y,setRefine:w,assist:D,setAssist:B,special:S,setSpecial:C,skillA:I,setSkillA:P,skillB:A,setSkillB:_,skillC:T,setSkillC:M,seal:E,setSeal:N,setDefaultWeapon:R,setDefaultAssist:H,setDefaultSpecial:W,setDefaultSkillA:F,setDefaultSkillB:L,setDefaultSkillC:z,setAllSkillDefault:V,lv1:Y,toggleLv1:q,maxSkill:J,toggleMaxSkill:X,closeEditor:Z})})]})})]})};var Hr=!0;t.default=function(e){var t=e.db;return Object(r.jsx)(i.a.Provider,{value:t,children:Object(r.jsx)(Rr,{})})}},EMxf:function(e,t,n){e.exports={canvas:"unitviewer_canvas__1B3ct",container:"unitviewer_container__3VZmP",button:"unitviewer_button__2TX0S",download:"unitviewer_download__3Uy5D",menu:"unitviewer_menu__2M5q2"}},ORp4:function(e,t,n){e.exports={label:"labelcheckbox_label__2oYYn","label-checkbox":"labelcheckbox_label-checkbox__sIM3t"}},XJgP:function(e,t,n){e.exports={container:"styles_container__3csrI","neutral-button":"styles_neutral-button__2Xm3a","iv-button":"styles_iv-button__2PgFW"}},YnUv:function(e,t,n){e.exports={container:"uniteditor_container__1sFaN",viewer:"uniteditor_viewer__3R3bp",editor:"uniteditor_editor__3iyeY"}},dLxW:function(e,t,n){e.exports={container:"styles_container__1uNtQ","neutral-button":"styles_neutral-button__HXZYg","blessing-button":"styles_blessing-button__m41R8"}},jsgU:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uniteditor",function(){return n("4NHs")}])},oYQy:function(e,t,n){e.exports={button:"editor_button__2bje7",title:"editor_title__38fof","title-textgroup":"editor_title-textgroup__1ohLJ",content:"editor_content__1OtHF",section:"editor_section__f2th3","section-group":"editor_section-group__242gp","hero-header":"editor_hero-header__rwTMX","button-content":"editor_button-content__3umvY","editor-img":"editor_editor-img__1daYT","close-button":"editor_close-button__3FeSO",container:"editor_container__3yfjQ",input:"editor_input__16kLJ",options:"editor_options__2QYDS"}}},[["jsgU",0,1,2,4,5]]]);