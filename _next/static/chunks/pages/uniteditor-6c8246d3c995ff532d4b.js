(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{7678:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return kl},default:function(){return vl}});var r=t(4808),l=t(9008),i=t(4925),s=t(7294),o=t(4942),a=t(5893);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(e){return(0,a.jsxs)("svg",u(u({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),{},{children:[(0,a.jsx)("path",{d:"M38 18h-8v-12h-12v12h-8l14 14 14-14zm-28 18v4h28v-4h-28z"}),(0,a.jsx)("path",{d:"M0 0h48v48h-48z",fill:"none"})]}))};function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=function(e){return(0,a.jsxs)("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[(0,a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]}))},k=t(885),v=t(6899),x=t(7901);function g(e){var n=e.rules2DB,t=e.ruleId;return n&&t?n[t]:null}function m(e,n){return!(!e||!n)&&0===(e&n)}function j(e){var n=e.rules2DB,t=e.ruleId,r=e.moveType,l=e.colorType,i=e.weaponType;if("allDisabled"===t)return!1;var s=g({rules2DB:n,ruleId:r}),o=g({rules2DB:n,ruleId:l}),a=g({rules2DB:n,ruleId:i}),c=g({rules2DB:n,ruleId:t});return!c||!m(c.moveType,null===s||void 0===s?void 0:s.moveType)&&(!m(c.colorType,null===o||void 0===o?void 0:o.colorType)&&!m(c.weaponType,null===a||void 0===a?void 0:a.weaponType))}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function B(e){var n=e.assistDB,t=e.assist;return n&&t?n[t]:null}function w(e){var n=B({assistDB:e.assistDB,assist:e.assist});return(null===n||void 0===n?void 0:n.name)||""}function D(e){var n=e.sealDB,t=e.seal;return n&&t?n.skillA[t]?n.skillA[t]:n.skillB[t]?n.skillB[t]:n.skillC[t]?n.skillC[t]:n.seal[t]?n.seal[t]:null:null}function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function O(e){var n=e.rules2DB,t=e.heroDB,r=e.skillDB,l=e.heroId;if(!n||!t||!r||!l)return[];var i=(0,x.cK)(t,l);return i?Object.values(r).filter((function(e){return e.exclusive?e.exclusive.includes(l):j({rules2DB:n,ruleId:e.rules,moveType:i.moveType,colorType:i.colorType,weaponType:i.weaponType})})).map((function(e){var n="".concat(e.id.toLowerCase(),"|").concat(e.name);return S(S({},e),{},{query:n})})):[]}function I(e){var n=e.rules2DB,t=e.heroDB,r=e.skillDB,l=e.heroId,i=e.skillId;if(!n||!t||!r||!l||!i)return!1;var s=(0,x.cK)(t,l);if(!s)return!1;var o=r[i];return!!o&&(o.exclusive?o.exclusive.includes(l):j({rules2DB:n,ruleId:o.rules,moveType:s.moveType,colorType:s.colorType,weaponType:s.weaponType}))}function P(e){var n=e.skillDB,t=e.skillId;return n&&t?n[t]:null}function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e){var n=e.specialDB,t=e.special;return n&&t?n[t]:null}function M(e){var n=T({specialDB:e.specialDB,special:e.special});return(null===n||void 0===n?void 0:n.name)||""}function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Z(e){switch(e){case"red-bow":case"blue-bow":case"green-bow":case"white-bow":return"bow";case"red-dagger":case"blue-dagger":case"green-dagger":case"white-dagger":return"dagger";case"red-dragon":case"blue-dragon":case"green-dragon":case"white-dragon":return"dragon";case"red-beast":case"blue-beast":case"green-beast":case"white-beast":return"beast"}return e}function R(e){var n=e.heroDB,t=e.weaponDB,r=e.heroId;if(!t||!n||!r)return[];var l=(0,x.cK)(n,r);if(!l)return[];var i=Z(l.weaponType),s=t[i];return i?Object.values(s).filter((function(e){return!e.exclusive||e.exclusive.includes(r)})).map((function(e){var n="".concat(e.id.toLowerCase(),"|").concat(e.name);return N(N({},e),{},{query:n})})):[]}function H(e){var n=e.heroDB,t=e.weaponDB,r=e.heroId,l=e.weaponId;if(!t||!n||!r||!l)return!1;var i=(0,x.cK)(n,r);if(!i)return!1;var s=Z(i.weaponType),o=t[s];if(!s)return!1;var a=o[l];return!!a&&(!a.exclusive||a.exclusive.includes(r))}function F(e){var n=e.heroDB,t=e.weaponDB,r=e.heroId,l=e.weapon;if(!t||!n||!l||!r)return null;var i=(0,x.cK)(n,r);return i?t[Z(i.weaponType)][l]:null}function K(e){var n=F({heroDB:e.heroDB,weaponDB:e.weaponDB,heroId:e.heroId,weapon:e.weapon});return(null===n||void 0===n?void 0:n.name)||""}var W={atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632"};function z(e){var n=e.heroDB,t=e.weaponDB,r=e.heroId,l=e.weapon,i=F({heroDB:n,weaponDB:t,heroId:r,weapon:l});return i&&i.refine?Object.entries(i.refine).filter((function(e){var n=(0,k.Z)(e,2)[1];return!n.exclusive||n.exclusive.includes(r)})).map((function(e){var n=(0,k.Z)(e,2),t=n[0],r=N({value:t},n[1]);return r.name||(r.name=W[t]||t),r.icon&&(r.icon="/skills/weapon/".concat(r.icon,".png")),!r.icon&&W[t]&&(r.icon="/skills/weapon/".concat(t,".png")),r})):[]}function L(e){var n=e.heroDB,t=e.weaponDB,r=e.heroId,l=e.weaponId,i=e.refineId;if(!H({heroDB:n,weaponDB:t,heroId:r,weaponId:l}))return!1;var s=F({heroDB:n,weaponDB:t,heroId:r,weapon:l});return!!(s&&s.refine&&s.refine[i])&&(!s.refine[i].exclusive||s.refine[i].exclusive.includes(r))}function V(e){var n,t=e.heroDB,r=e.weaponDB,l=e.heroId,i=e.weapon,s=e.refine,o=F({heroDB:t,weaponDB:r,heroId:l,weapon:i});return null===o||void 0===o||null===(n=o.refine)||void 0===n?void 0:n[s]}var q={atk:"atk",spd:"spd",def:"def",res:"res"};function U(e){var n=e.heroDB,t=e.weaponDB,r=e.assistDB,l=e.specialDB,i=e.skillADB,s=e.skillBDB,o=e.skillCDB,a=e.sealDB,c=e.heroId,u=e.skills;return{weapon:F({heroDB:n,weaponDB:t,heroId:c,weapon:u.weapon}),assist:B({assistDB:r,assist:u.assist}),special:T({specialDB:l,special:u.special}),skillA:P({skillDB:i,skillId:u.skillA}),skillB:P({skillDB:s,skillId:u.skillB}),skillC:P({skillDB:o,skillId:u.skillC}),seal:D({sealDB:a,seal:u.seal})}}var Y=["assist","special","skillA","skillB","skillC","seal"];var J=t(443),Q={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};var X=function(e){var n=e.rarity,t=void 0===n?5:n,r=e.merge,l=e.bst,i=e.spt,s=e.blesser,o=void 0===s?0:s,a=Q[t];return 2*(150+a.base+a.float+2*r+Math.floor(l/5)+Math.floor(i/100)+4*o)};function G(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),(0,o.Z)(this,"imageData",void 0),(0,o.Z)(this,"src",void 0),(0,o.Z)(this,"loadedData",void 0),(0,o.Z)(this,"callback",void 0),this.imageData=new Image,this.src="",this.loadedData=!1,this.callback=n,this.imageData.onload=function(){t.loadedData=!0,t.callback&&t.callback(!0)},this.imageData.onerror=function(){t.loadedData=!1,t.callback&&t.callback(!1)}}var n,t,r;return n=e,(t=[{key:"load",value:function(e){e!==this.src&&(this.loadedData=!1,this.src=e,this.imageData.src=e)}},{key:"loaded",get:function(){return this.loadedData}},{key:"image",get:function(){return this.imageData}}])&&G(n.prototype,t),r&&G(n,r),e}();var ee=t(2406),ne=16,te=554,re=ee.s6;var le=174,ie=555,se=["infantry","armored","cavalry","flying"];function oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oe(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ce=1,ue=43,de=85,he=127,pe=169,fe=[0,1,2,3,4,5,6,7,8,9,"x","+","-"].reduce((function(e,n,t){return ae(ae({},e),{},(0,o.Z)({},n,34*t+1))}),{});function ke(e,n,t,r,l,i){fe[r]&&e.drawImage(n,fe[r],t,32,40,l,i,16,20)}var ve=240,xe=557,ge=[14,28,42],me=["infantry","armored","cavalry","flying"];var je=432,be=425;var ye=432,Be=425;var we=275,De=594,Ce=function(e,n,t){var r=37*t+1+De;e.drawImage(n,we,r,35,35)};var Se=82,Oe=557,Ie=[14,28,42];var Pe=112,Ae=557,_e=[14,28,42];var Te=130,Me=594,Ee=[14,28,42,56],Ne=[1e3,100,10],Ze=function(e,n,t,r){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ce,i=8+Me+37*r;Ne.forEach((function(r,s){if(t>=r){var o=Math.floor(t/r%10);ke(e,n,l,o,Te+Ee[s],i)}}));var s=t%10;ke(e,n,l,s,Te+Ee[3],i)};var Re=465,He=594;function Fe(e){var n=e.context,t=e.numberAtlas,r=e.accelerate,l=e.specialCD;if(l){var i=ue;r<0&&(i=de),r>0&&(i=he),function(e,n,t){ke(e,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue,t,Re,8+He+74)}(n,t,r+l,i)}}var Ke=t(5294),We=206,ze=1224,Le=["#ffa0af","white","#aaf0fa"],Ve=Object.entries({hp:"HP",atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632",bst:"BST",arena:"\u9b25\u6280\u5206"});var qe=["canvas","refine","weapon"],Ue=634,Ye=1224,Je={weapon:0,assist:1,special:2,skillA:3,skillB:4,skillC:5,seal:6};var Qe=296,Xe=876,Ge=336,$e=992;var en={x:460,y:530};var nn=195,tn=370;function rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ln(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?rn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var sn=[["background","/assets/background.jpg"],["foreground","/assets/foreground.png"],["foreground2","/assets/foreground2.png"],["portrait",""],["rarityAtlas","/assets/rarity.png"],["weaponTypeAtlas","/assets/weapon-type.png"],["moveTypeAtlas","/assets/move-type.png"],["dragonflowerAtlas","/assets/dragonflower.png"],["supportAtlas","/assets/support.png"],["blessingAtlas",""],["numberAtlas","/assets/number.png"],["weaponIcon","/skills/weapon.png"],["assistIcon","/skills/assist.png"],["specialIcon","/skills/special.png"],["textA","/assets/skill-a.png"],["textB","/assets/skill-b.png"],["textC","/assets/skill-c.png"],["textS","/assets/skill-s.png"],["arenaIcon","/assets/Arena_Crown.png"],["skillAIcon",""],["skillBIcon",""],["skillCIcon",""],["sealIcon",""],["resplendentIcon","/assets/god-wear-l.png"],["bloomIcon","/assets/Icon_FlowerBud.png"]],on=[{skillName:"weapon",empty:"/skills/weapon.png"},{skillName:"skillA",empty:"/skills/empty.png"},{skillName:"skillB",empty:"/skills/empty.png"},{skillName:"skillC",empty:"/skills/empty.png"},{skillName:"seal",empty:"/skills/seal-empty.png"}];var an=function(e){var n=e.heroId,t=e.rarity,l=e.iv,o=e.merge,a=e.dragonflower,c=e.blessing,u=e.support,d=e.arena,h=e.resplendent,p=e.mythicBonus1,f=e.mythicBonus2,g=e.mythicBonus3,m=e.mythicBonus4,j=e.bloom,b=e.weapon,y=e.refine,B=e.assist,w=e.special,D=e.skillA,C=e.skillB,S=e.skillC,O=e.seal,I=e.lv1,P=(0,r.K)(),A=(0,s.useRef)(null),_=(0,s.useRef)(null),T=(0,s.useRef)(),M=(0,s.useRef)(),E=(0,s.useRef)(),N=(0,s.useRef)(),Z=(0,s.useRef)(),R=(0,s.useRef)(),H=(0,s.useRef)(),F=(0,s.useRef)(),K=(0,s.useRef)(),W=(0,s.useRef)(),z=(0,s.useRef)(),L=(0,s.useRef)(),V=(0,s.useRef)(),Q=(0,s.useRef)(),G=(0,s.useRef)(),ee=(0,s.useMemo)((function(){return(0,x.cK)(P.heroDB,n)}),[P.heroDB,n]),oe=(0,s.useMemo)((function(){return{weapon:b,assist:B,special:w,skillA:D,skillB:C,skillC:S,seal:O}}),[b,B,w,D,C,S,O]),ae=ee.stats,he=(0,s.useMemo)((function(){return function(e){var n,t,r,l,i,s,o,a,c,u=e.heroDB,d=e.weaponDB,h=e.assistDB,p=e.specialDB,f=e.skillADB,v=e.skillBDB,g=e.skillCDB,m=e.sealDB,j=e.heroId,b=e.skills,y=e.refine,B=e.rarity,w=(0,x.cK)(u,j),D=U({heroDB:u,weaponDB:d,assistDB:h,specialDB:p,skillADB:f,skillBDB:v,skillCDB:g,sealDB:m,heroId:j,skills:b}),C={weapon:"-",assist:"-",special:"-",skillA:"-",skillB:"-",skillC:"-",seal:"-"},S=0,O=(null===(n=D.special)||void 0===n?void 0:n.cd)||0;S+=(null===(t=D.weapon)||void 0===t?void 0:t.cd)||0,S+=(null===(r=D.assist)||void 0===r?void 0:r.cd)||0,S+=(null===(l=D.skillA)||void 0===l?void 0:l.cd)||0,S+=(null===(i=D.skillB)||void 0===i?void 0:i.cd)||0,S+=(null===(s=D.skillC)||void 0===s?void 0:s.cd)||0,S+=(null===(o=D.seal)||void 0===o?void 0:o.cd)||0;var I={hp:0,atk:0,spd:0,def:0,res:0},P=0,A=0;Object.entries(D).forEach((function(e){var n=(0,k.Z)(e,2),t=n[0],r=n[1];if(C[t]=(null===r||void 0===r?void 0:r.name)||"-",I.hp+=(null===r||void 0===r?void 0:r.hp)||0,I.atk+=((null===r||void 0===r?void 0:r.mt)||0)+((null===r||void 0===r?void 0:r.atk)||0),I.spd+=(null===r||void 0===r?void 0:r.spd)||0,I.def+=(null===r||void 0===r?void 0:r.def)||0,I.res+=(null===r||void 0===r?void 0:r.res)||0,P+=(null===r||void 0===r?void 0:r.sp)||0,5===B){var l=null===r||void 0===r?void 0:r.bst;w.blesser&&null!==r&&void 0!==r&&r.bbst&&(l=null===r||void 0===r?void 0:r.bbst),A=Math.max(l||0,A)}}));var _=null===(a=D.weapon)||void 0===a||null===(c=a.refine)||void 0===c?void 0:c[y];return _&&(I.hp+=_.hp||0,I.atk+=(_.mt||0)+(_.atk||0),I.spd+=_.spd||0,I.def+=_.def||0,I.res+=_.res||0,S+=_.cd||0,D.weapon.exclusive||(P+=50),5===B&&(A=Math.max(A,_.bst||0))),{names:C,stats:I,accelerate:S,specialCD:O,spt:P,bst:A}}({heroDB:P.heroDB,weaponDB:P.weaponDB,assistDB:P.assistDB,specialDB:P.specialDB,skillADB:P.skillADB,skillBDB:P.skillBDB,skillCDB:P.skillCDB,sealDB:P.sealDB,skills:oe,heroId:n,refine:y,rarity:t})}),[oe,n,y,t,P.heroDB,P.weaponDB,P.assistDB,P.specialDB,P.skillADB,P.skillBDB,P.skillCDB,P.sealDB]),fe=(0,s.useMemo)((function(){return(0,J.f)({rarity:t,stats:ae,iv:l,merge:o,support:u,skillStats:he.stats,lv1:I,arena:d,dragonflower:a,resplendent:h,mythicBonus1:p,mythicBonus2:f,mythicBonus3:g,mythicBonus4:m,bloom:j})}),[t,ae,l,o,u,he,I,d,a,h,p,f,g,m,j]),Te=(0,s.useMemo)((function(){return X({rarity:t,merge:o,bst:Math.max(fe.bst,he.bst,ee.bst||0),spt:he.spt})}),[t,o,fe.bst,he.bst,he.spt,ee]),Me=(0,s.useRef)({}),Ee=(0,s.useCallback)((function(){if(A.current){var e=Me.current,n=e.background,t=e.foreground,r=e.foreground2,l=e.portrait,s=e.rarityAtlas,o=e.weaponTypeAtlas,a=e.moveTypeAtlas,c=e.dragonflowerAtlas,u=e.supportAtlas,d=e.blessingAtlas,h=e.numberAtlas,p=e.weaponIcon,f=e.assistIcon,v=e.specialIcon,x=e.textA,g=e.textB,m=e.textC,j=e.textS,b=e.arenaIcon,y=e.skillAIcon,B=e.skillBIcon,w=e.skillCIcon,D=e.sealIcon,C=e.resplendentIcon,S=e.bloomIcon,O=T.current,I=O.title,P=O.name,q=O.weaponType,U=O.moveType,Y=!!T.current.blessing||!!K.current,J=A.current.getContext("2d");J.clearRect(0,0,540,960),n.loaded&&function(e){var n=e.context,t=e.background;e.support?n.drawImage(t,540,0,540,960,0,0,540,960):n.drawImage(t,0,0,540,960,0,0,540,960)}({context:J,background:n.image,support:W.current}),l.loaded&&function(e){var n=e.context,t=e.portrait;n.drawImage(t,0,0,540,960,0,0,540,960)}({context:J,portrait:l.image}),t.loaded&&function(e){var n=e.context,t=e.foreground;n.drawImage(t,0,0,540,960,0,0,540,960)}({context:J,foreground:t.image}),r.loaded&&function(e){var n=e.context,t=e.foreground2;e.dragonflower?n.drawImage(t,0,50,540,50,0,542,540,50):n.drawImage(t,0,0,540,50,0,542,540,50)}({context:J,foreground2:r.image,dragonflower:H.current}),s.loaded&&function(e){var n=e.context,t=e.rarityAtlas;switch(e.rarity){case 5:n.drawImage(t,0,0,153,40,48,380,153,40);break;case 4:n.drawImage(t,0,41,153,40,42,380,153,40)}}({context:J,rarityAtlas:s.image,rarity:N.current}),o.loaded&&function(e){var n=e.context,t=e.weaponTypeAtlas,r=e.weaponType,l=re.indexOf(r);l>-1&&n.drawImage(t,56*l,0,56,55,ne,te,28,28)}({context:J,weaponTypeAtlas:o.image,weaponType:q}),a.loaded&&function(e){var n=e.context,t=e.moveTypeAtlas,r=e.moveType,l=se.indexOf(r);l>-1&&n.drawImage(t,56*l,0,52,52,le,ie,26,26)}({context:J,moveTypeAtlas:a.image,moveType:U}),c.loaded&&h.loaded&&function(e){var n=e.context,t=e.dragonflowerAtlas,r=e.numberAtlas,l=e.moveType,i=e.dragonflower;if(i){var s=me.indexOf(l);s>-1&&n.drawImage(t,0,58*s,64,58,216,546,48,44);var o=0,a=ue;ke(n,r,a,"+",ve+ge[0],xe),o+=1,i>9&&(ke(n,r,a,Math.floor(i/10),ve+ge[o],xe),o+=1),ke(n,r,a,i%10,ve+ge[o],xe)}}({context:J,dragonflowerAtlas:c.image,numberAtlas:h.image,moveType:U,dragonflower:H.current}),u.loaded&&function(e){var n=e.context,t=e.supportAtlas,r=e.support,l=e.hasBlessing?108:0;r&&n.drawImage(t,je-l,be,108,115)}({context:J,supportAtlas:u.image,support:W.current,hasBlessing:Y}),d.loaded&&function(e){var n=e.context,t=e.blessingAtlas;n.drawImage(t,ye,Be,108,115)}({context:J,blessingAtlas:d.image}),h.loaded&&(!function(e){var n=e.context,t=e.numberAtlas,r=e.lv1?1:40,l=0;r>9&&ke(n,t,ue,4,Se+Ie[l],Oe),ke(n,t,ue,r%10,Se+Ie[l+=1],Oe)}({context:J,numberAtlas:h.image,lv1:Q.current}),function(e){var n=e.context,t=e.numberAtlas,r=e.merge;if(!(r<=0)){var l=0,i=r>9?pe:ue;ke(n,t,i,"+",Pe+_e[0],Ae),l+=1,r>9&&(ke(n,t,i,1,Pe+_e[l],Ae),l+=1),ke(n,t,i,r%10,Pe+_e[l],Ae)}}({context:J,numberAtlas:h.image,merge:R.current}),function(e){var n=e.context,t=e.numberAtlas,r=e.stats,l=e.score,i=e.sbst,s=e.bst;Object.values(r).forEach((function(e,r){r>4||Ze(n,t,e,r,ce)}));var o=i>s?de:pe;Ze(n,t,s,5,pe),Ze(n,t,l,6,o)}(ln({context:J,numberAtlas:h.image,score:G.current,sbst:Math.max(M.current.bst||0,T.current.bst||0)},E.current)),Fe({context:J,numberAtlas:h.image,accelerate:M.current.accelerate,specialCD:M.current.specialCD})),function(e){var n=e.context,t=e.weaponIcon,r=e.assistIcon,l=e.specialIcon,i=e.textA,s=e.textB,o=e.textC,a=e.textS,c=e.skillAIcon,u=e.skillBIcon,d=e.skillCIcon,h=e.sealIcon;t.loaded&&Ce(n,t.image,0),r.loaded&&Ce(n,r.image,1),l.loaded&&Ce(n,l.image,2),c.loaded&&Ce(n,c.image,3),n.drawImage(i.image,we+20,De+112+18,18,18),u.loaded&&Ce(n,u.image,4),n.drawImage(s.image,we+20,De+149+18,18,18),d.loaded&&Ce(n,d.image,5),n.drawImage(o.image,we+20,De+186+18,18,18),h.loaded&&Ce(n,h.image,6),n.drawImage(a.image,we+20,De+223+18,18,18)}({context:J,weaponIcon:p,assistIcon:f,specialIcon:v,textA:x,textB:g,textC:m,textS:j,skillAIcon:y,skillBIcon:B,skillCIcon:w,sealIcon:D}),_.current.getContext("2d").clearRect(0,0,1080,1920),function(e){var n=e.canvas,t=e.iv,r=e.merge,l=e.bloom,i=n.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#101010",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8;var s=(0,Ke.$r)(t),o=s.boon,a=s.bane,c={hp:1,atk:1,spd:1,def:1,res:1,bst:1,arena:1};c[o]+=1,c[a]-=1,c[a]=r>0?1:c[a],l&&(c[l]=Math.min(2,c[l]+1)),Ve.forEach((function(e,n){var t=(0,k.Z)(e,2),r=t[0],l=t[1],s=ze+74*n;i.fillStyle=Le[c[r]],i.strokeText(l,We,s),i.fillText(l,We,s)}))}({canvas:_.current,iv:Z.current,merge:R.current,bloom:F.current}),function(e){var n=e.canvas,t=e.refine,r=e.weapon,l=(0,i.Z)(e,qe),s=n.getContext("2d");s.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",s.textAlign="left",s.textBaseline="middle",s.lineJoin="round",s.lineWidth=8,s.strokeStyle="#101010",s.fillStyle=t&&"-"!==t?"lime":"white";var o=Ue+("-"===r?4:0),a=Ye;s.strokeText(r,o,a),s.fillText(r,o,a),s.fillStyle="white",Object.keys(l).forEach((function(e){var n=l[e],t=Ye+74*Je[e],r="-"===n?4:0;s.strokeText(n,Ue+r,t),s.fillText(n,Ue+r,t)}))}(ln({canvas:_.current,refine:V.current},M.current.names)),function(e){var n=e.canvas,t=e.title,r=e.name,l=n.getContext("2d");l.font="500 50px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",l.fillStyle="white",l.strokeStyle="#220d00",l.textAlign="center",l.textBaseline="middle",l.lineJoin="round",l.lineWidth=8,l.strokeText(t,Qe,Xe),l.fillText(t,Qe,Xe),l.font="500 52px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",l.strokeText(r,Ge,$e),l.fillText(r,Ge,$e)}({canvas:_.current,title:I,name:P}),z.current&&b&&function(e){var n=e.context,t=e.arenaIcon;n.drawImage(t,en.x,en.y,50,49)}({context:J,arenaIcon:b.image}),L.current&&C&&function(e){var n=e.context,t=e.resplendentIcon;n.drawImage(t,nn,tn,64,63)}({context:J,resplendentIcon:C.image}),F.current&&S&&function(e){var n=e.context,t=e.bloomIcon;n.drawImage(t,5,375,45,45)}({context:J,bloomIcon:S.image}),J.drawImage(_.current,0,0,540,960)}}),[]);(0,s.useEffect)((function(){_.current=document.createElement("canvas"),_.current.width=1080,_.current.height=1920}),[]),(0,s.useEffect)((function(){sn.forEach((function(e){var n=(0,k.Z)(e,2),t=n[0],r=n[1];Me.current[t]=new $(Ee),Me.current[t].load((0,v.Z)(r))}))}),[Me,Ee]),(0,s.useEffect)((function(){var e=function(e){var n=e.resplendentDB,t=e.heroId;return e.enable&&null!==n&&void 0!==n&&n.includes(t)?"".concat(t,"(R)"):t}({resplendentDB:P.resplendentDB,heroId:ee.id,enable:h});Me.current.portrait.load((0,v.Z)("/portraits/".concat(e,".png")));var n=function(e){var n=e.heroDB,t=e.weaponDB,r=e.assistDB,l=e.specialDB,i=e.skillADB,s=e.skillBDB,o=e.skillCDB,a=e.sealDB,c=e.heroId,u=e.skills,d=e.refine,h=U({heroDB:n,weaponDB:t,assistDB:r,specialDB:l,skillADB:i,skillBDB:s,skillCDB:o,sealDB:a,heroId:c,skills:u}),p={};if(Y.forEach((function(e){var n=h[e];p[e]=(null===n||void 0===n?void 0:n.icon)&&"/skills/".concat(n.icon)})),d&&"-"!==d){var f,k,v,x=q[d]||(null===(f=h.weapon)||void 0===f||null===(k=f.refine)||void 0===k||null===(v=k[d])||void 0===v?void 0:v.icon);x&&(p.weapon="/skills/weapon/".concat(x,".png"))}return p}({heroDB:P.heroDB,weaponDB:P.weaponDB,assistDB:P.assistDB,specialDB:P.specialDB,skillADB:P.skillADB,skillBDB:P.skillBDB,skillCDB:P.skillCDB,sealDB:P.sealDB,skills:oe,heroId:ee.id,refine:y});on.forEach((function(e){var t=e.skillName,r=e.empty;Me.current["".concat(t,"Icon")].load((0,v.Z)("".concat(n[t]||r)))}));var t="-"!==ee.blessing&&!!ee.blessing||!!c,r=(0,v.Z)("/assets/blessing-".concat(ee.blessing||c,".png"));Me.current.blessingAtlas.load(t?r:"")}),[ee,h,oe,y,c,fe,P.heroDB,P.weaponDB,P.assistDB,P.specialDB,P.skillADB,P.skillBDB,P.skillCDB,P.sealDB,P.resplendentDB]),(0,s.useEffect)((function(){T.current=ee,N.current=t,Z.current=l,R.current=o,H.current=a,K.current=c,W.current=u,z.current=d,L.current=h,V.current=y,Q.current=I,G.current=Te,M.current=he,E.current=fe,F.current=j,Ee()}),[ee,t,l,o,a,c,u,d,h,y,I,Te,he,fe,j,Ee]);var Ne=(0,s.useCallback)((function(){var e=A.current.toDataURL("image/png"),n=document.createElement("a");n.href=e,n.download="".concat(null===ee||void 0===ee?void 0:ee.name,"-").concat(null===ee||void 0===ee?void 0:ee.title,".png"),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}),[null===ee||void 0===ee?void 0:ee.name,null===ee||void 0===ee?void 0:ee.title]);return{canvasRef:A,triggerDownload:Ne}},cn=t(3196),un=t.n(cn),dn=["openEditor"];function hn(e){var n=e.openEditor,t=(0,i.Z)(e,dn),r=an(t),l=r.canvasRef,s=r.triggerDownload;return(0,a.jsxs)("div",{className:un().container,children:[(0,a.jsx)("canvas",{className:un().canvas,width:"540",height:"960",ref:l}),(0,a.jsx)("button",{className:"".concat(un().button," ").concat(un().download),onClick:s,children:(0,a.jsx)(d,{})}),(0,a.jsx)("button",{className:"".concat(un().button," ").concat(un().menu),onClick:n,children:(0,a.jsx)(f,{})})]})}var pn=(0,s.memo)(hn);function fn(e){return 4===e?"4\u2605":"5\u2606"}var kn=[{name:"+\u653b\u64ca",value:"atk"},{name:"+\u901f\u5ea6",value:"spd"},{name:"+\u9632\u5b88",value:"def"},{name:"+\u9b54\u9632",value:"res"}];function vn(e){var n=kn.find((function(n){return e===n.value}));return(null===n||void 0===n?void 0:n.name)||"-"}var xn=[{name:"+HP",value:"hp"},{name:"+\u653b\u64ca",value:"atk"},{name:"+\u901f\u5ea6",value:"spd"},{name:"+\u9632\u5b88",value:"def"},{name:"+\u9b54\u9632",value:"res"}];function gn(e){var n=xn.find((function(n){return e===n.value}));return(null===n||void 0===n?void 0:n.name)||"-"}function mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var bn=function(e){return(0,a.jsxs)("svg",jn(jn({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[(0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),(0,a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}))},yn=t(5988);function Bn(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-2629191159"}),(0,a.jsx)(yn.default,{id:"2629191159",children:["div.jsx-2629191159{width:1.5em;height:1.5em;border-radius:0.5em;background-color:white;}"]})]})}var wn=function(e){var n=e.className,t=e.checked,r=e.onChange,l=(0,s.useCallback)((function(e){r&&(e.stopPropagation(),r(!t))}),[t,r]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{role:"button",onClick:l,className:"jsx-19544621 "+(n||""),children:t&&(0,a.jsx)(Bn,{})}),(0,a.jsx)(yn.default,{id:"19544621",children:["div.jsx-19544621{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:0.5em;width:2.5em;height:2.5em;font-size:1em;border:solid 1px white;background-color:transparent;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},Dn=t(9517),Cn=t.n(Dn);var Sn=function(e){var n=e.children,t=e.checked,r=e.onChange;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("label",{className:Cn().label,children:[n,(0,a.jsx)(wn,{className:Cn()["label-checkbox"],checked:t,onChange:r})]})})},On=t(75),In=t(6736);var Pn=function(e){var n=e.blessing,t=(0,s.useMemo)((function(){return(0,In._n)(n)}),[n]),r=t.src,l=t.name;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-3356831981",children:[r&&(0,a.jsx)(On.Z,{src:r,loading:"lazy",width:"50px",height:"50px"}),(0,a.jsx)("div",{className:"jsx-3356831981 blessing-name",children:l})]}),(0,a.jsx)(yn.default,{id:"3356831981",children:["div.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}","div.jsx-3356831981 img.jsx-3356831981{width:2.5em;height:2.5em;margin-right:0.25em;}","div.jsx-3356831981 .blessing-name.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;}"]})]})},An=t(1946),_n=t.n(An);var Tn=function(e){var n=e.onClick;return(0,a.jsx)("button",{className:_n().button,onClick:n,style:{fontSize:"16px",marginLeft:"1em"},children:"\u4f7f\u7528\u539f\u751f\u6280\u80fd"})};function Mn(e){var n=e.hidden,t=e.style,r=e.children;return(0,a.jsx)("div",{hidden:n,className:_n().container,style:t,children:r})}function En(e){var n=e.children,t=e.style;return(0,a.jsx)("div",{className:_n().title,style:t,children:n})}function Nn(e){var n=e.children;return(0,a.jsx)("div",{className:_n()["title-textgroup"],children:n})}function Zn(e){var n=e.children;return(0,a.jsx)("div",{className:_n().content,children:n})}function Rn(e){var n=e.children;return(0,a.jsx)("div",{className:_n()["section-group"],children:n})}function Hn(e){var n=e.children,t=e.disabled,r=e.onClick;return(0,a.jsx)("button",{className:"".concat(_n().button," ").concat(_n().section),disabled:t,onClick:r,children:n})}function Fn(e){var n=e.children,t=e.style;return(0,a.jsx)("div",{className:_n()["button-content"],style:t,children:n})}function Kn(e){var n=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-3303034820",children:n}),(0,a.jsx)(yn.default,{id:"3303034820",children:["div.jsx-3303034820{overflow-y:auto;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-overflow-scrolling:touch;height:calc(100vh - 9em);}"]})]})}function Wn(e){var n=e.children;return(0,a.jsx)("div",{className:_n().options,children:n})}function zn(e){var n=e.children;return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:n})}function Ln(e){var n=e.children;return(0,a.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:n})}function Vn(e){var n=e.children;return(0,a.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:n})}function qn(e){var n=e.src;return(0,a.jsx)(On.Z,{src:n,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"},loading:"lazy"})}function Un(e){var n=e.children;return(0,a.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:n})}function Yn(e){var n=e.children;return(0,a.jsx)("div",{style:{fontWeight:"bold"},children:n})}function Jn(e){var n=e.children;return(0,a.jsx)("div",{style:{display:"flex"},children:n})}function Qn(e){var n=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-2400499899",children:n}),(0,a.jsx)(yn.default,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function Xn(e){var n=e.cd,t=e.children;return n?(0,a.jsx)("div",{style:{color:n<0?"lightskyblue":"palevioletred"},children:t}):null}function Gn(e){var n=e.children;return(0,a.jsx)("div",{style:{color:"salmon"},children:n})}var $n=function(e){return e>0?"+".concat(e):"".concat(e)};function et(e){var n=e.children;return(0,a.jsx)("div",{style:{fontSize:"1.35em",padding:"0.25em",backgroundColor:"#1d3e53"},children:n})}var nt=t(8132);function tt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var lt=function(e){var n=e.heroId,t=e.resplendent,l=(0,r.K)(),i=l.heroDB,o=l.assistDB,c=l.resplendentDB,u=(0,s.useMemo)((function(){return(0,x.gO)({heroDB:i,assistDB:o,resplendentDB:c,heroId:n,noStat:!0})}),[i,o,c,n]);return(0,a.jsx)(nt.Z,rt(rt({},u),{},{faceSrc:t?u.faceSrcR:u.faceSrc}))};var it=function(e){var n=e.heroId,t=e.weapon,l=(0,r.K)(),i=l.heroDB,s=l.weaponDB;return(0,a.jsx)(a.Fragment,{children:K({heroDB:i,weaponDB:s,heroId:n,weapon:t})})};var st=function(e){var n=e.heroId,t=e.weapon,l=e.refine,i=(0,r.K)(),s=function(e){var n=e.heroDB,t=e.weaponDB,r=e.heroId,l=e.weapon,i=e.refine,s=V({heroDB:n,weaponDB:t,heroId:r,weapon:l,refine:i});return s?W[i]?{icon:i,name:W[i]}:{icon:s.icon,name:s.name}:{icon:"",name:""}}({heroDB:i.heroDB,weaponDB:i.weaponDB,heroId:n,weapon:t,refine:l}),o=s.icon,c=s.name;return(0,a.jsxs)(a.Fragment,{children:[o&&(0,a.jsx)(qn,{src:"/skills/weapon/".concat(o,".png")}),c]})};var ot=function(e){var n=e.assist,t=(0,r.K)().assistDB;return(0,a.jsx)(a.Fragment,{children:w({assistDB:t,assist:n})})};var at=function(e){var n=e.special,t=(0,r.K)().specialDB;return(0,a.jsx)(a.Fragment,{children:M({specialDB:t,special:n})})},ct=["skillA","skillB","skillC"];var ut=function(e){var n=e.skillType,t=e.skillId,l=(0,r.K)();if(ct.includes(n)){var i=function(e){var n=P({skillDB:e.skillDB,skillId:e.skillId});return n?{icon:n.icon,name:n.name}:{icon:"",name:""}}({skillDB:l["".concat(n,"DB")],skillId:t}),s=i.icon,o=i.name;return(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsx)(qn,{src:"/skills/".concat(s)}),o]})}if("seal"===n){var c=function(e){var n=D({sealDB:e.sealDB,seal:e.seal});return n?{icon:n.icon,name:n.name}:{icon:"",name:""}}({sealDB:l.sealDB,seal:t}),u=c.icon,d=c.name;return(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)(qn,{src:"/skills/".concat(u)}),d]})}return null};var dt=["hidden","heroId","rarity","iv","merge","dragonflower","blessing","support","arena","resplendent","mythicBonus1","mythicBonus2","mythicBonus3","mythicBonus4","bloom","weapon","refine","assist","special","skillA","skillB","skillC","seal","lv1","maxSkill"];var ht=function(e){var n=e.hidden,t=e.heroId,l=e.rarity,o=e.iv,c=e.merge,u=e.dragonflower,d=e.blessing,h=e.support,p=e.arena,f=e.resplendent,k=e.mythicBonus1,v=e.mythicBonus2,g=e.mythicBonus3,m=e.mythicBonus4,j=e.bloom,b=e.weapon,y=e.refine,B=e.assist,w=e.special,D=e.skillA,C=e.skillB,S=e.skillC,O=e.seal,I=e.lv1,P=e.maxSkill,A=(0,i.Z)(e,dt),_=function(e){var n=e.heroId,t=e.weapon,l=e.maxSkill,i=(0,r.K)(),o=i.heroDB,a=i.weaponDB,c=(0,s.useMemo)((function(){return(0,x.cK)(o,n)}),[o,n]),u=(0,s.useMemo)((function(){if("Feh"===n)return!1;var e=R({heroDB:o,weaponDB:a,heroId:n});return l?e.filter((function(e){return e.last})).length>0:e.length>0}),[o,a,n,l]),d=(0,s.useMemo)((function(){return"Feh"!==n&&z({heroDB:o,weaponDB:a,heroId:n,weapon:t}).length>0}),[o,a,n,t]),h=(0,s.useMemo)((function(){return"Feh"!==n&&"mythic"===c.pool}),[n,c]);return"Feh"===n?{hasRarity:!1,hasBlessing:!0,hasWeapon:!1,hasRefine:!1,hasAssist:!1,hasSpecial:!1,hasSkillA:!1,hasSkillB:!1,hasSkillC:!1,hasSeal:!1,isMythic:!1}:{hasRarity:c.rarity.length>0,hasBlessing:!!c.blessing,hasWeapon:u,hasRefine:d,hasAssist:!0,hasSpecial:!0,hasSkillA:!0,hasSkillB:!0,hasSkillC:!0,hasSeal:!0,blessing:c.blessing,isMythic:h}}({heroId:t,weapon:b,maxSkill:P}),T=_.hasRarity,M=_.hasBlessing,E=_.hasWeapon,N=_.hasRefine,Z=_.hasAssist,H=_.hasSpecial,F=_.hasSkillA,K=_.hasSkillB,W=_.hasSkillC,L=_.hasSeal,V=_.blessing,q=_.isMythic;return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsx)("button",{className:_n()["close-button"],onClick:A.closeEditor,children:(0,a.jsx)(bn,{})}),(0,a.jsx)(En,{children:(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:"\u82f1\u96c4"}),(0,a.jsx)(Sn,{checked:I,onChange:A.toggleLv1,children:"Lv1"})]})}),(0,a.jsxs)(Zn,{children:[(0,a.jsx)("button",{className:"".concat(_n().button," ").concat(_n()["hero-header"]),onClick:A.openHeroPicker,children:(0,a.jsx)(lt,{heroId:t,resplendent:f})}),(0,a.jsxs)(Rn,{children:[(0,a.jsxs)(Hn,{disabled:!T,onClick:A.openRarityPicker,children:["\u7a00\u6709\u5ea6",(0,a.jsx)(Fn,{children:fn(l)})]}),(0,a.jsxs)(Hn,{disabled:"Feh"===t,onClick:A.openIVPicker,children:["IV",(0,a.jsx)(Fn,{children:(0,Ke.Zx)(o)})]}),(0,a.jsxs)(Hn,{disabled:M,onClick:A.openBlessingPicker,children:["\u795d\u798f",(0,a.jsx)(Fn,{children:(0,a.jsx)(Pn,{blessing:V||d})})]}),(0,a.jsxs)(Hn,{onClick:A.openMergePicker,children:["\u7a81\u7834\u6b21\u6578",(0,a.jsx)(Fn,{children:c?"+".concat(c):"-"})]}),(0,a.jsxs)(Hn,{onClick:A.openDragonflowerPicker,children:["\u795e\u9f8d\u4e4b\u82b1",(0,a.jsx)(Fn,{children:u?"+".concat(u):"-"})]})]})]}),(0,a.jsx)(En,{children:(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:"\u6280\u80fd"}),(0,a.jsx)(Sn,{checked:P,onChange:A.toggleMaxSkill,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),(0,a.jsx)(Tn,{onClick:A.setAllSkillDefault})]})}),(0,a.jsxs)(Zn,{children:[(0,a.jsxs)(Rn,{children:[(0,a.jsxs)(Hn,{disabled:!E,onClick:A.openWeaponPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"\u6b66\u5668",(0,a.jsx)(Fn,{children:(0,a.jsx)(it,{heroId:t,weapon:b})})]}),(0,a.jsxs)(Hn,{disabled:!N,onClick:A.openRefinePicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/refining-stone.png"}),"\u935b\u9020",(0,a.jsx)(Fn,{children:(0,a.jsx)(st,{heroId:t,weapon:b,refine:y})})]})]}),(0,a.jsxs)(Rn,{children:[(0,a.jsxs)(Hn,{disabled:!Z,onClick:A.openAssistPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"\u8f14\u52a9",(0,a.jsx)(Fn,{children:(0,a.jsx)(ot,{assist:B})})]}),(0,a.jsxs)(Hn,{disabled:!H,onClick:A.openSpecialPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"\u5967\u7fa9",(0,a.jsx)(Fn,{children:(0,a.jsx)(at,{special:w})})]})]}),(0,a.jsxs)(Rn,{children:[(0,a.jsxs)(Hn,{disabled:!F,onClick:A.openSkillAPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A\u6280\u80fd",(0,a.jsx)(Fn,{children:(0,a.jsx)(ut,{skillType:"skillA",skillId:D})})]}),(0,a.jsxs)(Hn,{disabled:!K,onClick:A.openSkillBPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B\u6280\u80fd",(0,a.jsx)(Fn,{children:(0,a.jsx)(ut,{skillType:"skillB",skillId:C})})]}),(0,a.jsxs)(Hn,{disabled:!W,onClick:A.openSkillCPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C\u6280\u80fd",(0,a.jsx)(Fn,{children:(0,a.jsx)(ut,{skillType:"skillC",skillId:S})})]}),(0,a.jsxs)(Hn,{disabled:!L,onClick:A.openSealPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),"\u8056\u5370",(0,a.jsx)(Fn,{children:(0,a.jsx)(ut,{skillType:"seal",skillId:O})})]})]})]}),(0,a.jsx)(En,{children:"\u5f37\u5316"}),(0,a.jsxs)(Zn,{children:[(0,a.jsxs)(Rn,{children:[(0,a.jsxs)(Hn,{onClick:A.toggleSupport,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/support.png"}),"\u53ec\u559a\u5e2b\u5951\u7d04",(0,a.jsx)(wn,{checked:h})]}),(0,a.jsxs)(Hn,{onClick:A.toggleArena,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Arena_Crown.png"}),"\u9b25\u6280\u5834",(0,a.jsx)(wn,{checked:p})]}),(0,a.jsxs)(Hn,{onClick:A.toggleResplendent,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/god-wear.png"}),"\u795e\u88dd",(0,a.jsx)(wn,{checked:f})]}),(0,a.jsxs)(Hn,{disabled:"Feh"===t,onClick:A.openBloomPicker,children:[(0,a.jsx)(On.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Icon_FlowerBud.png"}),"\u7dbb\u653e",(0,a.jsx)(Fn,{style:{height:"42px"},children:gn(j)})]})]}),!q&&(0,a.jsxs)(Rn,{children:[(0,a.jsxs)(Hn,{disabled:"Feh"===t,onClick:A.openMythicBonus1,children:["\u795e\u968e1",(0,a.jsx)(Fn,{children:vn(k)})]}),(0,a.jsxs)(Hn,{disabled:"Feh"===t,onClick:A.openMythicBonus2,children:["\u795e\u968e2",(0,a.jsx)(Fn,{children:vn(v)})]}),(0,a.jsxs)(Hn,{disabled:"Feh"===t,onClick:A.openMythicBonus3,children:["\u795e\u968e3",(0,a.jsx)(Fn,{children:vn(g)})]}),(0,a.jsxs)(Hn,{disabled:"Feh"===t,onClick:A.openMythicBonus4,children:["\u795e\u968e4",(0,a.jsx)(Fn,{children:vn(m)})]})]})]})]})},pt=t(1720);function ft(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ft(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ft(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var vt=function(e){return(0,a.jsxs)("svg",kt(kt({width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[(0,a.jsx)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}))};var xt=function(e){var n=e.onClick;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:n,className:"jsx-3918608153",children:(0,a.jsx)(vt,{fill:"white"})}),(0,a.jsx)(yn.default,{id:"3918608153",children:["button.jsx-3918608153{background-color:transparent;display:block;}"]})]})},gt=t(226),mt=t.n(gt);var jt=function(e){var n=e.hidden,t=e.heroId,r=e.onChangeHero,l=e.onClickBack,i=e.resplendent,o=(0,s.useCallback)((function(e){r(e),l()}),[r,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),"\u82f1\u96c4"]}),(0,a.jsx)("div",{className:mt().picker,children:(0,a.jsx)(pt.Z,{heroId:t,onSelect:o,noDropdown:!0,resplendent:i})})]})},bt=t(6349);var yt=function(e){var n=e.hidden,t=e.rarity,r=e.selectRarity,l=e.onClickBack,i=(0,s.useCallback)((function(e){r(e),l()}),[r,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),"\u7a00\u6709\u5ea6"]}),(0,a.jsx)(bt.Z,{rarity:t,minRarity:4,onSelect:i})]})},Bt=t(4921),wt=t.n(Bt),Dt=function(e){var n=e.iv,t=e.selectIV,r=(0,s.useCallback)((function(e){e.stopPropagation(),t(e.currentTarget.value)}),[t]);return(0,a.jsxs)("div",{className:wt().container,children:[(0,a.jsx)("button",{className:wt()["neutral-button"],"data-active":!n,value:"",onClick:r,children:"-"}),Ke.YM.map((function(e){return(0,a.jsx)("button",{className:wt()["iv-button"],"data-active":n===e.value,value:e.value,onClick:r,children:e.name},e.value)}))]})};var Ct=function(e){var n=e.hidden,t=e.iv,r=e.selectIV,l=e.onClickBack,i=(0,s.useCallback)((function(e){r(e),l()}),[r,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),"IV"]}),(0,a.jsx)(Dt,{iv:t,selectIV:i})]})},St=t(9838),Ot=t.n(St),It=function(e){var n=e.blessing,t=e.selectBlessing,r=(0,s.useCallback)((function(e){e.stopPropagation(),t(e.currentTarget.value)}),[t]);return(0,a.jsxs)("div",{className:Ot().container,children:[(0,a.jsx)("button",{className:Ot()["neutral-button"],"data-active":!n,value:"",onClick:r,children:"-"}),In.YM.map((function(e){return(0,a.jsx)("button",{className:Ot()["blessing-button"],"data-active":n===e.value,value:e.value,onClick:r,children:(0,a.jsx)(Pn,{blessing:e.value})},e.value)}))]})};var Pt=function(e){var n=e.hidden,t=e.blessing,r=e.selectBlessing,l=e.onClickBack,i=(0,s.useCallback)((function(e){r(e),l()}),[r,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),"IV"]}),(0,a.jsx)(It,{blessing:t,selectBlessing:i})]})},At=t(6870);var _t=function(e){var n=e.hidden,t=e.merge,r=e.selectMerge,l=e.onClickBack,i=(0,s.useCallback)((function(e){r(e),l()}),[r,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),"\u7a81\u7834\u6b21\u6578"]}),(0,a.jsx)(At.Z,{merge:t,onSelect:i})]})},Tt=t(4637),Mt=new Array(21).fill(0).map((function(e,n){return n}));var Et=function(e){var n=e.dragonflower,t=e.onSelect;return(0,a.jsx)(Tt.Z,{value:n,onSelect:t,options:Mt})};var Nt=function(e){var n=e.hidden,t=e.dragonflower,r=e.selectDragonflower,l=e.onClickBack,i=(0,s.useCallback)((function(e){r(e),l()}),[r,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),"\u795e\u9f8d\u4e4b\u82b1"]}),(0,a.jsx)(Et,{dragonflower:t,onSelect:i})]})};var Zt=function(e){var n=e.active,t=e.last,r=e.hidden,l=e.value,i=e.children,s=e.onClick;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{"data-active":n,value:l,onClick:s,hidden:r,className:yn.default.dynamic([["2665293084",[t?1:.618]]]),children:i}),(0,a.jsx)(yn.default,{id:"2665293084",dynamic:[t?1:.618],children:[".__jsx-style-dynamic-selector{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;text-align:left;outline:none;line-height:1.5;opacity:".concat(t?1:.618,";}"),"button.__jsx-style-dynamic-selector{padding:0.5em;margin-bottom:0.5em;border-bottom:1px solid #1d3e53;cursor:pointer;display:block;color:white;width:100%;background-color:transparent;}","button.__jsx-style-dynamic-selector:hover{background-color:#77abb7aa;}","button[hidden].__jsx-style-dynamic-selector{display:none;}","button[data-active='true'].__jsx-style-dynamic-selector{background-color:#476d7c;}"]})]})};function Rt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ht(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ft(e){var n=e.children;return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:n})}function Kt(e){var n=e.children;return(0,a.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder"},children:n})}function Wt(e){var n=e.children;return(0,a.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:n})}function zt(e){var n=e.children;return(0,a.jsx)("div",{style:{fontWeight:"bold"},children:n})}function Lt(e){var n=e.children;return(0,a.jsx)("div",{style:{display:"flex"},children:n})}function Vt(e){var n=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-2400499899",children:n}),(0,a.jsx)(yn.default,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function qt(e){var n=e.cd,t=e.children;return n?(0,a.jsx)("div",{style:{color:n<0?"lightskyblue":"palevioletred"},children:t}):null}function Ut(e){var n=e.children;return(0,a.jsx)("div",{style:{color:"salmon"},children:n})}var Yt=function(e){return e>0?"+".concat(e):"".concat(e)};var Jt=function(e){var n=e.active,t=e.weapon,r=e.hidden,l=e.onClick;return(0,a.jsxs)(Zt,{active:n,last:t.last,hidden:r,value:t.id,onClick:l,children:[(0,a.jsxs)(Ft,{children:[(0,a.jsx)(Kt,{children:t.name}),(0,a.jsxs)(Wt,{children:[t.sp,"SP"]})]}),(0,a.jsxs)(zt,{children:["\u5a01\u529b ",t.mt]}),t.cd&&(0,a.jsxs)(qt,{cd:t.cd,children:["\u5967\u7fa9 cd",Yt(t.cd)]}),(0,a.jsxs)(Lt,{children:[t.hp&&(0,a.jsxs)(Vt,{children:["HP ",Yt(t.hp)]}),t.atk&&(0,a.jsxs)(Vt,{children:["\u653b\u64ca ",Yt(t.atk)]}),t.spd&&(0,a.jsxs)(Vt,{children:["\u901f\u5ea6 ",Yt(t.spd)]}),t.def&&(0,a.jsxs)(Vt,{children:["\u9632\u5b88 ",Yt(t.def)]}),t.res&&(0,a.jsxs)(Vt,{children:["\u9b54\u9632 ",Yt(t.res)]})]}),t.exclusive&&(0,a.jsx)(Ut,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})},Qt=["hidden"];function Xt(e){var n=e.heroId,t=e.weapon,l=e.selectWeapon,o=function(e){var n=e.heroId,t=e.filter,l=e.maxSkill,i=(0,r.K)(),o=i.heroDB,a=i.weaponDB,c=(0,s.useMemo)((function(){return R({heroDB:o,weaponDB:a,heroId:n})}),[n,o,a]);return{options:(0,s.useMemo)((function(){return c.map((function(e){var n=!1;return l&&!e.last&&(n=!0),!n&&t&&(n=!e.query.includes(t.toLowerCase())),Ht(Ht({},e),{},{hidden:n})}))}),[c,t,l])}}({heroId:n,filter:e.filter,maxSkill:e.maxSkill}).options,c=(0,s.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return(0,a.jsxs)(Wn,{children:[(0,a.jsx)(Zt,{active:!t,value:"",onClick:c,children:"\u7121\u6b66\u5668"}),o.map((function(e){var n=e.hidden,r=(0,i.Z)(e,Qt);return(0,a.jsx)(Jt,{hidden:n,weapon:r,active:t===e.id,onClick:c},e.id)}))]})}var Gt=(0,s.memo)(Xt);var $t=function(e){var n=e.hidden,t=e.onClickBack,r=e.heroId,l=e.weapon,i=e.selectWeapon,o=e.maxSkill,c=e.toggleMaxSkill,u=e.setDefaultSkill,d=(0,s.useState)(""),h=d[0],p=d[1],f=(0,s.useCallback)((function(e){p(e.currentTarget.value)}),[]),k=(0,s.useCallback)((function(e){i(e),t()}),[i,t]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:t}),(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:"\u6b66\u5668"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Sn,{checked:o,onChange:c,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),(0,a.jsx)(Tn,{onClick:u})]})]})]}),(0,a.jsx)("input",{className:_n().input,placeholder:"\u6b66\u5668\u540d\u7a31",onChange:f}),(0,a.jsx)(Kn,{children:(0,a.jsx)(Gt,{heroId:r,weapon:l,filter:h,maxSkill:o,selectWeapon:k})})]})};function er(e){var n=e.children;return(0,a.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:n})}function nr(e){var n=e.src;return(0,a.jsx)(On.Z,{src:n,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function tr(e){var n=e.children;return(0,a.jsx)("div",{style:{fontWeight:"bold"},children:n})}function rr(e){var n=e.children;return(0,a.jsx)("div",{style:{display:"flex"},children:n})}function lr(e){var n=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-2400499899",children:n}),(0,a.jsx)(yn.default,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function ir(e){var n=e.cd,t=e.children;return n?(0,a.jsx)("div",{style:{color:n<0?"lightskyblue":"palevioletred"},children:t}):null}function sr(e){var n=e.children;return(0,a.jsx)("div",{style:{color:"salmon"},children:n})}var or=function(e){return e>0?"+".concat(e):"".concat(e)};var ar=function(e){var n=e.active,t=e.hidden,r=e.refineType,l=e.refine,i=e.onClick;return(0,a.jsxs)(Zt,{active:n,last:!0,hidden:t,value:r,onClick:i,children:[(0,a.jsxs)(er,{children:[l.icon&&(0,a.jsx)(nr,{src:l.icon}),l.name]}),l.mt&&(0,a.jsxs)(tr,{children:["\u5a01\u529b ",l.mt]}),l.cd&&(0,a.jsxs)(ir,{cd:l.cd,children:["\u5967\u7fa9 cd",or(l.cd)]}),(0,a.jsxs)(rr,{children:[l.hp&&(0,a.jsxs)(lr,{children:["HP ",or(l.hp)]}),l.atk&&(0,a.jsxs)(lr,{children:["\u653b\u64ca ",or(l.atk)]}),l.spd&&(0,a.jsxs)(lr,{children:["\u901f\u5ea6 ",or(l.spd)]}),l.def&&(0,a.jsxs)(lr,{children:["\u9632\u5b88 ",or(l.def)]}),l.res&&(0,a.jsxs)(lr,{children:["\u9b54\u9632 ",or(l.res)]})]}),l.exclusive&&(0,a.jsx)(sr,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})},cr=["value"];function ur(e){var n=e.heroId,t=e.weapon,l=e.refine,o=e.selectRefine,c=function(e){var n=e.heroId,t=e.weapon,l=(0,r.K)(),i=l.heroDB,o=l.weaponDB;return{options:(0,s.useMemo)((function(){return z({heroDB:i,weaponDB:o,heroId:n,weapon:t})}),[i,o,n,t])}}({heroId:n,weapon:t}).options,u=(0,s.useCallback)((function(e){e.stopPropagation(),o(e.currentTarget.value)}),[o]);return(0,a.jsxs)(Wn,{children:[(0,a.jsx)(Zt,{active:!l,value:"",onClick:u,children:"\u7121\u935b\u9020"}),c.map((function(e){var n=e.value,t=(0,i.Z)(e,cr);return(0,a.jsx)(ar,{refineType:n,refine:t,active:l===n,onClick:u},n)}))]})}var dr=(0,s.memo)(ur);var hr=function(e){var n=e.hidden,t=e.onClickBack,r=e.heroId,l=e.weapon,i=e.refine,o=e.selectRefine,c=(0,s.useCallback)((function(e){o(e),t()}),[o,t]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:t}),(0,a.jsx)(Nn,{children:(0,a.jsx)("span",{children:"\u935b\u9020"})})]}),(0,a.jsx)(Kn,{children:(0,a.jsx)(dr,{heroId:r,weapon:l,refine:i,selectRefine:c})})]})},pr=t(4825),fr=t(1728);function kr(e){var n=e.active,t=e.hidden,r=e.skill,l=e.onClick;return(0,a.jsxs)(Zt,{active:n,last:r.last,hidden:t,value:r.id,onClick:l,children:[(0,a.jsxs)(zn,{children:[(0,a.jsxs)(Ln,{children:[r.icon&&(0,a.jsx)(qn,{src:"/skills/".concat(r.icon)}),r.name]}),(0,a.jsxs)(Vn,{children:[r.sp,"SP"]})]}),r.mt&&(0,a.jsxs)(Yn,{children:["\u5a01\u529b ",r.mt]}),r.cd&&(0,a.jsxs)(Xn,{cd:r.cd,children:["\u5967\u7fa9 cd",$n(r.cd)]}),(0,a.jsxs)(Jn,{children:[r.hp&&(0,a.jsxs)(Qn,{children:["HP ",$n(r.hp)]}),r.atk&&(0,a.jsxs)(Qn,{children:["\u653b\u64ca ",$n(r.atk)]}),r.spd&&(0,a.jsxs)(Qn,{children:["\u901f\u5ea6 ",$n(r.spd)]}),r.def&&(0,a.jsxs)(Qn,{children:["\u9632\u5b88 ",$n(r.def)]}),r.res&&(0,a.jsxs)(Qn,{children:["\u9b54\u9632 ",$n(r.res)]})]}),r.exclusive&&(0,a.jsx)(Gn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var vr=(0,s.memo)(kr);function xr(e){var n=e.index,t=e.style,r=e.data,l=r.skillId,i=r.skills,s=r.onClick,o=i[n];return(0,a.jsx)("div",{style:t,children:(0,a.jsx)(vr,{active:l===o.id,skill:o,onClick:s},o.id)})}function gr(e){var n=e.heroId,t=e.skillType,l=e.skillId,i=e.selectSkill,o=e.filter,c=e.maxSkill,u=(0,s.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]),d=function(e){var n=e.heroId,t=e.skillType,l=e.filter,i=e.maxSkill,o=(0,r.K)(),a=o.rules2DB,c=o.heroDB,u=o["".concat(t,"DB")],d=(0,s.useMemo)((function(){return O({rules2DB:a,heroDB:c,skillDB:u,heroId:n})}),[a,c,u,n]);return{options:(0,s.useMemo)((function(){return d.filter((function(e){return!(i&&!e.last)&&(!l||e.query.includes(l.toLowerCase()))}))}),[d,l,i])}}({heroId:n,skillType:t,skillId:l,filter:o,maxSkill:c}).options,h=(0,s.useMemo)((function(){return{skillId:l,skills:d,onClick:u}}),[l,d,u]),p=(0,s.useCallback)((function(e){var n=d[e],t=40;return(n.mt||n.cd)&&(t+=24),(n.hp||n.atk||n.spd||n.def||n.res)&&(t+=24),n.exclusive&&(t+=24),t+=18}),[d]),f=(0,s.useCallback)((function(e){return d[e].id}),[d]);return(0,a.jsx)(fr.Z,{children:function(e){var n=e.width,t=e.height;return(0,a.jsx)(pr.S_,{width:n,height:t,itemCount:d.length,itemSize:p,itemData:h,itemKey:f,children:xr},d.length)}})}var mr=(0,s.memo)(gr);function jr(e){var n=e.heroId,t=e.skillType,r=e.skillId,l=e.selectSkill,i=e.filter,s=e.maxSkill;return(0,a.jsxs)(Wn,{children:[(0,a.jsx)(Zt,{active:!r,value:"",onClick:function(){return l("")},children:"\u7121\u6280\u80fd"}),(0,a.jsx)(mr,{heroId:n,skillType:t,skillId:r,selectSkill:l,filter:i,maxSkill:s})]})}var br=(0,s.memo)(jr);var yr=function(e){var n=e.hidden,t=e.skillType,r=e.title,l=e.onClickBack,i=e.heroId,o=e.skillId,c=e.selectSkill,u=e.maxSkill,d=e.toggleMaxSkill,h=e.setDefaultSkill,p=(0,s.useState)(""),f=p[0],k=p[1],v=(0,s.useCallback)((function(e){k(e.currentTarget.value)}),[]),x=(0,s.useCallback)((function(e){c(e),l()}),[c,l]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:l}),(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:r}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Sn,{checked:u,onChange:d,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),h&&(0,a.jsx)(Tn,{onClick:h})]})]})]}),(0,a.jsx)("input",{className:_n().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:v}),(0,a.jsx)(Kn,{children:(0,a.jsx)(br,{heroId:i,skillType:t,skillId:o,selectSkill:x,filter:f,maxSkill:u})})]})};function Br(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Br(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Br(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Dr(e){var n=e.heroId,t=e.filter,l=e.maxSkill,i=(0,r.K)(),o=i.rules2DB,a=i.heroDB,c=i.assistDB,u=(0,s.useMemo)((function(){return function(e){var n=e.rules2DB,t=e.heroDB,r=e.assistDB,l=e.heroId;if(!n||!t||!r||!l)return[];var i=(0,x.cK)(t,l);return i?Object.values(r).filter((function(e){return e.exclusive?e.exclusive.includes(l):j({rules2DB:n,ruleId:e.rules,moveType:i.moveType,colorType:i.colorType,weaponType:i.weaponType})})).map((function(e){var n="".concat(e.id.toLowerCase(),"|").concat(e.name);return y(y({},e),{},{query:n})})):[]}({rules2DB:o,heroDB:a,assistDB:c,heroId:n})}),[o,a,c,n]);return{options:(0,s.useMemo)((function(){return u.map((function(e){var n=!1;return l&&!e.last&&(n=!0),!n&&t&&(n=!e.query.includes(t.toLowerCase())),wr(wr({},e),{},{hidden:n})}))}),[u,t,l])}}function Cr(e){var n=e.active,t=e.hidden,r=e.assist,l=e.onClick;return(0,a.jsxs)(Zt,{active:n,last:r.last,hidden:t,value:r.id,onClick:l,children:[(0,a.jsxs)(zn,{children:[(0,a.jsx)(Ln,{children:r.name}),(0,a.jsxs)(Un,{children:[r.sp,"SP"]})]}),r.exclusive&&(0,a.jsx)(Gn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var Sr=(0,s.memo)(Cr),Or=["hidden"];function Ir(e){var n=e.heroId,t=e.assist,r=e.selectAssist,l=Dr({heroId:n,filter:e.filter,maxSkill:e.maxSkill}).options,o=(0,s.useCallback)((function(e){e.stopPropagation(),r(e.currentTarget.value)}),[r]);return(0,a.jsxs)(Wn,{children:[(0,a.jsx)(Zt,{active:!t,value:"",onClick:o,children:"\u7121\u6280\u80fd"}),l.map((function(e){var n=e.hidden,r=(0,i.Z)(e,Or);return(0,a.jsx)(Sr,{hidden:n,active:t===r.id,assist:r,onClick:o},r.id)}))]})}var Pr=(0,s.memo)(Ir);var Ar=function(e){var n=e.hidden,t=e.onClickBack,r=e.heroId,l=e.assist,i=e.selectAssist,o=e.maxSkill,c=e.toggleMaxSkill,u=e.setDefaultSkill,d=(0,s.useState)(""),h=d[0],p=d[1],f=(0,s.useCallback)((function(e){p(e.currentTarget.value)}),[]),k=(0,s.useCallback)((function(e){i(e),t()}),[i,t]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:t}),(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:"\u652f\u63f4"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Sn,{checked:o,onChange:c,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),u&&(0,a.jsx)(Tn,{onClick:u})]})]})]}),(0,a.jsx)("input",{className:_n().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:f}),(0,a.jsx)(Kn,{children:(0,a.jsx)(Pr,{heroId:r,assist:l,selectAssist:k,filter:h,maxSkill:o})})]})};function _r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Tr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_r(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Mr(e){var n=e.heroId,t=e.filter,l=e.maxSkill,i=(0,r.K)(),o=i.rules2DB,a=i.heroDB,c=i.specialDB,u=(0,s.useMemo)((function(){return function(e){var n=e.rules2DB,t=e.heroDB,r=e.specialDB,l=e.heroId;if(!n||!t||!r||!l)return[];var i=(0,x.cK)(t,l);return i?Object.values(r).filter((function(e){return e.exclusive?e.exclusive.includes(l):j({rules2DB:n,ruleId:e.rules,moveType:i.moveType,colorType:i.colorType,weaponType:i.weaponType})})).map((function(e){var n="".concat(e.id.toLowerCase(),"|").concat(e.name);return _(_({},e),{},{query:n})})):[]}({rules2DB:o,heroDB:a,specialDB:c,heroId:n})}),[o,a,c,n]);return{options:(0,s.useMemo)((function(){return u.map((function(e){var n=!1;return l&&!e.last&&(n=!0),!n&&t&&(n=!e.query.includes(t.toLowerCase())),Tr(Tr({},e),{},{hidden:n})}))}),[u,t,l])}}function Er(e){var n=e.active,t=e.hidden,r=e.special,l=e.onClick;return(0,a.jsxs)(Zt,{active:n,last:r.last,hidden:t,value:r.id,onClick:l,children:[(0,a.jsxs)(zn,{children:[(0,a.jsx)(Ln,{children:r.name}),(0,a.jsxs)(Un,{children:[r.sp,"SP"]})]}),(0,a.jsxs)("div",{children:["CD ",r.cd]}),r.exclusive&&(0,a.jsx)(Gn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var Nr=(0,s.memo)(Er),Zr=["hidden"];function Rr(e){var n=e.heroId,t=e.special,r=e.selectSpecial,l=Mr({heroId:n,filter:e.filter,maxSkill:e.maxSkill}).options,o=(0,s.useCallback)((function(e){e.stopPropagation(),r(e.currentTarget.value)}),[r]);return(0,a.jsxs)(Wn,{children:[(0,a.jsx)(Zt,{active:!t,value:"",onClick:o,children:"\u7121\u6280\u80fd"}),l.map((function(e){var n=e.hidden,r=(0,i.Z)(e,Zr);return(0,a.jsx)(Nr,{hidden:n,active:t===r.id,special:r,onClick:o},r.id)}))]})}var Hr=(0,s.memo)(Rr);var Fr=function(e){var n=e.hidden,t=e.onClickBack,r=e.heroId,l=e.special,i=e.selectSpecial,o=e.maxSkill,c=e.toggleMaxSkill,u=e.setDefaultSkill,d=(0,s.useState)(""),h=d[0],p=d[1],f=(0,s.useCallback)((function(e){p(e.currentTarget.value)}),[]),k=(0,s.useCallback)((function(e){i(e),t()}),[i,t]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:t}),(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:"\u5967\u7fa9"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(Sn,{checked:o,onChange:c,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),u&&(0,a.jsx)(Tn,{onClick:u})]})]})]}),(0,a.jsx)("input",{className:_n().input,placeholder:"\u5967\u7fa9\u540d\u7a31",onChange:f}),(0,a.jsx)(Kn,{children:(0,a.jsx)(Hr,{heroId:r,special:l,selectSpecial:k,filter:h,maxSkill:o})})]})},Kr=t(907);var Wr=t(181);function zr(e){return function(e){if(Array.isArray(e))return(0,Kr.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,Wr.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lr(e){var n=e.active,t=e.hidden,r=e.skill,l=e.onClick;return(0,a.jsxs)(Zt,{active:n,last:r.last,hidden:t,value:r.id,onClick:l,children:[(0,a.jsxs)(zn,{children:[(0,a.jsxs)(Ln,{children:[r.icon&&(0,a.jsx)(qn,{src:"/skills/".concat(r.icon)}),r.name]}),r.sp&&(0,a.jsxs)(Vn,{children:[r.sp,"SP"]})]}),r.mt&&(0,a.jsxs)(Yn,{children:["\u5a01\u529b ",r.mt]}),r.cd&&(0,a.jsxs)(Xn,{cd:r.cd,children:["\u5967\u7fa9 cd",$n(r.cd)]}),(0,a.jsxs)(Jn,{children:[r.hp&&(0,a.jsxs)(Qn,{children:["HP ",$n(r.hp)]}),r.atk&&(0,a.jsxs)(Qn,{children:["\u653b\u64ca ",$n(r.atk)]}),r.spd&&(0,a.jsxs)(Qn,{children:["\u901f\u5ea6 ",$n(r.spd)]}),r.def&&(0,a.jsxs)(Qn,{children:["\u9632\u5b88 ",$n(r.def)]}),r.res&&(0,a.jsxs)(Qn,{children:["\u9b54\u9632 ",$n(r.res)]})]}),r.exclusive&&(0,a.jsx)(Gn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var Vr=(0,s.memo)(Lr);function qr(e){var n=e.index,t=e.style,r=e.data,l=r.seal,i=r.skills,s=r.onClick,o=i[n];return"_sealA"===o.id?(0,a.jsx)("div",{style:t,children:(0,a.jsx)(et,{children:"A\u6280\u80fd\u8056\u5370"})}):"_sealB"===o.id?(0,a.jsx)("div",{style:t,children:(0,a.jsx)(et,{children:"B\u6280\u80fd\u8056\u5370"})}):"_sealC"===o.id?(0,a.jsx)("div",{style:t,children:(0,a.jsx)(et,{children:"C\u6280\u80fd\u8056\u5370"})}):"_seal"===o.id?(0,a.jsx)("div",{style:t,children:(0,a.jsx)(et,{children:"\u5c08\u7528\u8056\u5370"})}):(0,a.jsx)("div",{style:t,children:(0,a.jsx)(Vr,{active:l===o.id,skill:o,onClick:s},o.id)})}function Ur(e){var n=e.heroId,t=e.seal,l=e.selectSeal,i=e.filter,o=e.maxSkill,c=(0,s.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]),u=function(e){var n=e.heroId,t=e.filter,l=e.maxSkill,i=(0,r.K)(),o=i.rules2DB,a=i.heroDB,c=i.sealDB,u=(0,s.useMemo)((function(){var e=O({rules2DB:o,heroDB:a,skillDB:c.skillA,heroId:n}),t=O({rules2DB:o,heroDB:a,skillDB:c.skillB,heroId:n}),r=O({rules2DB:o,heroDB:a,skillDB:c.skillC,heroId:n}),l=O({rules2DB:o,heroDB:a,skillDB:c.seal,heroId:n});return[{id:"_sealA",name:"A\u6280\u80fd\u8056\u5370",sp:0,icon:"",query:""}].concat(zr(e),[{id:"_sealB",name:"B\u6280\u80fd\u8056\u5370",sp:0,icon:"",query:""}],zr(t),[{id:"_sealC",name:"C\u6280\u80fd\u8056\u5370",sp:0,icon:"",query:""}],zr(r),[{id:"_seal",name:"\u5c08\u7528\u8056\u5370",sp:0,icon:"",query:""}],zr(l))}),[o,a,c,n]);return{options:(0,s.useMemo)((function(){return u.filter((function(e){return!!["_sealA","_sealB","_sealC","_seal"].includes(e.id)||!(l&&!e.last)&&(!t||e.query.includes(t.toLowerCase()))}))}),[u,t,l])}}({heroId:n,filter:i,maxSkill:o}).options,d=(0,s.useMemo)((function(){return{seal:t,skills:u,onClick:c}}),[t,u,c]),h=(0,s.useCallback)((function(e){var n=u[e];if(["_sealA","_sealB","_sealC","_seal"].includes(n.id))return 44;var t=40;return(n.mt||n.cd)&&(t+=24),(n.hp||n.atk||n.spd||n.def||n.res)&&(t+=24),n.exclusive&&(t+=24),t+=18}),[u]),p=(0,s.useCallback)((function(e){return u[e].id}),[u]);return(0,a.jsx)(fr.Z,{children:function(e){var n=e.width,t=e.height;return(0,a.jsx)(pr.S_,{width:n,height:t,itemCount:u.length,itemSize:h,itemData:d,itemKey:p,children:qr},u.length)}})}var Yr=(0,s.memo)(Ur);function Jr(e){var n=e.heroId,t=e.seal,r=e.selectSeal,l=e.filter,i=e.maxSkill,o=(0,s.useCallback)((function(e){e.stopPropagation(),r(e.currentTarget.value)}),[r]);return(0,a.jsxs)(Wn,{children:[(0,a.jsx)(Zt,{active:!t,value:"",onClick:o,children:"\u7121\u8056\u5370"}),(0,a.jsx)(Yr,{heroId:n,seal:t,selectSeal:r,filter:l,maxSkill:i})]})}var Qr=(0,s.memo)(Jr);var Xr=function(e){var n=e.hidden,t=e.onClickBack,r=e.heroId,l=e.seal,i=e.selectSeal,o=e.maxSkill,c=e.toggleMaxSkill,u=(0,s.useState)(""),d=u[0],h=u[1],p=(0,s.useCallback)((function(e){h(e.currentTarget.value)}),[]),f=(0,s.useCallback)((function(e){i(e),t()}),[i,t]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:t}),(0,a.jsxs)(Nn,{children:[(0,a.jsx)("span",{children:"\u8056\u5370"}),(0,a.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,a.jsx)(Sn,{checked:o,onChange:c,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"})})]})]}),(0,a.jsx)("input",{className:_n().input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:p}),(0,a.jsx)(Kn,{children:(0,a.jsx)(Qr,{heroId:r,seal:l,selectSeal:f,filter:d,maxSkill:o})})]})},Gr=t(9658),$r=t.n(Gr),el=function(e){var n=e.bonus,t=e.selectBonus,r=(0,s.useCallback)((function(e){e.stopPropagation(),t(e.currentTarget.value)}),[t]);return(0,a.jsxs)("div",{className:$r().container,children:[(0,a.jsx)("button",{className:$r()["neutral-button"],"data-active":!n,value:"",onClick:r,children:"-"}),kn.map((function(e){return(0,a.jsx)("button",{className:$r()["bonus-button"],"data-active":n===e.value,value:e.value,onClick:r,children:e.name},e.value)}))]})};var nl=function(e){var n=e.hidden,t=e.title,r=e.bonus,l=e.selectBonus,i=e.onClickBack,o=(0,s.useCallback)((function(e){l(e),i()}),[l,i]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:i}),t]}),(0,a.jsx)(el,{bonus:r,selectBonus:o})]})},tl=t(3505),rl=t.n(tl),ll=function(e){var n=e.bloom,t=e.selectBloom,r=(0,s.useCallback)((function(e){e.stopPropagation(),t(e.currentTarget.value)}),[t]);return(0,a.jsxs)("div",{className:rl().container,children:[(0,a.jsx)("button",{className:rl()["neutral-button"],"data-active":!n,value:"",onClick:r,children:"-"}),xn.map((function(e){return(0,a.jsx)("button",{className:rl()["bloom-button"],"data-active":n===e.value,value:e.value,onClick:r,children:e.name},e.value)}))]})};var il=function(e){var n=e.hidden,t=e.title,r=e.bloom,l=e.setBloom,i=e.onClickBack,o=(0,s.useCallback)((function(e){l(e),i()}),[l,i]);return(0,a.jsxs)(Mn,{hidden:n,children:[(0,a.jsxs)(En,{children:[(0,a.jsx)(xt,{onClick:i}),t]}),(0,a.jsx)(ll,{bloom:r,selectBloom:o})]})};var sl=function(){var e=(0,s.useState)(""),n=e[0],t=e[1],r=(0,s.useCallback)((function(){t("hero")}),[]),l=(0,s.useCallback)((function(){t("rarity")}),[]),i=(0,s.useCallback)((function(){t("iv")}),[]),o=(0,s.useCallback)((function(){t("merge")}),[]),a=(0,s.useCallback)((function(){t("dragonflower")}),[]),c=(0,s.useCallback)((function(){t("blessing")}),[]),u=(0,s.useCallback)((function(){t("weapon")}),[]),d=(0,s.useCallback)((function(){t("refine")}),[]),h=(0,s.useCallback)((function(){t("assist")}),[]),p=(0,s.useCallback)((function(){t("special")}),[]),f=(0,s.useCallback)((function(){t("skillA")}),[]),k=(0,s.useCallback)((function(){t("skillB")}),[]),v=(0,s.useCallback)((function(){t("skillC")}),[]),x=(0,s.useCallback)((function(){t("seal")}),[]),g=(0,s.useCallback)((function(){t("mythic1")}),[]),m=(0,s.useCallback)((function(){t("mythic2")}),[]),j=(0,s.useCallback)((function(){t("mythic3")}),[]),b=(0,s.useCallback)((function(){t("mythic4")}),[]);return{view:n,openHeroPicker:r,openRarityPicker:l,openIVPicker:i,openMergePicker:o,openDragonflowerPicker:a,openBlessingPicker:c,openBloomPicker:(0,s.useCallback)((function(){t("bloom")}),[]),openWeaponPicker:u,openRefinePicker:d,openAssistPicker:h,openSpecialPicker:p,openSkillAPicker:f,openSkillBPicker:k,openSkillCPicker:v,openSealPicker:x,openMythicBonus1:g,openMythicBonus2:m,openMythicBonus3:j,openMythicBonus4:b,onClickBack:(0,s.useCallback)((function(){t("")}),[])}};function ol(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function al(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ol(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ol(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var cl=function(e){var n=sl(),t=n.view,r=n.openHeroPicker,l=n.openRarityPicker,i=n.openIVPicker,s=n.openMergePicker,o=n.openDragonflowerPicker,c=n.openBlessingPicker,u=n.openBloomPicker,d=n.openWeaponPicker,h=n.openRefinePicker,p=n.openAssistPicker,f=n.openSpecialPicker,k=n.openSkillAPicker,v=n.openSkillBPicker,x=n.openSkillCPicker,g=n.openSealPicker,m=n.openMythicBonus1,j=n.openMythicBonus2,b=n.openMythicBonus3,y=n.openMythicBonus4,B=n.onClickBack;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ht,al(al({hidden:!!t},e),{},{openHeroPicker:r,openRarityPicker:l,openIVPicker:i,openMergePicker:s,openDragonflowerPicker:o,openBlessingPicker:c,openWeaponPicker:d,openRefinePicker:h,openAssistPicker:p,openSpecialPicker:f,openSkillAPicker:k,openSkillBPicker:v,openSkillCPicker:x,openSealPicker:g,openMythicBonus1:m,openMythicBonus2:j,openMythicBonus3:b,openMythicBonus4:y,openBloomPicker:u})),(0,a.jsx)(jt,{hidden:"hero"!==t,heroId:e.heroId,onChangeHero:e.onChangeHero,onClickBack:B,resplendent:e.resplendent}),(0,a.jsx)(yt,{hidden:"rarity"!==t,rarity:e.rarity,selectRarity:e.setRarity,onClickBack:B}),(0,a.jsx)(Ct,{hidden:"iv"!==t,iv:e.iv,selectIV:e.setIV,onClickBack:B}),(0,a.jsx)(Pt,{hidden:"blessing"!==t,blessing:e.blessing,selectBlessing:e.setBlessing,onClickBack:B}),(0,a.jsx)(_t,{hidden:"merge"!==t,merge:e.merge,selectMerge:e.setMerge,onClickBack:B}),(0,a.jsx)(Nt,{hidden:"dragonflower"!==t,dragonflower:e.dragonflower,selectDragonflower:e.setDragonflower,onClickBack:B}),(0,a.jsx)($t,{hidden:"weapon"!==t,onClickBack:B,heroId:e.heroId,weapon:e.weapon,selectWeapon:e.setWeapon,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultWeapon}),(0,a.jsx)(hr,{hidden:"refine"!==t,onClickBack:B,heroId:e.heroId,weapon:e.weapon,refine:e.refine,selectRefine:e.setRefine}),(0,a.jsx)(Ar,{hidden:"assist"!==t,onClickBack:B,heroId:e.heroId,assist:e.assist,selectAssist:e.setAssist,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultAssist}),(0,a.jsx)(Fr,{title:"A\u6280\u80fd",hidden:"special"!==t,onClickBack:B,heroId:e.heroId,special:e.special,selectSpecial:e.setSpecial,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSpecial}),(0,a.jsx)(yr,{skillType:"skillA",title:"A\u6280\u80fd",hidden:"skillA"!==t,onClickBack:B,heroId:e.heroId,skillId:e.skillA,selectSkill:e.setSkillA,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillA}),(0,a.jsx)(yr,{skillType:"skillB",title:"B\u6280\u80fd",hidden:"skillB"!==t,onClickBack:B,heroId:e.heroId,skillId:e.skillB,selectSkill:e.setSkillB,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillB}),(0,a.jsx)(yr,{skillType:"skillC",title:"C\u6280\u80fd",hidden:"skillC"!==t,onClickBack:B,heroId:e.heroId,skillId:e.skillC,selectSkill:e.setSkillC,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillC}),(0,a.jsx)(Xr,{hidden:"seal"!==t,onClickBack:B,heroId:e.heroId,seal:e.skillC,selectSeal:e.setSeal,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill}),(0,a.jsx)(nl,{hidden:"mythic1"!==t,title:"\u795e\u968e1",onClickBack:B,bonus:e.mythicBonus1,selectBonus:e.setMythicBonus1}),(0,a.jsx)(nl,{hidden:"mythic2"!==t,title:"\u795e\u968e2",onClickBack:B,bonus:e.mythicBonus2,selectBonus:e.setMythicBonus2}),(0,a.jsx)(nl,{hidden:"mythic3"!==t,title:"\u795e\u968e3",onClickBack:B,bonus:e.mythicBonus3,selectBonus:e.setMythicBonus3}),(0,a.jsx)(nl,{hidden:"mythic4"!==t,title:"\u795e\u968e4",onClickBack:B,bonus:e.mythicBonus4,selectBonus:e.setMythicBonus4}),(0,a.jsx)(il,{hidden:"bloom"!==t,title:"\u7dbb\u653e",onClickBack:B,bloom:e.bloom,setBloom:e.setBloom})]})},ul={weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""};function dl(){var e=(0,r.K)(),n=e.rules2DB,t=e.heroDB,l=e.weaponDB,i=e.assistDB,o=e.specialDB,a=e.skillADB,c=e.skillBDB,u=e.skillCDB,d=e.sealDB,h=e.defaultSkillDB,p=(0,s.useState)("Feh"),f=p[0],k=p[1],g=(0,s.useState)(5),m=g[0],b=g[1],y=(0,s.useState)(""),B=y[0],w=y[1],D=(0,s.useState)(0),C=D[0],S=D[1],O=(0,s.useState)(0),P=O[0],A=O[1],_=(0,s.useState)(""),T=_[0],M=_[1],E=(0,s.useState)(!1),N=E[0],Z=E[1],R=(0,s.useCallback)((function(){Z((function(e){return!e}))}),[]),F=(0,s.useState)(""),K=F[0],W=F[1],z=(0,s.useRef)({weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""}),V=(0,s.useRef)(""),q=(0,s.useRef)(""),U=(0,s.useState)(""),Y=U[0],J=U[1],Q=(0,s.useState)(""),X=Q[0],G=Q[1],$=(0,s.useState)(""),ee=$[0],ne=$[1],te=(0,s.useState)(""),re=te[0],le=te[1],ie=(0,s.useState)(""),se=ie[0],oe=ie[1],ae=(0,s.useState)(""),ce=ae[0],ue=ae[1],de=(0,s.useState)(""),he=de[0],pe=de[1],fe=(0,s.useState)(""),ke=fe[0],ve=fe[1],xe=(0,s.useState)(""),ge=xe[0],me=xe[1],je=(0,s.useState)(""),be=je[0],ye=je[1],Be=(0,s.useState)(""),we=Be[0],De=Be[1],Ce=(0,s.useState)(""),Se=Ce[0],Oe=Ce[1],Ie=(0,s.useCallback)((function(){J(z.current.weapon),G((function(e){return L({heroDB:t,weaponDB:l,heroId:V.current,weaponId:z.current.weapon,refineId:e})?e:""}))}),[t,l]),Pe=(0,s.useCallback)((function(e){J(e),G((function(n){return L({heroDB:t,weaponDB:l,heroId:V.current,weaponId:e,refineId:n})?n:""}))}),[t,l]),Ae=(0,s.useCallback)((function(){ne(z.current.assist)}),[]),_e=(0,s.useCallback)((function(){le(z.current.special)}),[]),Te=(0,s.useCallback)((function(){oe(z.current.skillA)}),[]),Me=(0,s.useCallback)((function(){ue(z.current.skillB)}),[]),Ee=(0,s.useCallback)((function(){pe(z.current.skillC)}),[]),Ne=(0,s.useCallback)((function(){Ie(),Ae(),_e(),Te(),Me(),Ee()}),[Ie,Ae,_e,Te,Me,Ee]);V.current=f,q.current=Y;var Ze=(0,s.useCallback)((function(e){k(e),z.current=function(e){var n=e.defaultSkillDB,t=e.heroId;if(!n||!t||!n[t])return ul;var r=n[t],l="",i="",s="",o="",a="",c="";return r.weapon&&(l=Object.keys(r.weapon).pop()),r.assist&&(i=Object.keys(r.assist).pop()),r.special&&(s=Object.keys(r.special).pop()),r.skillA&&(o=Object.keys(r.skillA).pop()),r.skillB&&(a=Object.keys(r.skillB).pop()),r.skillC&&(c=Object.keys(r.skillC).pop()),{weapon:l,assist:i,special:s,skillA:o,skillB:a,skillC:c}}({defaultSkillDB:h,heroId:e}),J((function(){return H({heroDB:t,weaponDB:l,heroId:e,weaponId:q.current})?q.current:""})),G((function(n){return L({heroDB:t,weaponDB:l,heroId:e,weaponId:q.current,refineId:n})?n:""})),ne((function(r){return function(e){var n=e.rules2DB,t=e.heroDB,r=e.assistDB,l=e.heroId,i=e.assistId;if(!n||!t||!r||!l||!i)return!1;var s=(0,x.cK)(t,l);if(!s)return!1;var o=r[i];return!!o&&(o.exclusive?o.exclusive.includes(l):j({rules2DB:n,ruleId:o.rules,moveType:s.moveType,colorType:s.colorType,weaponType:s.weaponType}))}({rules2DB:n,heroDB:t,assistDB:i,heroId:e,assistId:r})?r:""})),le((function(r){return function(e){var n=e.rules2DB,t=e.heroDB,r=e.specialDB,l=e.heroId,i=e.specialId;if(!n||!t||!r||!l||!i)return!1;var s=(0,x.cK)(t,l);if(!s)return!1;var o=r[i];return!!o&&(o.exclusive?o.exclusive.includes(l):j({rules2DB:n,ruleId:o.rules,moveType:s.moveType,colorType:s.colorType,weaponType:s.weaponType}))}({rules2DB:n,heroDB:t,specialDB:o,heroId:e,specialId:r})?r:""})),oe((function(r){return I({rules2DB:n,heroDB:t,skillDB:a,heroId:e,skillId:r})?r:""})),ue((function(r){return I({rules2DB:n,heroDB:t,skillDB:c,heroId:e,skillId:r})?r:""})),pe((function(r){return I({rules2DB:n,heroDB:t,skillDB:u,heroId:e,skillId:r})?r:""})),ve((function(r){return function(e){var n=e.rules2DB,t=e.heroDB,r=e.sealDB,l=e.heroId,i=e.sealId;if(!t||!r||!l||!i)return!1;var s=(0,x.cK)(t,l);if(!s)return!1;var o=r.skillA[i]||r.skillB[i]||r.skillC[i]||r.seal[i];return!!o&&j({rules2DB:n,ruleId:o.rules,moveType:s.moveType,colorType:s.colorType,weaponType:s.weaponType})}({rules2DB:n,heroDB:t,sealDB:d,heroId:e,sealId:r})?r:""}));var r="mythic"===(0,x.cK)(t,e).pool;me((function(e){return r?"":e})),ye((function(e){return r?"":e})),De((function(e){return r?"":e})),Oe((function(e){return r?"":e}))}),[n,t,l,i,o,a,c,u,d,h]),Re=(0,s.useState)(!1),He=Re[0],Fe=Re[1],Ke=(0,s.useCallback)((function(){Fe((function(e){return!e}))}),[]),We=(0,s.useState)(!1),ze=We[0],Le=We[1],Ve=(0,s.useCallback)((function(){Le((function(e){return!e}))}),[]),qe=(0,s.useState)(!1),Ue=qe[0],Ye=qe[1],Je=(0,s.useCallback)((function(){Ye((function(e){return!e}))}),[]),Qe=(0,s.useState)(!0),Xe=Qe[0],Ge=Qe[1],$e=(0,s.useCallback)((function(){Ge((function(e){return!e}))}),[]),en=(0,s.useState)(!1),nn=en[0],tn=en[1],rn=(0,s.useCallback)((function(){tn(!0)}),[]),ln=(0,s.useCallback)((function(){tn(!1)}),[]),sn=(0,v.Z)("/assets/summon-stone.jpg");return{heroId:f,onChangeHero:Ze,rarity:m,setRarity:b,iv:B,setIV:w,merge:C,setMerge:S,dragonflower:P,setDragonflower:A,blessing:T,setBlessing:M,support:N,toggleSupport:R,arena:He,toggleArena:Ke,resplendent:ze,toggleResplendent:Ve,bloom:K,setBloom:W,weapon:Y,setWeapon:Pe,refine:X,setRefine:G,assist:ee,setAssist:ne,special:re,setSpecial:le,skillA:se,setSkillA:oe,skillB:ce,setSkillB:ue,skillC:he,setSkillC:pe,seal:ke,setSeal:ve,mythicBonus1:ge,setMythicBonus1:me,mythicBonus2:be,setMythicBonus2:ye,mythicBonus3:we,setMythicBonus3:De,mythicBonus4:Se,setMythicBonus4:Oe,setDefaultWeapon:Ie,setDefaultAssist:Ae,setDefaultSpecial:_e,setDefaultSkillA:Te,setDefaultSkillB:Me,setDefaultSkillC:Ee,setAllSkillDefault:Ne,lv1:Ue,toggleLv1:Je,maxSkill:Xe,toggleMaxSkill:$e,bg:sn,editorIsOpen:nn,openEditor:rn,closeEditor:ln}}var hl=t(965),pl=t.n(hl);var fl=function(){var e=dl(),n=e.heroId,t=e.onChangeHero,r=e.rarity,i=e.setRarity,s=e.iv,o=e.setIV,c=e.merge,u=e.setMerge,d=e.dragonflower,h=e.setDragonflower,p=e.blessing,f=e.setBlessing,k=e.support,v=e.toggleSupport,x=e.arena,g=e.toggleArena,m=e.resplendent,j=e.toggleResplendent,b=e.bloom,y=e.setBloom,B=e.weapon,w=e.setWeapon,D=e.refine,C=e.setRefine,S=e.assist,O=e.setAssist,I=e.special,P=e.setSpecial,A=e.skillA,_=e.setSkillA,T=e.skillB,M=e.setSkillB,E=e.skillC,N=e.setSkillC,Z=e.seal,R=e.setSeal,H=e.mythicBonus1,F=e.setMythicBonus1,K=e.mythicBonus2,W=e.setMythicBonus2,z=e.mythicBonus3,L=e.setMythicBonus3,V=e.mythicBonus4,q=e.setMythicBonus4,U=e.setDefaultWeapon,Y=e.setDefaultAssist,J=e.setDefaultSpecial,Q=e.setDefaultSkillA,X=e.setDefaultSkillB,G=e.setDefaultSkillC,$=e.setAllSkillDefault,ee=e.lv1,ne=e.toggleLv1,te=e.maxSkill,re=e.toggleMaxSkill,le=e.bg,ie=e.editorIsOpen,se=e.openEditor,oe=e.closeEditor;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{children:(0,a.jsx)("title",{children:"\u55ae\u5175\u88fd\u9020\u6a5f"})}),(0,a.jsx)("div",{style:{background:"url('".concat(le,"') center / cover no-repeat fixed")},children:(0,a.jsxs)("div",{className:pl().container,children:[(0,a.jsx)("div",{className:pl().viewer,children:(0,a.jsx)(pn,{heroId:n,rarity:r,iv:s,merge:c,dragonflower:d,blessing:p,support:k,arena:x,resplendent:m,mythicBonus1:H,mythicBonus2:K,mythicBonus3:z,mythicBonus4:V,bloom:b,weapon:B,refine:D,assist:S,special:I,skillA:A,skillB:T,skillC:E,seal:Z,lv1:ee,openEditor:se})}),(0,a.jsx)("div",{className:pl().editor,hidden:!ie,children:(0,a.jsx)(cl,{heroId:n,onChangeHero:t,rarity:r,setRarity:i,iv:s,setIV:o,merge:c,setMerge:u,dragonflower:d,setDragonflower:h,blessing:p,setBlessing:f,support:k,toggleSupport:v,arena:x,toggleArena:g,resplendent:m,toggleResplendent:j,bloom:b,setBloom:y,weapon:B,setWeapon:w,refine:D,setRefine:C,assist:S,setAssist:O,special:I,setSpecial:P,skillA:A,setSkillA:_,skillB:T,setSkillB:M,skillC:E,setSkillC:N,seal:Z,setSeal:R,mythicBonus1:H,setMythicBonus1:F,mythicBonus2:K,setMythicBonus2:W,mythicBonus3:z,setMythicBonus3:L,mythicBonus4:V,setMythicBonus4:q,setDefaultWeapon:U,setDefaultAssist:Y,setDefaultSpecial:J,setDefaultSkillA:Q,setDefaultSkillB:X,setDefaultSkillC:G,setAllSkillDefault:$,lv1:ee,toggleLv1:ne,maxSkill:te,toggleMaxSkill:re,closeEditor:oe})})]})})]})};var kl=!0,vl=function(e){var n=e.db;return(0,a.jsx)(r.Q.Provider,{value:n,children:(0,a.jsx)(fl,{})})}},532:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uniteditor",function(){return t(7678)}])},9838:function(e){e.exports={container:"styles_container__1uNtQ","neutral-button":"styles_neutral-button__HXZYg","blessing-button":"styles_blessing-button__m41R8"}},3505:function(e){e.exports={container:"styles_container__2GwaA","neutral-button":"styles_neutral-button__14uxw","bloom-button":"styles_bloom-button__304l1","bonus-button":"styles_bonus-button__9rPsA"}},226:function(e){e.exports={picker:"heropicker_picker__1qgzU"}},4921:function(e){e.exports={container:"styles_container__3csrI","neutral-button":"styles_neutral-button__2Xm3a","iv-button":"styles_iv-button__2PgFW"}},9658:function(e){e.exports={container:"styles_container__2Avf5","neutral-button":"styles_neutral-button__3dVkm","bonus-button":"styles_bonus-button__1pzC1"}},1946:function(e){e.exports={button:"editor_button__2bje7",title:"editor_title__38fof","title-textgroup":"editor_title-textgroup__1ohLJ",content:"editor_content__1OtHF",section:"editor_section__f2th3","section-group":"editor_section-group__242gp","hero-header":"editor_hero-header__rwTMX","button-content":"editor_button-content__3umvY","editor-img":"editor_editor-img__1daYT","close-button":"editor_close-button__3FeSO",container:"editor_container__3yfjQ",input:"editor_input__16kLJ",options:"editor_options__2QYDS"}},9517:function(e){e.exports={label:"labelcheckbox_label__1h2GM","label-checkbox":"labelcheckbox_label-checkbox__3dshW"}},3196:function(e){e.exports={canvas:"UnitViewer_canvas__ZU91i",container:"UnitViewer_container__2EDNF",button:"UnitViewer_button__1Aa1C",download:"UnitViewer_download__2J1oh",menu:"UnitViewer_menu__3HcnP"}},965:function(e){e.exports={container:"UnitEditor_container__1PG6T",viewer:"UnitEditor_viewer__2ZQQp",editor:"UnitEditor_editor__36g2J"}}},function(e){e.O(0,[223,424,909,451,774,888,179],(function(){return n=532,e(e.s=n);var n}));var n=e.O();_N_E=n}]);