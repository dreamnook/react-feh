(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{161:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/arenacalc",function(){return t(4700)}])},4882:function(e,n,t){"use strict";var s=t(5893),r=t(7294),i=t(7413),l=t(2718),a=t(5497),o=t.n(a);n.Z=function(e){var n=e.blessing,t=(0,r.useMemo)((function(){return(0,i.QJ)(n)}),[n]),a=t.src,c=t.name;return(0,s.jsxs)("div",{className:o().blessing,children:[a&&(0,s.jsx)(l.Z,{src:a,loading:"lazy",width:"50px",height:"50px"}),(0,s.jsx)("div",{className:o()["blessing-name"],children:c})]})}},437:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var s=t(5893);t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=function(e){return(0,s.jsxs)("svg",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){r(e,n,t[n])}))}return e}({width:"24",height:"24",viewBox:"0 0 24 24"},e,{children:[(0,s.jsx)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),(0,s.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}))};var l=function(e){var n=e.onClick;return(0,s.jsx)("button",{onClick:n,style:{backgroundColor:"transparent",display:"block"},children:(0,s.jsx)(i,{fill:"white"})})}},5493:function(e,n,t){"use strict";var s=t(5893),r=t(7294),i=t(7413),l=t(4882),a=t(2884),o=t.n(a);n.Z=function(e){var n=e.blessing,t=e.selectBlessing,a=(0,r.useCallback)((function(e){e.stopPropagation(),t(e.currentTarget.value)}),[t]);return(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsx)("button",{className:o()["neutral-button"],"data-active":!n,value:"",onClick:a,children:"-"}),i.YM.map((function(e){return(0,s.jsx)("button",{className:o()["blessing-button"],"data-active":n===e.value,value:e.value,onClick:a,children:(0,s.jsx)(l.Z,{blessing:e.value})},e.value)}))]})}},4326:function(e,n,t){"use strict";var s=t(5893),r=t(7294),i=t(9298),l=t(5711),a=t.n(l);n.Z=function(e){var n=e.iv,t=e.selectIV,l=(0,r.useCallback)((function(e){e.stopPropagation(),t(e.currentTarget.value)}),[t]);return(0,s.jsxs)("div",{className:a().container,children:[(0,s.jsx)("button",{className:a()["neutral-button"],"data-active":!n,value:"",onClick:l,children:"-"}),i.YM.map((function(e){return(0,s.jsx)("button",{className:a()["iv-button"],"data-active":n===e.value,value:e.value,onClick:l,children:e.name},e.value)}))]})}},3511:function(e,n,t){"use strict";t.d(n,{W2:function(){return l},Dx:function(){return a},dH:function(){return o},VY:function(){return c},P9:function(){return u},M9:function(){return d},BQ:function(){return h},qn:function(){return b},Ei:function(){return p},DK:function(){return f}});var s=t(5893),r=t(5767),i=t.n(r);function l(e){var n=e.hidden,t=e.style,r=e.children;return(0,s.jsx)("div",{hidden:n,className:i().container,style:t,children:r})}function a(e){var n=e.children,t=e.style;return(0,s.jsx)("div",{className:i().title,style:t,children:n})}function o(e){var n=e.children;return(0,s.jsx)("div",{className:i()["title-textgroup"],children:n})}function c(e){var n=e.children;return(0,s.jsx)("div",{className:i().content,children:n})}function u(e){var n=e.children;return(0,s.jsx)("div",{className:i()["section-group"],children:n})}function d(e){var n=e.children,t=e.disabled,r=e.onClick;return(0,s.jsx)("button",{className:"".concat(i().button," ").concat(i().section),disabled:t,onClick:r,children:n})}function h(e){var n=e.children,t=e.style;return(0,s.jsx)("div",{className:i()["button-content"],style:t,children:n})}function b(e){var n=e.children;return(0,s.jsx)("div",{className:i().optionsContainer,children:n})}function p(e){var n=e.children;return(0,s.jsx)("div",{className:i().options,children:n})}function f(e){var n=e.children;return(0,s.jsx)("div",{className:i().subTitle,children:n})}},5703:function(e,n){"use strict";var t={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};n.Z=function(e){var n=e.rarity,s=void 0===n?5:n,r=e.merge,i=e.bst,l=e.spt,a=e.blesser,o=void 0===a?0:a,c=t[s];return 2*(150+c.base+c.float+2*r+Math.floor(i/5)+Math.floor(l/100)+4*o)}},4700:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ne}});var s=t(5893),r=t(9008),i=t(3354),l=t(449),a=t(7294),o=t(5452),c=t(6730),u=t(2278),d=t(5703),h=t(9298),b=t(7413),p=t(8219),f=t(2718),k=t(207),g=t.n(k);function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){v(e,n,t[n])}))}return e}var j=function(e){var n=e.openHeroPicker,t=e.openIVPicker,r=e.openMergePicker,i=e.openSkillPicker,l=e.openBlessingPicker,a=e.onClickMax,o=e.heroInfo,c=e.iv,u=e.merge,d=e.bless,k=e.arenaSkillStateMap,v=e.totalSp,j=e.unitArenaScore,_="Feh"===o.id;return(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:g().heroButton,onClick:n,children:(0,s.jsx)(p.Z,x({},o))}),(0,s.jsxs)("button",{className:g().sectionButton,value:"weapon",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),(0,s.jsx)("span",{children:"\u6b66\u5668"}),(0,s.jsx)("span",{children:k.weapon.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"assist",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),(0,s.jsx)("span",{children:"\u8f14\u52a9"}),(0,s.jsx)("span",{children:k.assist.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"special",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),(0,s.jsx)("span",{children:"\u5967\u7fa9"}),(0,s.jsx)("span",{children:k.special.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"skillA",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),(0,s.jsx)("span",{children:"A\u6280\u80fd"}),(0,s.jsx)("span",{children:k.skillA.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"skillB",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),(0,s.jsx)("span",{children:"B\u6280\u80fd"}),(0,s.jsx)("span",{children:k.skillB.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"skillC",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),(0,s.jsx)("span",{children:"C\u6280\u80fd"}),(0,s.jsx)("span",{children:k.skillC.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"seal",onClick:i,disabled:_,children:[(0,s.jsx)(f.Z,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),(0,s.jsx)("span",{children:"\u8056\u5370"}),(0,s.jsx)("span",{children:k.seal.label})]}),(0,s.jsxs)("button",{className:g().sectionButton,value:"bless",onClick:l,disabled:_||!!o.blesser,children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{children:"\u795d\u798f"}),(0,s.jsx)("span",{children:(0,b.S5)(o.blessing||d)})]}),(0,s.jsxs)("div",{className:g().ivAndMerge,children:[(0,s.jsxs)("button",{value:"iv",onClick:t,disabled:_,children:[(0,s.jsx)("span",{children:"IV"}),(0,s.jsx)("span",{children:(0,h.Zx)(c)})]}),(0,s.jsxs)("button",{value:"merge",onClick:r,disabled:_,children:[(0,s.jsx)("span",{children:"\u7a81\u7834"}),(0,s.jsx)("span",{children:u||null})]})]}),(0,s.jsxs)("div",{className:g().summarySection,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"SP"}),(0,s.jsx)("span",{children:v})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"\u9b25\u6280\u5206"}),(0,s.jsx)("span",{children:j})]})]}),(0,s.jsx)("div",{className:g().maxScore,children:(0,s.jsx)("button",{onClick:a,disabled:_,children:"MAX"})})]})},_=t(4074),B=t(437),m=t(3511);var C=function(e){var n=e.heroId,t=e.onChangeHeroId,r=e.onClickBack;return(0,s.jsxs)("div",{className:g().unitPicker,children:[(0,s.jsxs)(m.Dx,{children:[(0,s.jsx)(B.Z,{onClick:r}),"\u82f1\u96c4"]}),(0,s.jsx)(_.Z,{heroId:n,onSelect:t,noDropdown:!0,menuClassName:g().menu})]})},D=t(3846),S=t(1541),y=t(2683),I=t(1160);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){var n=e.fehDB,t=e.heroId,s={},r=n.heroDB,i=n.weaponDB;return(0,y.CB)({heroDB:r,weaponDB:i,heroId:t}).forEach((function(e){e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp},e.refine&&!e.exclusive&&(s[350]={id:"350",label:"350SP",sp:350}))})),s}function N(e){var n=e.heroId,t=e.fehDB,s={},r=t.rules2DB,i=t.heroDB,l=t.weaponDB,a=t.assistDB,o=t.defaultSkillDB;return(0,D.Gt)({rules2DB:r,heroDB:i,weaponDB:l,assistDB:a,defaultSkillDB:o,heroId:n,weaponId:"",skillXId:""}).forEach((function(e){e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp})})),s}function O(e){var n=e.fehDB,t=e.heroId,s={},r=n.rules2DB,i=n.heroDB,l=n.weaponDB,a=n.specialDB,o=n.defaultSkillDB;return(0,S.TZ)({rules2DB:r,heroDB:i,weaponDB:l,defaultSkillDB:o,specialDB:a,heroId:t,weaponId:"",skillXId:""}).forEach((function(e){e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp})})),s}function M(e){var n=e.fehDB,t=e.skillType,s=e.heroId,r={},i=n.rules2DB,l=n.heroDB,a=n.weaponDB,o=n.defaultSkillDB,c=n["".concat(t,"DB")];return(0,I.AY)({rules2DB:i,heroDB:l,weaponDB:a,defaultSkillDB:o,skillDB:c,heroId:s,weaponId:"",skillXId:""}).forEach((function(e){e.last&&(r[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp},e.bst&&(r["".concat(e.sp,"-duel")]={id:"".concat(e.sp,"-duel"),label:"".concat(e.name," (").concat(e.sp,"SP)"),sp:e.sp,bst:e.bst,bbst:e.bbst}))})),r}function T(e){var n=e.fehDB,t=e.heroId,s={},r=n.rules2DB,i=n.heroDB,l=n.weaponDB,a=n.defaultSkillDB,o=n.sealDB,c=(0,I.AY)({rules2DB:r,heroDB:i,weaponDB:l,defaultSkillDB:a,skillDB:o.skillB,heroId:t,weaponId:"",skillXId:""}),u=(0,I.AY)({rules2DB:r,heroDB:i,weaponDB:l,defaultSkillDB:a,skillDB:o.skillB,heroId:t,weaponId:"",skillXId:""}),d=(0,I.AY)({rules2DB:r,heroDB:i,weaponDB:l,defaultSkillDB:a,skillDB:o.skillC,heroId:t,weaponId:"",skillXId:""}),h=(0,I.AY)({rules2DB:r,heroDB:i,weaponDB:l,defaultSkillDB:a,skillDB:o.seal,heroId:t,weaponId:"",skillXId:""});return P(c).concat(P(u),P(d),P(h)).forEach((function(e){e.last&&(s[e.sp]={id:"".concat(e.sp),label:"".concat(e.sp,"SP"),sp:e.sp})})),s}function Z(e){if(!e)return[];var n=Object.values(e).filter((function(e){return!!e}));return n.push({id:"",label:"-",sp:0}),n.sort((function(e,n){return n.bst>0||e.bst>0?(n.bst||0)-(e.bst||0):n.bbst>0||e.bbst>0?(n.bbst||0)-(e.bbst||0):n.sp-e.sp}))}function E(e){switch(e.skillType){default:return null;case"weapon":return(0,s.jsx)(s.Fragment,{children:"\u6b66\u5668"});case"assist":return(0,s.jsx)(s.Fragment,{children:"\u8f14\u52a9"});case"special":return(0,s.jsx)(s.Fragment,{children:"\u5967\u7fa9"});case"skillA":return(0,s.jsx)(s.Fragment,{children:"A\u6280\u80fd"});case"skillB":return(0,s.jsx)(s.Fragment,{children:"B\u6280\u80fd"});case"skillC":return(0,s.jsx)(s.Fragment,{children:"C\u6280\u80fd"});case"seal":return(0,s.jsx)(s.Fragment,{children:"\u8056\u5370"})}}var F=function(e){var n=e.heroId,t=e.skillType,r=e.arenaSkillState,i=e.onClickBack,l=function(e){var n=e.heroId,t=e.skillType,s=e.onChangeSkill,r=(0,o.K)();return{spList:(0,a.useMemo)((function(){var e;return"weapon"===t&&(e=A({fehDB:r,heroId:n})),"assist"===t&&(e=N({fehDB:r,heroId:n})),"special"===t&&(e=O({fehDB:r,heroId:n})),"skillA"!==t&&"skillB"!==t&&"skillC"!==t||(e=M({fehDB:r,skillType:t,heroId:n})),"seal"===t&&(e=T({fehDB:r,heroId:n})),Z(e)}),[r,n,t]),onClickSkillButton:(0,a.useCallback)((function(e){var n=e.currentTarget.dataset.id,t=e.currentTarget.dataset.label,r=+e.currentTarget.dataset.sp,i=e.currentTarget.dataset.bst,l=e.currentTarget.dataset.bbst;s({id:n,label:t,sp:r,bst:+i||void 0,bbst:+l||void 0})}),[s])}}({heroId:n,skillType:t,onChangeSkill:e.onChangeSkill}),c=l.spList,u=l.onClickSkillButton;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.Dx,{children:[(0,s.jsx)(B.Z,{onClick:i}),(0,s.jsx)(E,{skillType:t})]}),(0,s.jsx)("div",{className:g().spList,children:c.map((function(e){return(0,s.jsx)("button",{type:"button",value:e.id,disabled:e.id===(null===r||void 0===r?void 0:r.id),"data-active":e.id===(null===r||void 0===r?void 0:r.id),"data-id":e.id,"data-label":e.label,"data-sp":e.sp,"data-bst":e.bst,"data-bbst":e.bbst,onClick:u,children:e.label},e.id)}))})]})},V=t(4326);var Y=function(e){var n=e.iv,t=e.onChangeIV,r=e.onClickBack;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.Dx,{children:[(0,s.jsx)(B.Z,{onClick:r}),"IV"]}),(0,s.jsx)("div",{style:{margin:"0 0.25em"},children:(0,s.jsx)(V.Z,{iv:n,selectIV:t})})]})},H=t(9365);var U=function(e){var n=e.merge,t=e.onChangeMerge,r=e.onClickBack;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.Dx,{children:[(0,s.jsx)(B.Z,{onClick:r}),"\u7a81\u7834"]}),(0,s.jsx)(H.Z,{merge:n,onSelect:t})]})},X=t(5493);var L=function(e){var n=e.blessing,t=e.onChangeBlessing,r=e.onClickBack;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.Dx,{children:[(0,s.jsx)(B.Z,{onClick:r}),"\u795d\u798f"]}),(0,s.jsx)(X.Z,{blessing:n,selectBlessing:t})]})};function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){K(e,n,t[n])}))}return e}function J(e){var n=e.unitId,t=e.onChangeScore,s=(0,o.K)(),r=s.heroDB,i=s.dragonflowersDB,l=s.assistDB,h=s.resplendentDB,b=(0,o.K)(),p=(0,a.useState)(""),f=p[0],k=p[1],g=(0,a.useState)("Feh"),v=g[0],x=g[1],j=(0,a.useState)(""),_=j[0],B=j[1],m=(0,a.useState)(0),C=m[0],D=m[1],S=(0,a.useState)(""),y=S[0],I=S[1],w=(0,a.useState)({weapon:{id:"",label:"",sp:0},assist:{id:"",label:"",sp:0},special:{id:"",label:"",sp:0},skillA:{id:"",label:"",sp:0},skillB:{id:"",label:"",sp:0},skillC:{id:"",label:"",sp:0},seal:{id:"",label:"",sp:0}}),P=w[0],E=w[1],F=(0,a.useMemo)((function(){return(0,c.gO)({heroDB:r,dragonflowersDB:i,assistDB:l,resplendentDB:h,heroId:v})}),[l,i,r,v,h]),V=(0,a.useMemo)((function(){var e=(0,c.cK)(r,v),n=(0,u.f)({stats:e.stats,rarity:5,iv:_,merge:C});return G({},F,n.stats)}),[r,v,_,C,F]),Y=(0,a.useMemo)((function(){return function(e){var n=e.heroId,t=e.fehDB,s=Z(A({heroId:n,fehDB:t})),r=Z(N({heroId:n,fehDB:t})),i=Z(O({heroId:n,fehDB:t})),l=Z(M({heroId:n,skillType:"skillA",fehDB:t})),a=Z(M({heroId:n,skillType:"skillB",fehDB:t})),o=Z(M({heroId:n,skillType:"skillC",fehDB:t})),c=Z(T({fehDB:t,heroId:n}));return{weapon:s[0],assist:r[0],special:i[0],skillA:l[0],skillB:a[0],skillC:o[0],seal:c[0]}}({heroId:v,fehDB:b})}),[v,b]),H=(0,a.useCallback)((function(){k("hero")}),[]),U=(0,a.useCallback)((function(){k("iv")}),[]),X=(0,a.useCallback)((function(){k("merge")}),[]),L=(0,a.useCallback)((function(e){k(e.currentTarget.value)}),[]),J=(0,a.useCallback)((function(){k("blessing")}),[]),q=(0,a.useCallback)((function(){k("")}),[]),z=(0,a.useCallback)((function(e){x(e),k(""),E({weapon:{id:"",label:"",sp:0},assist:{id:"",label:"",sp:0},special:{id:"",label:"",sp:0},skillA:{id:"",label:"",sp:0},skillB:{id:"",label:"",sp:0},skillC:{id:"",label:"",sp:0},seal:{id:"",label:"",sp:0}})}),[]),Q=(0,a.useCallback)((function(e){B(e),k("")}),[]),W=(0,a.useCallback)((function(e){D(e),k("")}),[]),R=(0,a.useCallback)((function(e){E((function(n){return G({},n,K({},f,G({},e)))})),k("")}),[f]),$=(0,a.useCallback)((function(e){I(e),k("")}),[]),ee=(0,a.useCallback)((function(){E(Y)}),[Y]),ne=(0,a.useMemo)((function(){return Object.values(P).reduce((function(e,n){return e+n.sp}),0)}),[P]),te=(0,a.useMemo)((function(){if("Feh"===V.id)return 0;var e=V.bst||0;return Object.values(P).forEach((function(n){e=Math.max(e,(V.blesser?n.bbst:n.bst)||0)})),e=e||0,(0,d.Z)({merge:C,bst:e,spt:ne})}),[C,P,V.blesser,V.bst,V.id,ne]);return(0,a.useEffect)((function(){V.blesser&&I(V.blessing)}),[V.blesser,V.blessing]),(0,a.useEffect)((function(){n&&t({unitId:n,score:te,blessing:V.blessing||y,blesser:V.blesser})}),[y,V.blesser,V.blessing,t,te,n]),{view:f,heroId:v,heroInfo:V,iv:_,merge:C,bless:y,arenaSkillStateMap:P,totalSp:ne,unitArenaScore:te,openHeroPicker:H,openIVPicker:U,openMergePicker:X,openSkillPicker:L,openBlessingPicker:J,onChangeHeroId:z,onChangeIV:Q,onChangeMerge:W,onChangeSkill:R,onChangeBlessing:$,onClickBack:q,onClickMax:ee}}var q=function(e){var n=J({unitId:e.unitId,onChangeScore:e.onChangeScore}),t=n.view,r=n.heroId,i=n.heroInfo,l=n.iv,a=n.merge,o=n.bless,c=n.arenaSkillStateMap,u=n.totalSp,d=n.unitArenaScore,h=n.openHeroPicker,b=n.openIVPicker,p=n.openMergePicker,f=n.openSkillPicker,k=n.openBlessingPicker,g=n.onChangeHeroId,v=n.onChangeIV,x=n.onChangeMerge,_=n.onChangeSkill,B=n.onChangeBlessing,m=n.onClickMax,D=n.onClickBack,S=["weapon","assist","special","skillA","skillB","skillC","seal"].includes(t);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{hidden:""!==t,children:(0,s.jsx)(j,{heroInfo:i,iv:l,merge:a,bless:o,arenaSkillStateMap:c,totalSp:u,unitArenaScore:d,openHeroPicker:h,openIVPicker:b,openMergePicker:p,openSkillPicker:f,openBlessingPicker:k,onClickMax:m})}),(0,s.jsx)("div",{hidden:"hero"!==t,children:(0,s.jsx)(C,{heroId:r,onClickBack:D,onChangeHeroId:g})}),(0,s.jsx)("div",{hidden:"iv"!==t,children:(0,s.jsx)(Y,{iv:l,onChangeIV:v,onClickBack:D})}),(0,s.jsx)("div",{hidden:"merge"!==t,children:(0,s.jsx)(U,{merge:a,onChangeMerge:x,onClickBack:D})}),(0,s.jsx)("div",{hidden:"blessing"!==t,children:(0,s.jsx)(L,{blessing:i.blessing||o,onChangeBlessing:B,onClickBack:D})}),(0,s.jsx)("div",{hidden:!S,children:(0,s.jsx)(F,{skillType:t,heroId:r,onClickBack:D,onChangeSkill:_,arenaSkillState:c[t]})})]})},z=t(255),Q=t.n(z);function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var R=function(){var e=(0,a.useState)({1:{score:0,blessing:"",blesser:""},2:{score:0,blessing:"",blesser:""},3:{score:0,blessing:"",blesser:""},4:{score:0,blessing:"",blesser:""}}),n=e[0],t=e[1],s=(0,a.useCallback)((function(e){var n=e.unitId,s=e.score,r=e.blessing,i=e.blesser;t((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){W(e,n,t[n])}))}return e}({},e,W({},n,{score:s,blessing:r,blesser:i}))}))}),[]);return{onChangeScore:s,teamScore:(0,a.useMemo)((function(){var e=0,t=0,s={},r={};return Object.values(n).forEach((function(n){if(e+=n.score,"legendary"===n.blesser){var t=(0,b.aG)(n.blessing);s[t]||(s[t]=0),s[t]+=1}else n.blessing&&(r[n.blessing]||(r[n.blessing]=0),r[n.blessing]+=1)})),e=~~(e/4),Object.keys(s).forEach((function(e){r[e]&&(t+=s[e]*r[e]*4)})),e+t}),[n])}},$=function(){var e=(0,i.Z)("/assets/summon-stone.jpg"),n=R(),t=n.teamScore,l=n.onChangeScore;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{children:(0,s.jsx)("title",{children:"\u8c46\u796d\u8a08\u7b97\u6a5f"})}),(0,s.jsx)("div",{className:Q().container,style:{background:"url('".concat(e,"') center / cover no-repeat fixed")},children:(0,s.jsxs)("div",{className:Q()["bg-layer"],children:[(0,s.jsxs)("div",{className:Q().units,children:[(0,s.jsx)(q,{unitId:1,onChangeScore:l}),(0,s.jsx)(q,{unitId:2,onChangeScore:l}),(0,s.jsx)(q,{unitId:3,onChangeScore:l}),(0,s.jsx)(q,{unitId:4,onChangeScore:l})]}),(0,s.jsxs)("div",{className:Q().scores,hidden:!t,children:["\u7e3d\u5206: ",t]})]})})]})};var ee=function(){return(0,s.jsx)(l.Z,{children:(0,s.jsx)($,{})})};var ne=function(){return(0,s.jsx)(ee,{})}},5497:function(e){e.exports={blessing:"blessing_blessing__mVJnu","blessing-name":"blessing_blessing-name__O0ue_"}},2884:function(e){e.exports={container:"styles_container__YYoO2","neutral-button":"styles_neutral-button__0mamt","blessing-button":"styles_blessing-button__d1Pw5"}},5711:function(e){e.exports={container:"styles_container__gMrf9","neutral-button":"styles_neutral-button__qNLXK","iv-button":"styles_iv-button__PxFG8"}},5767:function(e){e.exports={button:"editor_button__dre23",title:"editor_title__DCHaP","title-textgroup":"editor_title-textgroup__L3_XD",content:"editor_content__ucmsC",section:"editor_section__VSruc","section-group":"editor_section-group__PqWmB","hero-header":"editor_hero-header__2jYrP","button-content":"editor_button-content__WgPcn","editor-img":"editor_editor-img__YkSM_","close-button":"editor_close-button__w0FsF",container:"editor_container__ZGE8P",input:"editor_input__hhUEq",options:"editor_options__uKR9A",optionsContainer:"editor_optionsContainer__6ZBYQ",skillTitle:"editor_skillTitle__0pjMT",skillName:"editor_skillName__MG6LB",skillSp:"editor_skillSp__bVmgd",might:"editor_might__1RKES",extractStats:"editor_extractStats__TLGYH",extractStat:"editor_extractStat__XPTuU",subTitle:"editor_subTitle__jgvJ_",spButtons:"editor_spButtons__hDo9g",listItems:"editor_listItems__Bdjh9"}},207:function(e){e.exports={heroButton:"ArenaUnit_heroButton__9oiH4",sectionButton:"ArenaUnit_sectionButton__3DPmJ",ivAndMerge:"ArenaUnit_ivAndMerge__iwdNs",summarySection:"ArenaUnit_summarySection__ENouN",section:"ArenaUnit_section__iHv2b",enhancedText:"ArenaUnit_enhancedText__iigcY",unitPicker:"ArenaUnit_unitPicker__1J7Ut",menu:"ArenaUnit_menu__ZFhDB",spList:"ArenaUnit_spList__Jf1sl",maxScore:"ArenaUnit_maxScore__2NXoP"}},255:function(e){e.exports={container:"ArenaCalc_container__x8keD","bg-layer":"ArenaCalc_bg-layer__ilB_9",units:"ArenaCalc_units__ms_Ir",scores:"ArenaCalc_scores__IzFl9"}}},function(e){e.O(0,[406,520,797,548,201,774,888,179],(function(){return n=161,e(e.s=n);var n}));var n=e.O();_N_E=n}]);