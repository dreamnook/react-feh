_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{"4NHs":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return Lr}));var r=n("nKUr"),i=n("OyYD"),c=n("g4pe"),l=n.n(c),s=n("Ff2n"),a=n("q1tI"),o=n("rePB");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){return Object(r.jsxs)("svg",u(u({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),{},{children:[Object(r.jsx)("path",{d:"M38 18h-8v-12h-12v12h-8l14 14 14-14zm-28 18v4h28v-4h-28z"}),Object(r.jsx)("path",{d:"M0 0h48v48h-48z",fill:"none"})]}))};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return Object(r.jsxs)("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(r.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})]}))},O=n("ODXe"),f=n("YVe8"),k=n("I5BY");function v(e){var t=e.rulesDB,n=e.ruleId;return t&&n?t[n]:null}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=e.assistDB,n=e.assist;return t&&n?t[n]:null}function y(e){var t=m({assistDB:e.assistDB,assist:e.assist});return(null===t||void 0===t?void 0:t.name)||""}function w(e){var t=e.sealDB,n=e.seal;return t&&n?t.skillA[n]?t.skillA[n]:t.skillB[n]?t.skillB[n]:t.skillC[n]?t.skillC[n]:t.seal[n]?t.seal[n]:null:null}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=e.rulesDB,n=e.heroDB,r=e.skillDB,i=e.heroId;if(!t||!n||!r||!i)return[];var c=Object(k.c)(n,i);return c?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=v({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[c.moveType])&&((!n.colorType||!1!==n.colorType[c.colorType])&&(!n.weaponType||!1!==n.weaponType[c.weaponType]))})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return B(B({},e),{},{query:t})})):[]}function S(e){var t=e.rulesDB,n=e.heroDB,r=e.skillDB,i=e.heroId,c=e.skillId;if(!t||!n||!r||!i||!c)return!1;var l=Object(k.c)(n,i);if(!l)return!1;var s=r[c];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=v({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}function I(e){var t=e.skillDB,n=e.skillId;return t&&n?t[n]:null}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=e.specialDB,n=e.special;return t&&n?t[n]:null}function T(e){var t=_({specialDB:e.specialDB,special:e.special});return(null===t||void 0===t?void 0:t.name)||""}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){switch(e){case"red-bow":case"blue-bow":case"green-bow":case"white-bow":return"bow";case"red-dagger":case"blue-dagger":case"green-dagger":case"white-dagger":return"dagger";case"red-dragon":case"blue-dragon":case"green-dragon":case"white-dragon":return"dragon";case"red-beast":case"blue-beast":case"green-beast":case"white-beast":return"beast"}return e}function R(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId;if(!n||!t||!r)return[];var i=Object(k.c)(t,r);if(!i)return[];var c=N(i.weaponType),l=n[c];return c?Object.values(l).filter((function(e){return!e.exclusive||e.exclusive.includes(r)})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return E(E({},e),{},{query:t})})):[]}function H(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weaponId;if(!n||!t||!r||!i)return!1;var c=Object(k.c)(t,r);if(!c)return!1;var l=N(c.weaponType),s=n[l];if(!l)return!1;var a=s[i];return!!a&&(!a.exclusive||a.exclusive.includes(r))}function W(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon;if(!n||!t||!i||!r)return null;var c=Object(k.c)(t,r);return c?n[N(c.weaponType)][i]:null}function F(e){var t=W({heroDB:e.heroDB,weaponDB:e.weaponDB,heroId:e.heroId,weapon:e.weapon});return(null===t||void 0===t?void 0:t.name)||""}var L={atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632"};function V(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon,c=W({heroDB:t,weaponDB:n,heroId:r,weapon:i});return c&&c.refine?Object.entries(c.refine).filter((function(e){var t=Object(O.a)(e,2)[1];return!t.exclusive||t.exclusive.includes(r)})).map((function(e){var t=Object(O.a)(e,2),n=t[0],r=E({value:n},t[1]);return r.name||(r.name=L[n]||n),r.icon&&(r.icon="/skills/weapon/".concat(r.icon,".png")),!r.icon&&L[n]&&(r.icon="/skills/weapon/".concat(n,".png")),r})):[]}function z(e){var t,n=e.heroDB,r=e.weaponDB,i=e.heroId,c=e.weapon,l=e.refine,s=W({heroDB:n,weaponDB:r,heroId:i,weapon:c});return null===s||void 0===s||null===(t=s.refine)||void 0===t?void 0:t[l]}var U={atk:"atk",spd:"spd",def:"def",res:"res"};function Y(e){var t=e.heroDB,n=e.weaponDB,r=e.assistDB,i=e.specialDB,c=e.skillADB,l=e.skillBDB,s=e.skillCDB,a=e.sealDB,o=e.heroId,d=e.skills;return{weapon:W({heroDB:t,weaponDB:n,heroId:o,weapon:d.weapon}),assist:m({assistDB:r,assist:d.assist}),special:_({specialDB:i,special:d.special}),skillA:I({skillDB:c,skillId:d.skillA}),skillB:I({skillDB:l,skillId:d.skillB}),skillC:I({skillDB:s,skillId:d.skillC}),seal:w({sealDB:a,seal:d.seal})}}var J=["assist","special","skillA","skillB","skillC","seal"];var q=n("ufDn"),X={1:{base:47,float:69},2:{base:49,float:74},3:{base:51,float:81},4:{base:53,float:86},5:{base:55,float:93}};var Q=function(e){var t=e.rarity,n=void 0===t?5:t,r=e.merge,i=e.bst,c=e.spt,l=e.blesser,s=void 0===l?0:l,a=X[n];return 2*(150+a.base+a.float+2*r+Math.floor(i/5)+Math.floor(c/100)+4*s)};function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(o.a)(this,"imageData",void 0),Object(o.a)(this,"src",void 0),Object(o.a)(this,"loadedData",void 0),Object(o.a)(this,"callback",void 0),this.imageData=new Image,this.src="",this.loadedData=!1,this.callback=t,this.imageData.onload=function(){n.loadedData=!0,n.callback&&n.callback(!0)},this.imageData.onerror=function(){n.loadedData=!1,n.callback&&n.callback(!1)}}var t,n,r;return t=e,(n=[{key:"load",value:function(e){e!==this.src&&(this.loadedData=!1,this.src=e,this.imageData.src=e)}},{key:"loaded",get:function(){return this.loadedData}},{key:"image",get:function(){return this.imageData}}])&&G(t.prototype,n),r&&G(t,r),e}();var K=n("oh6S"),$=16,ee=554,te=K.c;var ne=174,re=555,ie=["infantry","armored","cavalry","flying"];function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=1,ae=43,oe=85,de=127,ue=169,je=[0,1,2,3,4,5,6,7,8,9,"x","+","-"].reduce((function(e,t,n){return le(le({},e),{},Object(o.a)({},t,34*n+1))}),{});function be(e,t,n,r,i,c){je[r]&&e.drawImage(t,je[r],n,32,40,i,c,16,20)}var pe=240,he=557,Oe=[14,28,42],fe=["infantry","armored","cavalry","flying"];var ke=432,ve=425;var xe=432,ge=425;var me=275,ye=594,we=function(e,t,n){var r=37*n+1+ye;e.drawImage(t,me,r,35,35)};var De=82,Be=557,Ce=[14,28,42];var Se=112,Ie=557,Pe=[14,28,42];var Ae=130,_e=594,Te=[14,28,42,56],Me=[1e3,100,10],Ee=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:se,c=8+_e+37*r;Me.forEach((function(r,l){if(n>=r){var s=Math.floor(n/r%10);be(e,t,i,s,Ae+Te[l],c)}}));var l=n%10;be(e,t,i,l,Ae+Te[3],c)};var Ne=465,Re=594;function He(e){var t=e.context,n=e.numberAtlas,r=e.accelerate,i=e.specialCD;if(i){var c=ae;r<0&&(c=oe),r>0&&(c=de),function(e,t,n){be(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:ae,n,Ne,8+Re+74)}(t,n,r+i,c)}}var We=n("W8is"),Fe=206,Le=1224,Ve=["#ffa0af","white","#aaf0fa"],ze=Object.entries({hp:"HP",atk:"\u653b\u64ca",spd:"\u901f\u5ea6",def:"\u9632\u5b88",res:"\u9b54\u9632",bst:"BST",arena:"\u9b25\u6280\u5206"});var Ue=634,Ye=1224,Je={weapon:0,assist:1,special:2,skillA:3,skillB:4,skillC:5,seal:6};var qe=296,Xe=876,Qe=336,Ge=992;var Ze={x:460,y:530};var Ke=195,$e=370;function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=[["background","/assets/background.jpg"],["foreground","/assets/foreground.png"],["foreground2","/assets/foreground2.png"],["portrait",""],["rarityAtlas","/assets/rarity.png"],["weaponTypeAtlas","/assets/weapon-type.png"],["moveTypeAtlas","/assets/move-type.png"],["dragonflowerAtlas","/assets/dragonflower.png"],["supportAtlas","/assets/support.png"],["blessingAtlas",""],["numberAtlas","/assets/number.png"],["weaponIcon","/skills/weapon.png"],["assistIcon","/skills/assist.png"],["specialIcon","/skills/special.png"],["textA","/assets/skill-a.png"],["textB","/assets/skill-b.png"],["textC","/assets/skill-c.png"],["textS","/assets/skill-s.png"],["arenaIcon","/assets/Arena_Crown.png"],["skillAIcon",""],["skillBIcon",""],["skillCIcon",""],["sealIcon",""],["resplendentIcon","/assets/god-wear-l.png"]],rt=[{skillName:"weapon",empty:"/skills/weapon.png"},{skillName:"skillA",empty:"/skills/empty.png"},{skillName:"skillB",empty:"/skills/empty.png"},{skillName:"skillC",empty:"/skills/empty.png"},{skillName:"seal",empty:"/skills/seal-empty.png"}];var it=function(e){var t=e.heroId,n=e.rarity,r=e.iv,c=e.merge,l=e.dragonflower,o=e.blessing,d=e.support,u=e.arena,j=e.resplendent,b=e.weapon,p=e.refine,h=e.assist,v=e.special,x=e.skillA,g=e.skillB,m=e.skillC,y=e.seal,w=e.lv1,D=Object(i.b)(),B=Object(a.useRef)(null),C=Object(a.useRef)(null),S=Object(a.useRef)(),I=Object(a.useRef)(),P=Object(a.useRef)(),A=Object(a.useRef)(),_=Object(a.useRef)(),T=Object(a.useRef)(),M=Object(a.useRef)(),E=Object(a.useRef)(),N=Object(a.useRef)(),R=Object(a.useRef)(),H=Object(a.useRef)(),W=Object(a.useRef)(),F=Object(a.useRef)(),L=Object(a.useRef)(),V=Object(a.useMemo)((function(){return Object(k.c)(D.heroDB,t)}),[D.heroDB,t]),z=Object(a.useMemo)((function(){return{weapon:b,assist:h,special:v,skillA:x,skillB:g,skillC:m,seal:y}}),[b,h,v,x,g,m,y]),X=V.stats,G=Object(a.useMemo)((function(){return function(e){var t,n,r,i,c,l,s,a,o,d=e.heroDB,u=e.weaponDB,j=e.assistDB,b=e.specialDB,p=e.skillADB,h=e.skillBDB,f=e.skillCDB,v=e.sealDB,x=e.heroId,g=e.skills,m=e.refine,y=e.rarity,w=Object(k.c)(d,x),D=Y({heroDB:d,weaponDB:u,assistDB:j,specialDB:b,skillADB:p,skillBDB:h,skillCDB:f,sealDB:v,heroId:x,skills:g}),B={weapon:"-",assist:"-",special:"-",skillA:"-",skillB:"-",skillC:"-",seal:"-"},C=0,S=(null===(t=D.special)||void 0===t?void 0:t.cd)||0;C+=(null===(n=D.weapon)||void 0===n?void 0:n.cd)||0,C+=(null===(r=D.assist)||void 0===r?void 0:r.cd)||0,C+=(null===(i=D.skillA)||void 0===i?void 0:i.cd)||0,C+=(null===(c=D.skillB)||void 0===c?void 0:c.cd)||0,C+=(null===(l=D.skillC)||void 0===l?void 0:l.cd)||0,C+=(null===(s=D.seal)||void 0===s?void 0:s.cd)||0;var I={hp:0,atk:0,spd:0,def:0,res:0},P=0,A=0;Object.entries(D).forEach((function(e){var t=Object(O.a)(e,2),n=t[0],r=t[1];if(B[n]=(null===r||void 0===r?void 0:r.name)||"-",I.hp+=(null===r||void 0===r?void 0:r.hp)||0,I.atk+=((null===r||void 0===r?void 0:r.mt)||0)+((null===r||void 0===r?void 0:r.atk)||0),I.spd+=(null===r||void 0===r?void 0:r.spd)||0,I.def+=(null===r||void 0===r?void 0:r.def)||0,I.res+=(null===r||void 0===r?void 0:r.res)||0,P+=(null===r||void 0===r?void 0:r.sp)||0,5===y){var i=null===r||void 0===r?void 0:r.bst;w.blesser&&(null===r||void 0===r?void 0:r.bbst)&&(i=null===r||void 0===r?void 0:r.bbst),A=Math.max(i||0,A)}}));var _=null===(a=D.weapon)||void 0===a||null===(o=a.refine)||void 0===o?void 0:o[m];return _&&(I.hp+=_.hp||0,I.atk+=(_.mt||0)+(_.atk||0),I.spd+=_.spd||0,I.def+=_.def||0,I.res+=_.res||0,C+=_.cd||0,D.weapon.exclusive||(P+=50),5===y&&(A=Math.max(A,_.bst||0))),{names:B,stats:I,accelerate:C,specialCD:S,spt:P,bst:A}}({heroDB:D.heroDB,weaponDB:D.weaponDB,assistDB:D.assistDB,specialDB:D.specialDB,skillADB:D.skillADB,skillBDB:D.skillBDB,skillCDB:D.skillCDB,sealDB:D.sealDB,skills:z,heroId:t,refine:p,rarity:n})}),[z,t,p,n,D.heroDB,D.weaponDB,D.assistDB,D.specialDB,D.skillADB,D.skillBDB,D.skillCDB,D.sealDB]),K=Object(a.useMemo)((function(){return Object(q.b)(n,X,r,c,d,G.stats,w,u,l,j)}),[n,X,r,c,d,G,w,u,l,j]),ce=Object(a.useMemo)((function(){return Q({rarity:n,merge:c,bst:Math.max(K.bst,G.bst,V.bst||0),spt:G.spt})}),[n,c,K.bst,G.bst,G.spt,V]),le=Object(a.useRef)({}),de=Object(a.useCallback)((function(){if(B.current){var e=le.current,t=e.background,n=e.foreground,r=e.foreground2,i=e.portrait,c=e.rarityAtlas,l=e.weaponTypeAtlas,a=e.moveTypeAtlas,o=e.dragonflowerAtlas,d=e.supportAtlas,u=e.blessingAtlas,j=e.numberAtlas,b=e.weaponIcon,p=e.assistIcon,h=e.specialIcon,f=e.textA,k=e.textB,v=e.textC,x=e.textS,g=e.arenaIcon,m=e.skillAIcon,y=e.skillBIcon,w=e.skillCIcon,D=e.sealIcon,V=e.resplendentIcon,z=S.current,U=z.title,Y=z.name,J=z.weaponType,q=z.moveType,X=!!S.current.blessing||!!E.current,Q=B.current.getContext("2d");Q.clearRect(0,0,540,960),t.loaded&&function(e){var t=e.context,n=e.background;e.support?t.drawImage(n,540,0,540,960,0,0,540,960):t.drawImage(n,0,0,540,960,0,0,540,960)}({context:Q,background:t.image,support:N.current}),i.loaded&&function(e){var t=e.context,n=e.portrait;t.drawImage(n,0,0,540,960,0,0,540,960)}({context:Q,portrait:i.image}),n.loaded&&function(e){var t=e.context,n=e.foreground;t.drawImage(n,0,0,540,960,0,0,540,960)}({context:Q,foreground:n.image}),r.loaded&&function(e){var t=e.context,n=e.foreground2;e.dragonflower?t.drawImage(n,0,50,540,50,0,542,540,50):t.drawImage(n,0,0,540,50,0,542,540,50)}({context:Q,foreground2:r.image,dragonflower:M.current}),c.loaded&&function(e){var t=e.context,n=e.rarityAtlas;switch(e.rarity){case 5:t.drawImage(n,0,0,153,40,42,380,153,40);break;case 4:t.drawImage(n,0,41,153,40,42,380,153,40)}}({context:Q,rarityAtlas:c.image,rarity:A.current}),l.loaded&&function(e){var t=e.context,n=e.weaponTypeAtlas,r=e.weaponType,i=te.indexOf(r);i>-1&&t.drawImage(n,56*i,0,56,55,$,ee,28,28)}({context:Q,weaponTypeAtlas:l.image,weaponType:J}),a.loaded&&function(e){var t=e.context,n=e.moveTypeAtlas,r=e.moveType,i=ie.indexOf(r);i>-1&&t.drawImage(n,56*i,0,52,52,ne,re,26,26)}({context:Q,moveTypeAtlas:a.image,moveType:q}),o.loaded&&j.loaded&&function(e){var t=e.context,n=e.dragonflowerAtlas,r=e.numberAtlas,i=e.moveType,c=e.dragonflower;if(c){var l=fe.indexOf(i);l>-1&&t.drawImage(n,0,58*l,64,58,216,546,48,44);var s=0,a=ae;be(t,r,a,"+",pe+Oe[0],he),s+=1,c>9&&(be(t,r,a,1,pe+Oe[s],he),s+=1),be(t,r,a,c%10,pe+Oe[s],he)}}({context:Q,dragonflowerAtlas:o.image,numberAtlas:j.image,moveType:q,dragonflower:M.current}),d.loaded&&function(e){var t=e.context,n=e.supportAtlas,r=e.support,i=e.hasBlessing?108:0;r&&t.drawImage(n,ke-i,ve,108,115)}({context:Q,supportAtlas:d.image,support:N.current,hasBlessing:X}),u.loaded&&function(e){var t=e.context,n=e.blessingAtlas;t.drawImage(n,xe,ge,108,115)}({context:Q,blessingAtlas:u.image}),j.loaded&&(!function(e){var t=e.context,n=e.numberAtlas,r=e.lv1?1:40,i=0;r>9&&be(t,n,ae,4,De+Ce[i],Be),be(t,n,ae,r%10,De+Ce[i+=1],Be)}({context:Q,numberAtlas:j.image,lv1:F.current}),function(e){var t=e.context,n=e.numberAtlas,r=e.merge;if(!(r<=0)){var i=0,c=r>9?ue:ae;be(t,n,c,"+",Se+Pe[0],Ie),i+=1,r>9&&(be(t,n,c,1,Se+Pe[i],Ie),i+=1),be(t,n,c,r%10,Se+Pe[i],Ie)}}({context:Q,numberAtlas:j.image,merge:T.current}),function(e){var t=e.context,n=e.numberAtlas,r=e.stats,i=e.score,c=e.sbst,l=e.bst;Object.values(r).forEach((function(e,r){Ee(t,n,e,r,se)}));var s=c>l?oe:ue;Ee(t,n,l,5,ue),Ee(t,n,i,6,s)}(tt({context:Q,numberAtlas:j.image,score:L.current,sbst:Math.max(I.current.bst||0,S.current.bst||0)},P.current)),He({context:Q,numberAtlas:j.image,accelerate:I.current.accelerate,specialCD:I.current.specialCD})),function(e){var t=e.context,n=e.weaponIcon,r=e.assistIcon,i=e.specialIcon,c=e.textA,l=e.textB,s=e.textC,a=e.textS,o=e.skillAIcon,d=e.skillBIcon,u=e.skillCIcon,j=e.sealIcon;n.loaded&&we(t,n.image,0),r.loaded&&we(t,r.image,1),i.loaded&&we(t,i.image,2),o.loaded&&we(t,o.image,3),t.drawImage(c.image,me+20,ye+112+18,18,18),d.loaded&&we(t,d.image,4),t.drawImage(l.image,me+20,ye+149+18,18,18),u.loaded&&we(t,u.image,5),t.drawImage(s.image,me+20,ye+186+18,18,18),j.loaded&&we(t,j.image,6),t.drawImage(a.image,me+20,ye+223+18,18,18)}({context:Q,weaponIcon:b,assistIcon:p,specialIcon:h,textA:f,textB:k,textC:v,textS:x,skillAIcon:m,skillBIcon:y,skillCIcon:w,sealIcon:D}),C.current.getContext("2d").clearRect(0,0,1080,1920),function(e){var t=e.canvas,n=e.iv,r=e.merge,i=t.getContext("2d");i.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#101010",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8;var c=Object(We.a)(n),l=c.boon,s=c.bane,a={hp:1,atk:1,spd:1,def:1,res:1,bst:1,arena:1};a[l]+=1,a[s]-=1,a[s]=r>0?1:a[s],ze.forEach((function(e,t){var n=Object(O.a)(e,2),r=n[0],c=n[1],l=Le+74*t;i.fillStyle=Ve[a[r]],i.strokeText(c,Fe,l),i.fillText(c,Fe,l)}))}({canvas:C.current,iv:_.current,merge:T.current}),function(e){var t=e.canvas,n=e.refine,r=e.weapon,i=Object(s.a)(e,["canvas","refine","weapon"]),c=t.getContext("2d");c.font="500 36px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif",c.textAlign="left",c.textBaseline="middle",c.lineJoin="round",c.lineWidth=8,c.strokeStyle="#101010",c.fillStyle=n&&"-"!==n?"lime":"white";var l=Ue+("-"===r?4:0),a=Ye;c.strokeText(r,l,a),c.fillText(r,l,a),c.fillStyle="white",Object.keys(i).forEach((function(e){var t=i[e],n=Ye+74*Je[e],r="-"===t?4:0;c.strokeText(t,Ue+r,n),c.fillText(t,Ue+r,n)}))}(tt({canvas:C.current,refine:W.current},I.current.names)),function(e){var t=e.canvas,n=e.title,r=e.name,i=t.getContext("2d");i.font="500 48px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",i.fillStyle="white",i.strokeStyle="#220d00",i.textAlign="center",i.textBaseline="middle",i.lineJoin="round",i.lineWidth=8,i.strokeText(n,qe,Xe),i.fillText(n,qe,Xe),i.font="500 52px FEH, 'Microsoft YaHei', 'Helvetica Neue', Helvetica, 'Microsoft JhengHei', Arial, sans-serif",i.strokeText(r,Qe,Ge),i.fillText(r,Qe,Ge)}({canvas:C.current,title:U,name:Y}),R.current&&g&&function(e){var t=e.context,n=e.arenaIcon;t.drawImage(n,Ze.x,Ze.y,50,49)}({context:Q,arenaIcon:g.image}),H.current&&V&&function(e){var t=e.context,n=e.resplendentIcon;t.drawImage(n,Ke,$e,64,63)}({context:Q,resplendentIcon:V.image}),Q.drawImage(C.current,0,0,540,960)}}),[]);Object(a.useEffect)((function(){C.current=document.createElement("canvas"),C.current.width=1080,C.current.height=1920}),[]),Object(a.useEffect)((function(){nt.forEach((function(e){var t=Object(O.a)(e,2),n=t[0],r=t[1];le.current[n]=new Z(de),le.current[n].load(Object(f.a)(r))}))}),[le,de]),Object(a.useEffect)((function(){var e=function(e){var t=e.resplendentDB,n=e.heroId;return e.enable&&(null===t||void 0===t?void 0:t.includes(n))?"".concat(n,"(R)"):n}({resplendentDB:D.resplendentDB,heroId:V.id,enable:j});le.current.portrait.load(Object(f.a)("/portraits/".concat(e,".png")));var t=function(e){var t=e.heroDB,n=e.weaponDB,r=e.assistDB,i=e.specialDB,c=e.skillADB,l=e.skillBDB,s=e.skillCDB,a=e.sealDB,o=e.heroId,d=e.skills,u=e.refine,j=Y({heroDB:t,weaponDB:n,assistDB:r,specialDB:i,skillADB:c,skillBDB:l,skillCDB:s,sealDB:a,heroId:o,skills:d}),b={};if(J.forEach((function(e){var t=j[e];b[e]=(null===t||void 0===t?void 0:t.icon)&&"/skills/".concat(t.icon)})),u&&"-"!==u){var p,h,O,f=U[u]||(null===(p=j.weapon)||void 0===p||null===(h=p.refine)||void 0===h||null===(O=h[u])||void 0===O?void 0:O.icon);f&&(b.weapon="/skills/weapon/".concat(f,".png"))}return b}({heroDB:D.heroDB,weaponDB:D.weaponDB,assistDB:D.assistDB,specialDB:D.specialDB,skillADB:D.skillADB,skillBDB:D.skillBDB,skillCDB:D.skillCDB,sealDB:D.sealDB,skills:z,heroId:V.id,refine:p});rt.forEach((function(e){var n=e.skillName,r=e.empty;le.current["".concat(n,"Icon")].load(Object(f.a)("".concat(t[n]||r)))}));var n="-"!==V.blessing&&!!V.blessing||!!o,r=Object(f.a)("/assets/blessing-".concat(V.blessing||o,".png"));le.current.blessingAtlas.load(n?r:"")}),[V,j,z,p,o,K,D.heroDB,D.weaponDB,D.assistDB,D.specialDB,D.skillADB,D.skillBDB,D.skillCDB,D.sealDB,D.resplendentDB]),Object(a.useEffect)((function(){S.current=V,A.current=n,_.current=r,T.current=c,M.current=l,E.current=o,N.current=d,R.current=u,H.current=j,W.current=p,F.current=w,L.current=ce,I.current=G,P.current=K,de()}),[V,n,r,c,l,o,d,u,j,p,w,ce,G,K,de]);var je=Object(a.useCallback)((function(){var e=B.current.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="".concat(null===V||void 0===V?void 0:V.name,"-").concat(null===V||void 0===V?void 0:V.title,".png"),t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}),[null===V||void 0===V?void 0:V.name,null===V||void 0===V?void 0:V.title]);return{canvasRef:B,triggerDownload:je}},ct=n("wwxT"),lt=n.n(ct);function st(e){var t=e.openEditor,n=Object(s.a)(e,["openEditor"]),i=it(n),c=i.canvasRef,l=i.triggerDownload;return Object(r.jsxs)("div",{className:lt.a.container,children:[Object(r.jsx)("canvas",{className:lt.a.canvas,width:"540",height:"960",ref:c}),Object(r.jsx)("button",{className:"".concat(lt.a.button," ").concat(lt.a.download),onClick:l,children:Object(r.jsx)(j,{})}),Object(r.jsx)("button",{className:"".concat(lt.a.button," ").concat(lt.a.menu),onClick:t,children:Object(r.jsx)(h,{})})]})}var at=Object(a.memo)(st);function ot(e){return 4===e?"4\u2605":"5\u2606"}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=function(e){return Object(r.jsxs)("svg",ut(ut({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Object(r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}))},bt=n("MX0m"),pt=n.n(bt);function ht(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2629191159"}),Object(r.jsx)(pt.a,{id:"2629191159",children:["div.jsx-2629191159{width:1.5em;height:1.5em;border-radius:0.5em;background-color:white;}"]})]})}var Ot=function(e){var t=e.className,n=e.checked,i=e.onChange,c=Object(a.useCallback)((function(e){i&&(e.stopPropagation(),i(!n))}),[n,i]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{role:"button",onClick:c,className:"jsx-19544621 "+(t||""),children:n&&Object(r.jsx)(ht,{})}),Object(r.jsx)(pt.a,{id:"19544621",children:["div.jsx-19544621{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-radius:0.5em;width:2.5em;height:2.5em;font-size:1em;border:solid 1px white;background-color:transparent;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},ft=n("vzA3"),kt=n.n(ft);var vt=function(e){var t=e.children,n=e.checked,i=e.onChange;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("label",{className:kt.a.label,children:[t,Object(r.jsx)(Ot,{className:kt.a["label-checkbox"],checked:n,onChange:i})]})})},xt=n("niDk"),gt=n("Uwun");var mt=function(e){var t=e.blessing,n=Object(a.useMemo)((function(){return Object(gt.b)(t)}),[t]),i=n.src,c=n.name;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"jsx-3356831981",children:[i&&Object(r.jsx)(xt.a,{src:i,loading:"lazy",width:"50px",height:"50px"}),Object(r.jsx)("div",{className:"jsx-3356831981 blessing-name",children:c})]}),Object(r.jsx)(pt.a,{id:"3356831981",children:["div.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}","div.jsx-3356831981 img.jsx-3356831981{width:2.5em;height:2.5em;margin-right:0.25em;}","div.jsx-3356831981 .blessing-name.jsx-3356831981{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;}"]})]})},yt=n("oYQy"),wt=n.n(yt);var Dt=function(e){var t=e.onClick;return Object(r.jsx)("button",{className:wt.a.button,onClick:t,style:{fontSize:"16px",marginLeft:"1em"},children:"\u4f7f\u7528\u539f\u751f\u6280\u80fd"})};function Bt(e){var t=e.hidden,n=e.style,i=e.children;return Object(r.jsx)("div",{hidden:t,className:wt.a.container,style:n,children:i})}function Ct(e){var t=e.children,n=e.style;return Object(r.jsx)("div",{className:wt.a.title,style:n,children:t})}function St(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["title-textgroup"],children:t})}function It(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a.content,children:t})}function Pt(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["section-group"],children:t})}function At(e){var t=e.children,n=e.disabled,i=e.onClick;return Object(r.jsx)("button",{className:"".concat(wt.a.button," ").concat(wt.a.section),disabled:n,onClick:i,children:t})}function _t(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a["button-content"],children:t})}function Tt(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-1557054469",children:t}),Object(r.jsx)(pt.a,{id:"1557054469",children:["div.jsx-1557054469{overflow-y:auto;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-overflow-scrolling:touch;}"]})]})}function Mt(e){var t=e.children;return Object(r.jsx)("div",{className:wt.a.options,children:t})}function Et(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t})}function Nt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:t})}function Rt(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Ht(e){var t=e.src;return Object(r.jsx)(xt.a,{src:t,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"},loading:"lazy"})}function Wt(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Ft(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Lt(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function Vt(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function zt(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Ut(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Yt=function(e){return e>0?"+".concat(e):"".concat(e)};function Jt(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.35em",padding:"0.25em",backgroundColor:"#1d3e53"},children:t})}var qt=n("0unf");function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=function(e){var t=e.heroId,n=e.resplendent,c=Object(i.b)(),l=c.heroDB,s=c.assistDB,o=c.resplendentDB,d=Object(a.useMemo)((function(){return Object(k.a)({heroDB:l,assistDB:s,resplendentDB:o,heroId:t,noStat:!0})}),[l,s,o,t]);return Object(r.jsx)(qt.a,Qt(Qt({},d),{},{faceSrc:n?d.faceSrcR:d.faceSrc}))};var Zt=function(e){var t=e.heroId,n=e.weapon,c=Object(i.b)(),l=c.heroDB,s=c.weaponDB;return Object(r.jsx)(r.Fragment,{children:F({heroDB:l,weaponDB:s,heroId:t,weapon:n})})};var Kt=function(e){var t=e.heroId,n=e.weapon,c=e.refine,l=Object(i.b)(),s=function(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weapon,c=e.refine,l=z({heroDB:t,weaponDB:n,heroId:r,weapon:i,refine:c});return l?L[c]?{icon:c,name:L[c]}:{icon:l.icon,name:l.name}:{icon:"",name:""}}({heroDB:l.heroDB,weaponDB:l.weaponDB,heroId:t,weapon:n,refine:c}),a=s.icon,o=s.name;return Object(r.jsxs)(r.Fragment,{children:[a&&Object(r.jsx)(Ht,{src:"/skills/weapon/".concat(a,".png")}),o]})};var $t=function(e){var t=e.assist,n=Object(i.b)().assistDB;return Object(r.jsx)(r.Fragment,{children:y({assistDB:n,assist:t})})};var en=function(e){var t=e.special,n=Object(i.b)().specialDB;return Object(r.jsx)(r.Fragment,{children:T({specialDB:n,special:t})})},tn=["skillA","skillB","skillC"];var nn=function(e){var t=e.skillType,n=e.skillId,c=Object(i.b)();if(tn.includes(t)){var l=function(e){var t=I({skillDB:e.skillDB,skillId:e.skillId});return t?{icon:t.icon,name:t.name}:{icon:"",name:""}}({skillDB:c["".concat(t,"DB")],skillId:n}),s=l.icon,a=l.name;return Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)(Ht,{src:"/skills/".concat(s)}),a]})}if("seal"===t){var o=function(e){var t=w({sealDB:e.sealDB,seal:e.seal});return t?{icon:t.icon,name:t.name}:{icon:"",name:""}}({sealDB:c.sealDB,seal:n}),d=o.icon,u=o.name;return Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)(Ht,{src:"/skills/".concat(d)}),u]})}return null};var rn=function(e){var t=e.hidden,n=e.heroId,c=e.rarity,l=e.iv,o=e.merge,d=e.dragonflower,u=e.blessing,j=e.support,b=e.arena,p=e.resplendent,h=e.weapon,O=e.refine,f=e.assist,v=e.special,x=e.skillA,g=e.skillB,m=e.skillC,y=e.seal,w=e.lv1,D=e.maxSkill,B=Object(s.a)(e,["hidden","heroId","rarity","iv","merge","dragonflower","blessing","support","arena","resplendent","weapon","refine","assist","special","skillA","skillB","skillC","seal","lv1","maxSkill"]),C=function(e){var t=e.heroId,n=e.weapon,r=e.maxSkill,c=Object(i.b)(),l=c.heroDB,s=c.weaponDB,o=Object(a.useMemo)((function(){return Object(k.c)(l,t)}),[l,t]),d=Object(a.useMemo)((function(){if("Feh"===t)return[];var e=R({heroDB:l,weaponDB:s,heroId:t});return r?e.filter((function(e){return e.last})).length>0:e.length>0}),[l,s,t,r]),u=Object(a.useMemo)((function(){return"Feh"!==t&&V({heroDB:l,weaponDB:s,heroId:t,weapon:n}).length>0}),[l,s,t,n]);return"Feh"===t?{hasRarity:!1,hasBlessing:!0,hasWeapon:!1,hasRefine:!1,hasAssist:!1,hasSpecial:!1,hasSkillA:!1,hasSkillB:!1,hasSkillC:!1,hasSeal:!1}:{hasRarity:o.rarity.length>0,hasBlessing:!!o.blessing,hasWeapon:d,hasRefine:u,hasAssist:!0,hasSpecial:!0,hasSkillA:!0,hasSkillB:!0,hasSkillC:!0,hasSeal:!0,blessing:o.blessing&&o.blessing}}({heroId:n,weapon:h,maxSkill:D}),S=C.hasRarity,I=C.hasBlessing,P=C.hasWeapon,A=C.hasRefine,_=C.hasAssist,T=C.hasSpecial,M=C.hasSkillA,E=C.hasSkillB,N=C.hasSkillC,H=C.hasSeal,W=C.blessing;return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsx)("button",{className:wt.a["close-button"],onClick:B.closeEditor,children:Object(r.jsx)(jt,{})}),Object(r.jsx)(Ct,{children:Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:"\u82f1\u96c4"}),Object(r.jsx)(vt,{checked:w,onChange:B.toggleLv1,children:"Lv1"})]})}),Object(r.jsxs)(It,{children:[Object(r.jsx)("button",{className:"".concat(wt.a.button," ").concat(wt.a["hero-header"]),onClick:B.openHeroPicker,children:Object(r.jsx)(Gt,{heroId:n,resplendent:p})}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!S,onClick:B.openRarityPicker,children:["\u7a00\u6709\u5ea6",Object(r.jsx)(_t,{children:ot(c)})]}),Object(r.jsxs)(At,{disabled:"Feh"===n,onClick:B.openIVPicker,children:["IV",Object(r.jsx)(_t,{children:Object(We.b)(l)})]}),Object(r.jsxs)(At,{disabled:I,onClick:B.openBlessingPicker,children:["\u795d\u798f",Object(r.jsx)(_t,{children:Object(r.jsx)(mt,{blessing:W||u})})]}),Object(r.jsxs)(At,{onClick:B.openMergePicker,children:["\u7a81\u7834\u6b21\u6578",Object(r.jsx)(_t,{children:o?"+".concat(o):"-"})]}),Object(r.jsxs)(At,{onClick:B.openDragonflowerPicker,children:["\u795e\u9f8d\u4e4b\u82b1",Object(r.jsx)(_t,{children:d?"+".concat(d):"-"})]})]})]}),Object(r.jsx)(Ct,{children:Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:"\u6280\u80fd"}),Object(r.jsx)(vt,{checked:D,onChange:B.toggleMaxSkill,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),Object(r.jsx)(Dt,{onClick:B.setAllSkillDefault})]})}),Object(r.jsxs)(It,{children:[Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!P,onClick:B.openWeaponPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/weapon.png"}),"\u6b66\u5668",Object(r.jsx)(_t,{children:Object(r.jsx)(Zt,{heroId:n,weapon:h})})]}),Object(r.jsxs)(At,{disabled:!A,onClick:B.openRefinePicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/refining-stone.png"}),"\u935b\u9020",Object(r.jsx)(_t,{children:Object(r.jsx)(Kt,{heroId:n,weapon:h,refine:O})})]})]}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!_,onClick:B.openAssistPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/assist.png"}),"\u8f14\u52a9",Object(r.jsx)(_t,{children:Object(r.jsx)($t,{assist:f})})]}),Object(r.jsxs)(At,{disabled:!T,onClick:B.openSpecialPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/skills/special.png"}),"\u5967\u7fa9",Object(r.jsx)(_t,{children:Object(r.jsx)(en,{special:v})})]})]}),Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{disabled:!M,onClick:B.openSkillAPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-a.png"}),"A\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(nn,{skillType:"skillA",skillId:x})})]}),Object(r.jsxs)(At,{disabled:!E,onClick:B.openSkillBPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-b.png"}),"B\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(nn,{skillType:"skillB",skillId:g})})]}),Object(r.jsxs)(At,{disabled:!N,onClick:B.openSkillCPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-c.png"}),"C\u6280\u80fd",Object(r.jsx)(_t,{children:Object(r.jsx)(nn,{skillType:"skillC",skillId:m})})]}),Object(r.jsxs)(At,{disabled:!H,onClick:B.openSealPicker,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle"},src:"/assets/skill-s.png"}),"\u8056\u5370",Object(r.jsx)(_t,{children:Object(r.jsx)(nn,{skillType:"seal",skillId:y})})]})]})]}),Object(r.jsx)(Ct,{children:"\u5f37\u5316"}),Object(r.jsx)(It,{children:Object(r.jsxs)(Pt,{children:[Object(r.jsxs)(At,{onClick:B.toggleSupport,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/support.png"}),"\u53ec\u559a\u5e2b\u5951\u7d04",Object(r.jsx)(Ot,{checked:j})]}),Object(r.jsxs)(At,{onClick:B.toggleArena,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/Arena_Crown.png"}),"\u9b25\u6280\u5834",Object(r.jsx)(Ot,{checked:b})]}),Object(r.jsxs)(At,{onClick:B.toggleResplendent,children:[Object(r.jsx)(xt.a,{width:"24px",height:"24px",style:{verticalAlign:"middle",marginBottom:"4px"},src:"/assets/god-wear.png"}),"\u795e\u88dd",Object(r.jsx)(Ot,{checked:p})]})]})})]})},cn=n("C5HV");function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var an=function(e){return Object(r.jsxs)("svg",sn(sn({width:"24",height:"24",viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),Object(r.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"})]}))};var on=function(e){var t=e.onClick;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:t,className:"jsx-3918608153",children:Object(r.jsx)(an,{fill:"white"})}),Object(r.jsx)(pt.a,{id:"3918608153",children:["button.jsx-3918608153{background-color:transparent;display:block;}"]})]})};var dn=function(e){var t=e.hidden,n=e.heroId,i=e.onChangeHero,c=e.onClickBack,l=e.resplendent,s=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),"\u82f1\u96c4"]}),Object(r.jsx)(cn.a,{heroId:n,onSelect:s,noDropdown:!0,noStat:!0,resplendent:l})]})},un=n("nBD0");var jn=function(e){var t=e.hidden,n=e.rarity,i=e.selectRarity,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),"\u7a00\u6709\u5ea6"]}),Object(r.jsx)(un.a,{rarity:n,minRarity:4,onSelect:l})]})},bn=n("XJgP"),pn=n.n(bn),hn=function(e){var t=e.iv,n=e.selectIV,i=Object(a.useCallback)((function(e){e.stopPropagation(),n(e.currentTarget.value)}),[n]);return Object(r.jsxs)("div",{className:pn.a.container,children:[Object(r.jsx)("button",{className:pn.a["neutral-button"],"data-active":!t,value:"",onClick:i,children:"-"}),We.e.map((function(e){return Object(r.jsx)("button",{className:pn.a["iv-button"],"data-active":t===e.value,value:e.value,onClick:i,children:e.name},e.value)}))]})};var On=function(e){var t=e.hidden,n=e.iv,i=e.selectIV,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),"IV"]}),Object(r.jsx)(hn,{iv:n,selectIV:l})]})},fn=n("dLxW"),kn=n.n(fn),vn=function(e){var t=e.blessing,n=e.selectBlessing,i=Object(a.useCallback)((function(e){e.stopPropagation(),n(e.currentTarget.value)}),[n]);return Object(r.jsxs)("div",{className:kn.a.container,children:[Object(r.jsx)("button",{className:kn.a["neutral-button"],"data-active":!t,value:"",onClick:i,children:"-"}),gt.c.map((function(e){return Object(r.jsx)("button",{className:kn.a["blessing-button"],"data-active":t===e.value,value:e.value,onClick:i,children:Object(r.jsx)(mt,{blessing:e.value})},e.value)}))]})};var xn=function(e){var t=e.hidden,n=e.blessing,i=e.selectBlessing,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),"IV"]}),Object(r.jsx)(vn,{blessing:n,selectBlessing:l})]})},gn=n("PY5n");var mn=function(e){var t=e.hidden,n=e.merge,i=e.selectMerge,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),"\u7a81\u7834\u6b21\u6578"]}),Object(r.jsx)(gn.a,{merge:n,onSelect:l})]})},yn=n("KWow"),wn=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];var Dn=function(e){var t=e.dragonflower,n=e.onSelect;return Object(r.jsx)(yn.a,{value:t,onSelect:n,options:wn})};var Bn=function(e){var t=e.hidden,n=e.dragonflower,i=e.selectDragonflower,c=e.onClickBack,l=Object(a.useCallback)((function(e){i(e),c()}),[i,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),"\u795e\u9f8d\u4e4b\u82b1"]}),Object(r.jsx)(Dn,{dragonflower:n,onSelect:l})]})};var Cn=function(e){var t=e.active,n=e.last,i=e.hidden,c=e.value,l=e.children,s=e.onClick;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{"data-active":t,value:c,onClick:s,hidden:i,className:pt.a.dynamic([["2665293084",[n?1:.618]]]),children:l}),Object(r.jsx)(pt.a,{id:"2665293084",dynamic:[n?1:.618],children:[".__jsx-style-dynamic-selector{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;text-align:left;outline:none;line-height:1.5;opacity:".concat(n?1:.618,";}"),"button.__jsx-style-dynamic-selector{padding:0.5em;margin-bottom:0.5em;border-bottom:1px solid #1d3e53;cursor:pointer;display:block;color:white;width:100%;background-color:transparent;}","button.__jsx-style-dynamic-selector:hover{background-color:#77abb7aa;}","button[hidden].__jsx-style-dynamic-selector{display:none;}","button[data-active='true'].__jsx-style-dynamic-selector{background-color:#476d7c;}"]})]})};function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:t})}function An(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder"},children:t})}function _n(e){var t=e.children;return Object(r.jsx)("div",{style:{marginLeft:"auto",fontStyle:"italic"},children:t})}function Tn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Mn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function En(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function Nn(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Rn(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Hn=function(e){return e>0?"+".concat(e):"".concat(e)};var Wn=function(e){var t=e.active,n=e.weapon,i=e.hidden,c=e.onClick;return Object(r.jsxs)(Cn,{active:t,last:n.last,hidden:i,value:n.id,onClick:c,children:[Object(r.jsxs)(Pn,{children:[Object(r.jsx)(An,{children:n.name}),Object(r.jsxs)(_n,{children:[n.sp,"SP"]})]}),Object(r.jsxs)(Tn,{children:["\u5a01\u529b ",n.mt]}),n.cd&&Object(r.jsxs)(Nn,{cd:n.cd,children:["\u5967\u7fa9 cd",Hn(n.cd)]}),Object(r.jsxs)(Mn,{children:[n.hp&&Object(r.jsxs)(En,{children:["HP ",Hn(n.hp)]}),n.atk&&Object(r.jsxs)(En,{children:["\u653b\u64ca ",Hn(n.atk)]}),n.spd&&Object(r.jsxs)(En,{children:["\u901f\u5ea6 ",Hn(n.spd)]}),n.def&&Object(r.jsxs)(En,{children:["\u9632\u5b88 ",Hn(n.def)]}),n.res&&Object(r.jsxs)(En,{children:["\u9b54\u9632 ",Hn(n.res)]})]}),n.exclusive&&Object(r.jsx)(Rn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function Fn(e){var t=e.heroId,n=e.weapon,c=e.selectWeapon,l=function(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.heroDB,s=c.weaponDB,o=Object(a.useMemo)((function(){return R({heroDB:l,weaponDB:s,heroId:t})}),[t,l,s]);return{options:Object(a.useMemo)((function(){return o.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),In(In({},e),{},{hidden:t})}))}),[o,n,r])}}({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,o=Object(a.useCallback)((function(e){e.stopPropagation(),c(e.currentTarget.value)}),[c]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(Cn,{active:!n,value:"",onClick:o,children:"\u7121\u6b66\u5668"}),l.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Wn,{hidden:t,weapon:i,active:n===e.id,onClick:o},e.id)}))]})}var Ln=Object(a.memo)(Fn);var Vn=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.weapon,l=e.selectWeapon,s=e.maxSkill,o=e.toggleMaxSkill,d=e.setDefaultSkill,u=Object(a.useState)(""),j=u[0],b=u[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:n}),Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:"\u6b66\u5668"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),Object(r.jsx)(Dt,{onClick:d})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6b66\u5668\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Ln,{heroId:i,weapon:c,filter:j,maxSkill:s,selectWeapon:h})})]})};function zn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontSize:"1.25em",fontWeight:"bolder",display:"flex",alignItems:"center",height:"2em"},children:t})}function Un(e){var t=e.src;return Object(r.jsx)(xt.a,{src:t,width:"32px",height:"32px",style:{width:"32px",height:"32px",marginRight:"0.25em"}})}function Yn(e){var t=e.children;return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:t})}function Jn(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"flex"},children:t})}function qn(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"jsx-2400499899",children:t}),Object(r.jsx)(pt.a,{id:"2400499899",children:["div.jsx-2400499899:not(:last-child){margin-right:1em;}"]})]})}function Xn(e){var t=e.cd,n=e.children;return t?Object(r.jsx)("div",{style:{color:t<0?"lightskyblue":"palevioletred"},children:n}):null}function Qn(e){var t=e.children;return Object(r.jsx)("div",{style:{color:"salmon"},children:t})}var Gn=function(e){return e>0?"+".concat(e):"".concat(e)};var Zn=function(e){var t=e.active,n=e.hidden,i=e.refineType,c=e.refine,l=e.onClick;return Object(r.jsxs)(Cn,{active:t,last:!0,hidden:n,value:i,onClick:l,children:[Object(r.jsxs)(zn,{children:[c.icon&&Object(r.jsx)(Un,{src:c.icon}),c.name]}),c.mt&&Object(r.jsxs)(Yn,{children:["\u5a01\u529b ",c.mt]}),c.cd&&Object(r.jsxs)(Xn,{cd:c.cd,children:["\u5967\u7fa9 cd",Gn(c.cd)]}),Object(r.jsxs)(Jn,{children:[c.hp&&Object(r.jsxs)(qn,{children:["HP ",Gn(c.hp)]}),c.atk&&Object(r.jsxs)(qn,{children:["\u653b\u64ca ",Gn(c.atk)]}),c.spd&&Object(r.jsxs)(qn,{children:["\u901f\u5ea6 ",Gn(c.spd)]}),c.def&&Object(r.jsxs)(qn,{children:["\u9632\u5b88 ",Gn(c.def)]}),c.res&&Object(r.jsxs)(qn,{children:["\u9b54\u9632 ",Gn(c.res)]})]}),c.exclusive&&Object(r.jsx)(Qn,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})};function Kn(e){var t=e.heroId,n=e.weapon,c=e.refine,l=e.selectRefine,o=function(e){var t=e.heroId,n=e.weapon,r=Object(i.b)(),c=r.heroDB,l=r.weaponDB;return{options:Object(a.useMemo)((function(){return V({heroDB:c,weaponDB:l,heroId:t,weapon:n})}),[c,l,t,n])}}({heroId:t,weapon:n}).options,d=Object(a.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(Cn,{active:!c,value:"",onClick:d,children:"\u7121\u935b\u9020"}),o.map((function(e){var t=e.value,n=Object(s.a)(e,["value"]);return Object(r.jsx)(Zn,{refineType:t,refine:n,active:c===t,onClick:d},t)}))]})}var $n=Object(a.memo)(Kn);var er=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.weapon,l=e.refine,s=e.selectRefine,o=Object(a.useCallback)((function(e){s(e),n()}),[s,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:n}),Object(r.jsx)(St,{children:Object(r.jsx)("span",{children:"\u935b\u9020"})})]}),Object(r.jsx)(Tt,{children:Object(r.jsx)($n,{heroId:i,weapon:c,refine:l,selectRefine:o})})]})};function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e){var t=e.active,n=e.hidden,i=e.skill,c=e.onClick;return Object(r.jsxs)(Cn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Et,{children:[Object(r.jsxs)(Nt,{children:[i.icon&&Object(r.jsx)(Ht,{src:"/skills/".concat(i.icon)}),i.name]}),Object(r.jsxs)(Rt,{children:[i.sp,"SP"]})]}),i.mt&&Object(r.jsxs)(Ft,{children:["\u5a01\u529b ",i.mt]}),i.cd&&Object(r.jsxs)(zt,{cd:i.cd,children:["\u5967\u7fa9 cd",Yt(i.cd)]}),Object(r.jsxs)(Lt,{children:[i.hp&&Object(r.jsxs)(Vt,{children:["HP ",Yt(i.hp)]}),i.atk&&Object(r.jsxs)(Vt,{children:["\u653b\u64ca ",Yt(i.atk)]}),i.spd&&Object(r.jsxs)(Vt,{children:["\u901f\u5ea6 ",Yt(i.spd)]}),i.def&&Object(r.jsxs)(Vt,{children:["\u9632\u5b88 ",Yt(i.def)]}),i.res&&Object(r.jsxs)(Vt,{children:["\u9b54\u9632 ",Yt(i.res)]})]}),i.exclusive&&Object(r.jsx)(Ut,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var ir=Object(a.memo)(rr);function cr(e){var t=e.heroId,n=e.skillType,c=e.skillId,l=e.selectSkill,o=e.filter,d=e.maxSkill,u=function(e){var t=e.heroId,n=e.skillType,r=e.filter,c=e.maxSkill,l=Object(i.b)(),s=l.rulesDB,o=l.heroDB,d=l["".concat(n,"DB")],u=Object(a.useMemo)((function(){return C({rulesDB:s,heroDB:o,skillDB:d,heroId:t})}),[s,o,d,t]);return{options:Object(a.useMemo)((function(){return u.map((function(e){var t=!1;return c&&!e.last&&(t=!0),!t&&r&&(t=!e.query.includes(r.toLowerCase())),nr(nr({},e),{},{hidden:t})}))}),[u,r,c])}}({heroId:t,skillType:n,skillId:c,filter:o,maxSkill:d}).options,j=Object(a.useCallback)((function(e){e.stopPropagation(),l(e.currentTarget.value)}),[l]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(Cn,{active:!c,value:"",onClick:j,children:"\u7121\u6280\u80fd"}),u.map((function(e){var t=e.hidden,n=Object(s.a)(e,["hidden"]);return Object(r.jsx)(ir,{hidden:t,active:c===n.id,skill:n,onClick:j},n.id)}))]})}var lr=Object(a.memo)(cr);var sr=function(e){var t=e.hidden,n=e.skillType,i=e.title,c=e.onClickBack,l=e.heroId,s=e.skillId,o=e.selectSkill,d=e.maxSkill,u=e.toggleMaxSkill,j=e.setDefaultSkill,b=Object(a.useState)(""),p=b[0],h=b[1],O=Object(a.useCallback)((function(e){h(e.currentTarget.value)}),[]),f=Object(a.useCallback)((function(e){o(e),c()}),[o,c]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:c}),Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:i}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:d,onChange:u,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),j&&Object(r.jsx)(Dt,{onClick:j})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:O}),Object(r.jsx)(Tt,{children:Object(r.jsx)(lr,{heroId:l,skillType:n,skillId:s,selectSkill:f,filter:p,maxSkill:d})})]})};function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.rulesDB,s=c.heroDB,o=c.assistDB,d=Object(a.useMemo)((function(){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.assistDB,i=e.heroId;if(!t||!n||!r||!i)return[];var c=Object(k.c)(n,i);return c?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=v({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[c.moveType])&&(!n.weaponType||!1!==n.weaponType[c.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return g(g({},e),{},{query:t})})):[]}({rulesDB:l,heroDB:s,assistDB:o,heroId:t})}),[l,s,o,t]);return{options:Object(a.useMemo)((function(){return d.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),or(or({},e),{},{hidden:t})}))}),[d,n,r])}}function ur(e){var t=e.active,n=e.hidden,i=e.assist,c=e.onClick;return Object(r.jsxs)(Cn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)(Nt,{children:i.name}),Object(r.jsxs)(Wt,{children:[i.sp,"SP"]})]}),i.exclusive&&Object(r.jsx)(Ut,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var jr=Object(a.memo)(ur);function br(e){var t=e.heroId,n=e.assist,i=e.selectAssist,c=dr({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,l=Object(a.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(Cn,{active:!n,value:"",onClick:l,children:"\u7121\u6280\u80fd"}),c.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(jr,{hidden:t,active:n===i.id,assist:i,onClick:l},i.id)}))]})}var pr=Object(a.memo)(br);var hr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.assist,l=e.selectAssist,s=e.maxSkill,o=e.toggleMaxSkill,d=e.setDefaultSkill,u=Object(a.useState)(""),j=u[0],b=u[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:n}),Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:"\u652f\u63f4"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),d&&Object(r.jsx)(Dt,{onClick:d})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(pr,{heroId:i,assist:c,selectAssist:h,filter:j,maxSkill:s})})]})};function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.rulesDB,s=c.heroDB,o=c.specialDB,d=Object(a.useMemo)((function(){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.specialDB,i=e.heroId;if(!t||!n||!r||!i)return[];var c=Object(k.c)(n,i);return c?Object.values(r).filter((function(e){if(e.exclusive)return e.exclusive.includes(i);var n=v({rulesDB:t,ruleId:e.rules});return!n||(!n.moveType||!1!==n.moveType[c.moveType])&&(!n.weaponType||!1!==n.weaponType[c.weaponType])})).map((function(e){var t="".concat(e.id.toLowerCase(),"|").concat(e.name);return A(A({},e),{},{query:t})})):[]}({rulesDB:l,heroDB:s,specialDB:o,heroId:t})}),[l,s,o,t]);return{options:Object(a.useMemo)((function(){return d.map((function(e){var t=!1;return r&&!e.last&&(t=!0),!t&&n&&(t=!e.query.includes(n.toLowerCase())),fr(fr({},e),{},{hidden:t})}))}),[d,n,r])}}function vr(e){var t=e.active,n=e.hidden,i=e.special,c=e.onClick;return Object(r.jsxs)(Cn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Et,{children:[Object(r.jsx)(Nt,{children:i.name}),Object(r.jsxs)(Wt,{children:[i.sp,"SP"]})]}),Object(r.jsxs)("div",{children:["CD ",i.cd]}),i.exclusive&&Object(r.jsx)(Ut,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var xr=Object(a.memo)(vr);function gr(e){var t=e.heroId,n=e.special,i=e.selectSpecial,c=kr({heroId:t,filter:e.filter,maxSkill:e.maxSkill}).options,l=Object(a.useCallback)((function(e){e.stopPropagation(),i(e.currentTarget.value)}),[i]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(Cn,{active:!n,value:"",onClick:l,children:"\u7121\u6280\u80fd"}),c.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(xr,{hidden:t,active:n===i.id,special:i,onClick:l},i.id)}))]})}var mr=Object(a.memo)(gr);var yr=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.special,l=e.selectSpecial,s=e.maxSkill,o=e.toggleMaxSkill,d=e.setDefaultSkill,u=Object(a.useState)(""),j=u[0],b=u[1],p=Object(a.useCallback)((function(e){b(e.currentTarget.value)}),[]),h=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:n}),Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:"\u5967\u7fa9"}),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"}),d&&Object(r.jsx)(Dt,{onClick:d})]})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u5967\u7fa9\u540d\u7a31",onChange:p}),Object(r.jsx)(Tt,{children:Object(r.jsx)(mr,{heroId:i,special:c,selectSpecial:h,filter:j,maxSkill:s})})]})};function wr(e){var t=e.active,n=e.hidden,i=e.skill,c=e.onClick;return Object(r.jsxs)(Cn,{active:t,last:i.last,hidden:n,value:i.id,onClick:c,children:[Object(r.jsxs)(Nt,{children:[i.icon&&Object(r.jsx)(Ht,{src:"/skills/".concat(i.icon)}),i.name]}),i.mt&&Object(r.jsxs)(Ft,{children:["\u5a01\u529b ",i.mt]}),i.cd&&Object(r.jsxs)(zt,{cd:i.cd,children:["\u5967\u7fa9 cd",Yt(i.cd)]}),Object(r.jsxs)(Lt,{children:[i.hp&&Object(r.jsxs)(Vt,{children:["HP ",Yt(i.hp)]}),i.atk&&Object(r.jsxs)(Vt,{children:["\u653b\u64ca ",Yt(i.atk)]}),i.spd&&Object(r.jsxs)(Vt,{children:["\u901f\u5ea6 ",Yt(i.spd)]}),i.def&&Object(r.jsxs)(Vt,{children:["\u9632\u5b88 ",Yt(i.def)]}),i.res&&Object(r.jsxs)(Vt,{children:["\u9b54\u9632 ",Yt(i.res)]})]}),i.exclusive&&Object(r.jsx)(Ut,{children:"\u9650\u5b9a\u672c\u4eba\u88dd\u5099"})]})}var Dr=Object(a.memo)(wr);function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sr(e){var t=e.skill,n=e.maxSkill,r=e.filter,i=!1;return n&&!t.last&&(i=!0),!i&&r&&(i=!t.query.includes(r.toLowerCase())),Cr(Cr({},t),{},{hidden:i})}function Ir(e){var t=e.heroId,n=e.seal,c=e.selectSeal,l=function(e){var t=e.heroId,n=e.filter,r=e.maxSkill,c=Object(i.b)(),l=c.rulesDB,s=c.heroDB,o=c.sealDB;return{skillAOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.skillA,heroId:t}).map((function(e){return Sr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r]),skillBOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.skillB,heroId:t}).map((function(e){return Sr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r]),skillCOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.skillC,heroId:t}).map((function(e){return Sr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r]),sealOptions:Object(a.useMemo)((function(){return C({rulesDB:l,heroDB:s,skillDB:o.seal,heroId:t}).map((function(e){return Sr({skill:e,maxSkill:r,filter:n})}))}),[l,s,o,t,n,r])}}({heroId:t,filter:e.filter,maxSkill:e.maxSkill}),o=l.skillAOptions,d=l.skillBOptions,u=l.skillCOptions,j=l.sealOptions,b=Object(a.useCallback)((function(e){e.stopPropagation(),c(e.currentTarget.value)}),[c]);return Object(r.jsxs)(Mt,{children:[Object(r.jsx)(Cn,{active:!n,value:"",onClick:b,children:"\u7121\u8056\u5370"}),Object(r.jsx)(Jt,{children:"A\u6280\u80fd\u8056\u5370"}),o.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Dr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(Jt,{children:"B\u6280\u80fd\u8056\u5370"}),d.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Dr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(Jt,{children:"C\u6280\u80fd\u8056\u5370"}),u.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Dr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)})),Object(r.jsx)(Jt,{children:"\u5c08\u7528\u8056\u5370"}),j.map((function(e){var t=e.hidden,i=Object(s.a)(e,["hidden"]);return Object(r.jsx)(Dr,{hidden:t,active:n===i.id,skill:i,onClick:b},i.id)}))]})}var Pr=Object(a.memo)(Ir);var Ar=function(e){var t=e.hidden,n=e.onClickBack,i=e.heroId,c=e.seal,l=e.selectSeal,s=e.maxSkill,o=e.toggleMaxSkill,d=Object(a.useState)(""),u=d[0],j=d[1],b=Object(a.useCallback)((function(e){j(e.currentTarget.value)}),[]),p=Object(a.useCallback)((function(e){l(e),n()}),[l,n]);return Object(r.jsxs)(Bt,{hidden:t,children:[Object(r.jsxs)(Ct,{children:[Object(r.jsx)(on,{onClick:n}),Object(r.jsxs)(St,{children:[Object(r.jsx)("span",{children:"\u8056\u5370"}),Object(r.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(r.jsx)(vt,{checked:s,onChange:o,children:"\u50c5\u9ad8\u7d1a\u6280\u80fd"})})]})]}),Object(r.jsx)("input",{className:wt.a.input,placeholder:"\u6280\u80fd\u540d\u7a31",onChange:b}),Object(r.jsx)(Tt,{children:Object(r.jsx)(Pr,{heroId:i,seal:c,selectSeal:p,filter:u,maxSkill:s})})]})};var _r=function(){var e=Object(a.useState)(""),t=e[0],n=e[1];return{view:t,openHeroPicker:Object(a.useCallback)((function(){n("hero")}),[]),openRarityPicker:Object(a.useCallback)((function(){n("rarity")}),[]),openIVPicker:Object(a.useCallback)((function(){n("iv")}),[]),openMergePicker:Object(a.useCallback)((function(){n("merge")}),[]),openDragonflowerPicker:Object(a.useCallback)((function(){n("dragonflower")}),[]),openBlessingPicker:Object(a.useCallback)((function(){n("blessing")}),[]),openWeaponPicker:Object(a.useCallback)((function(){n("weapon")}),[]),openRefinePicker:Object(a.useCallback)((function(){n("refine")}),[]),openAssistPicker:Object(a.useCallback)((function(){n("assist")}),[]),openSpecialPicker:Object(a.useCallback)((function(){n("special")}),[]),openSkillAPicker:Object(a.useCallback)((function(){n("skillA")}),[]),openSkillBPicker:Object(a.useCallback)((function(){n("skillB")}),[]),openSkillCPicker:Object(a.useCallback)((function(){n("skillC")}),[]),openSealPicker:Object(a.useCallback)((function(){n("seal")}),[]),onClickBack:Object(a.useCallback)((function(){n("")}),[])}};function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Er=function(e){var t=_r(),n=t.view,i=t.openHeroPicker,c=t.openRarityPicker,l=t.openIVPicker,s=t.openMergePicker,a=t.openDragonflowerPicker,o=t.openBlessingPicker,d=t.openWeaponPicker,u=t.openRefinePicker,j=t.openAssistPicker,b=t.openSpecialPicker,p=t.openSkillAPicker,h=t.openSkillBPicker,O=t.openSkillCPicker,f=t.openSealPicker,k=t.onClickBack;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(rn,Mr(Mr({hidden:!!n},e),{},{openHeroPicker:i,openRarityPicker:c,openIVPicker:l,openMergePicker:s,openDragonflowerPicker:a,openBlessingPicker:o,openWeaponPicker:d,openRefinePicker:u,openAssistPicker:j,openSpecialPicker:b,openSkillAPicker:p,openSkillBPicker:h,openSkillCPicker:O,openSealPicker:f})),Object(r.jsx)(dn,{hidden:"hero"!==n,heroId:e.heroId,onChangeHero:e.onChangeHero,onClickBack:k,resplendent:e.resplendent}),Object(r.jsx)(jn,{hidden:"rarity"!==n,rarity:e.rarity,selectRarity:e.setRarity,onClickBack:k}),Object(r.jsx)(On,{hidden:"iv"!==n,iv:e.iv,selectIV:e.setIV,onClickBack:k}),Object(r.jsx)(xn,{hidden:"blessing"!==n,blessing:e.blessing,selectBlessing:e.setBlessing,onClickBack:k}),Object(r.jsx)(mn,{hidden:"merge"!==n,merge:e.merge,selectMerge:e.setMerge,onClickBack:k}),Object(r.jsx)(Bn,{hidden:"dragonflower"!==n,dragonflower:e.dragonflower,selectDragonflower:e.setDragonflower,onClickBack:k}),Object(r.jsx)(Vn,{hidden:"weapon"!==n,onClickBack:k,heroId:e.heroId,weapon:e.weapon,selectWeapon:e.setWeapon,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultWeapon}),Object(r.jsx)(er,{hidden:"refine"!==n,onClickBack:k,heroId:e.heroId,weapon:e.weapon,refine:e.refine,selectRefine:e.setRefine}),Object(r.jsx)(hr,{hidden:"assist"!==n,onClickBack:k,heroId:e.heroId,assist:e.assist,selectAssist:e.setAssist,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultAssist}),Object(r.jsx)(yr,{title:"A\u6280\u80fd",hidden:"special"!==n,onClickBack:k,heroId:e.heroId,special:e.special,selectSpecial:e.setSpecial,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSpecial}),Object(r.jsx)(sr,{skillType:"skillA",title:"A\u6280\u80fd",hidden:"skillA"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillA,selectSkill:e.setSkillA,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillA}),Object(r.jsx)(sr,{skillType:"skillB",title:"B\u6280\u80fd",hidden:"skillB"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillB,selectSkill:e.setSkillB,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillB}),Object(r.jsx)(sr,{skillType:"skillC",title:"C\u6280\u80fd",hidden:"skillC"!==n,onClickBack:k,heroId:e.heroId,skillId:e.skillC,selectSkill:e.setSkillC,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill,setDefaultSkill:e.setDefaultSkillC}),Object(r.jsx)(Ar,{hidden:"seal"!==n,onClickBack:k,heroId:e.heroId,seal:e.skillC,selectSeal:e.setSeal,maxSkill:e.maxSkill,toggleMaxSkill:e.toggleMaxSkill})]})},Nr={weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""};function Rr(){var e=Object(i.b)(),t=e.rulesDB,n=e.heroDB,r=e.weaponDB,c=e.assistDB,l=e.specialDB,s=e.skillADB,o=e.skillBDB,d=e.skillCDB,u=e.sealDB,j=e.defaultSkillDB,b=Object(a.useState)("Feh"),p=b[0],h=b[1],O=Object(a.useState)(5),x=O[0],g=O[1],m=Object(a.useState)(""),y=m[0],w=m[1],D=Object(a.useState)(0),B=D[0],C=D[1],I=Object(a.useState)(0),P=I[0],A=I[1],_=Object(a.useState)(""),T=_[0],M=_[1],E=Object(a.useState)(!1),N=E[0],R=E[1],F=Object(a.useCallback)((function(){R((function(e){return!e}))}),[]),L=Object(a.useRef)({weapon:"",assist:"",special:"",skillA:"",skillB:"",skillC:""}),V=Object(a.useRef)(""),z=Object(a.useState)(""),U=z[0],Y=z[1],J=Object(a.useState)(""),q=J[0],X=J[1],Q=Object(a.useState)(""),G=Q[0],Z=Q[1],K=Object(a.useState)(""),$=K[0],ee=K[1],te=Object(a.useState)(""),ne=te[0],re=te[1],ie=Object(a.useState)(""),ce=ie[0],le=ie[1],se=Object(a.useState)(""),ae=se[0],oe=se[1],de=Object(a.useState)(""),ue=de[0],je=de[1],be=Object(a.useCallback)((function(){Y(L.current.weapon)}),[]),pe=Object(a.useCallback)((function(){Z(L.current.assist)}),[]),he=Object(a.useCallback)((function(){ee(L.current.special)}),[]),Oe=Object(a.useCallback)((function(){re(L.current.skillA)}),[]),fe=Object(a.useCallback)((function(){le(L.current.skillB)}),[]),ke=Object(a.useCallback)((function(){oe(L.current.skillC)}),[]),ve=Object(a.useCallback)((function(){be(),pe(),he(),Oe(),fe(),ke()}),[be,pe,he,Oe,fe,ke]);V.current=U;var xe=Object(a.useCallback)((function(e){h(e),L.current=function(e){var t=e.defaultSkillDB,n=e.heroId;if(!t||!n||!t[n])return Nr;var r=t[n],i="",c="",l="",s="",a="",o="";return r.weapon&&(i=Object.keys(r.weapon).pop()),r.assist&&(c=Object.keys(r.assist).pop()),r.special&&(l=Object.keys(r.special).pop()),r.skillA&&(s=Object.keys(r.skillA).pop()),r.skillB&&(a=Object.keys(r.skillB).pop()),r.skillC&&(o=Object.keys(r.skillC).pop()),{weapon:i,assist:c,special:l,skillA:s,skillB:a,skillC:o}}({defaultSkillDB:j,heroId:e}),Y((function(){return H({heroDB:n,weaponDB:r,heroId:e,weaponId:V.current})?V.current:""})),X((function(t){return function(e){var t=e.heroDB,n=e.weaponDB,r=e.heroId,i=e.weaponId,c=e.refineId;if(!H({heroDB:t,weaponDB:n,heroId:r,weaponId:i}))return!1;var l=W({heroDB:t,weaponDB:n,heroId:r,weapon:i});return!!(l&&l.refine&&l.refine[c])&&(!l.refine[c].exclusive||l.refine[c].exclusive.includes(r))}({heroDB:n,weaponDB:r,heroId:e,weaponId:V.current,refineId:t})?t:""})),Z((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.assistDB,i=e.heroId,c=e.assistId;if(!t||!n||!r||!i||!c)return!1;var l=Object(k.c)(n,i);if(!l)return!1;var s=r[c];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=v({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}({rulesDB:t,heroDB:n,assistDB:c,heroId:e,assistId:r})?r:""})),ee((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.specialDB,i=e.heroId,c=e.specialId;if(!t||!n||!r||!i||!c)return!1;var l=Object(k.c)(n,i);if(!l)return!1;var s=r[c];if(!s)return!1;if(s.exclusive)return s.exclusive.includes(i);var a=v({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}({rulesDB:t,heroDB:n,specialDB:l,heroId:e,specialId:r})?r:""})),re((function(r){return S({rulesDB:t,heroDB:n,skillDB:s,heroId:e,skillId:r})?r:""})),le((function(r){return S({rulesDB:t,heroDB:n,skillDB:o,heroId:e,skillId:r})?r:""})),oe((function(r){return S({rulesDB:t,heroDB:n,skillDB:d,heroId:e,skillId:r})?r:""})),je((function(r){return function(e){var t=e.rulesDB,n=e.heroDB,r=e.sealDB,i=e.heroId,c=e.sealId;if(!n||!r||!i||!c)return!1;var l=Object(k.c)(n,i);if(!l)return!1;var s=r.skillA[c]||r.skillB[c]||r.skillC[c]||r.seal[c];if(!s)return!1;var a=v({rulesDB:t,ruleId:s.rules});return!a||(!a.moveType||!1!==a.moveType[l.moveType])&&(!a.weaponType||!1!==a.weaponType[l.weaponType])}({rulesDB:t,heroDB:n,sealDB:u,heroId:e,sealId:r})?r:""}))}),[t,n,r,c,l,s,o,d,u,j]),ge=Object(a.useState)(!1),me=ge[0],ye=ge[1],we=Object(a.useCallback)((function(){ye((function(e){return!e}))}),[]),De=Object(a.useState)(!1),Be=De[0],Ce=De[1],Se=Object(a.useCallback)((function(){Ce((function(e){return!e}))}),[]),Ie=Object(a.useState)(!1),Pe=Ie[0],Ae=Ie[1],_e=Object(a.useCallback)((function(){Ae((function(e){return!e}))}),[]),Te=Object(a.useState)(!0),Me=Te[0],Ee=Te[1],Ne=Object(a.useCallback)((function(){Ee((function(e){return!e}))}),[]),Re=Object(a.useState)(!1),He=Re[0],We=Re[1],Fe=Object(a.useCallback)((function(){We(!0)}),[]),Le=Object(a.useCallback)((function(){We(!1)}),[]),Ve=Object(f.a)("/assets/summon-stone.jpg");return{heroId:p,onChangeHero:xe,rarity:x,setRarity:g,iv:y,setIV:w,merge:B,setMerge:C,dragonflower:P,setDragonflower:A,blessing:T,setBlessing:M,support:N,toggleSupport:F,arena:me,toggleArena:we,resplendent:Be,toggleResplendent:Se,weapon:U,setWeapon:Y,refine:q,setRefine:X,assist:G,setAssist:Z,special:$,setSpecial:ee,skillA:ne,setSkillA:re,skillB:ce,setSkillB:le,skillC:ae,setSkillC:oe,seal:ue,setSeal:je,setDefaultWeapon:be,setDefaultAssist:pe,setDefaultSpecial:he,setDefaultSkillA:Oe,setDefaultSkillB:fe,setDefaultSkillC:ke,setAllSkillDefault:ve,lv1:Pe,toggleLv1:_e,maxSkill:Me,toggleMaxSkill:Ne,bg:Ve,editorIsOpen:He,openEditor:Fe,closeEditor:Le}}var Hr=n("LMmd"),Wr=n.n(Hr);var Fr=function(){var e=Rr(),t=e.heroId,n=e.onChangeHero,i=e.rarity,c=e.setRarity,s=e.iv,a=e.setIV,o=e.merge,d=e.setMerge,u=e.dragonflower,j=e.setDragonflower,b=e.blessing,p=e.setBlessing,h=e.support,O=e.toggleSupport,f=e.arena,k=e.toggleArena,v=e.resplendent,x=e.toggleResplendent,g=e.weapon,m=e.setWeapon,y=e.refine,w=e.setRefine,D=e.assist,B=e.setAssist,C=e.special,S=e.setSpecial,I=e.skillA,P=e.setSkillA,A=e.skillB,_=e.setSkillB,T=e.skillC,M=e.setSkillC,E=e.seal,N=e.setSeal,R=e.setDefaultWeapon,H=e.setDefaultAssist,W=e.setDefaultSpecial,F=e.setDefaultSkillA,L=e.setDefaultSkillB,V=e.setDefaultSkillC,z=e.setAllSkillDefault,U=e.lv1,Y=e.toggleLv1,J=e.maxSkill,q=e.toggleMaxSkill,X=e.bg,Q=e.editorIsOpen,G=e.openEditor,Z=e.closeEditor;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{children:Object(r.jsx)("title",{children:"\u55ae\u5175\u88fd\u9020\u6a5f"})}),Object(r.jsx)("div",{style:{background:"url('".concat(X,"') center / cover no-repeat fixed")},children:Object(r.jsxs)("div",{className:Wr.a.container,children:[Object(r.jsx)("div",{className:Wr.a.viewer,children:Object(r.jsx)(at,{heroId:t,rarity:i,iv:s,merge:o,dragonflower:u,blessing:b,support:h,arena:f,resplendent:v,weapon:g,refine:y,assist:D,special:C,skillA:I,skillB:A,skillC:T,seal:E,lv1:U,openEditor:G})}),Object(r.jsx)("div",{className:Wr.a.editor,hidden:!Q,children:Object(r.jsx)(Er,{heroId:t,onChangeHero:n,rarity:i,setRarity:c,iv:s,setIV:a,merge:o,setMerge:d,dragonflower:u,setDragonflower:j,blessing:b,setBlessing:p,support:h,toggleSupport:O,arena:f,toggleArena:k,resplendent:v,toggleResplendent:x,weapon:g,setWeapon:m,refine:y,setRefine:w,assist:D,setAssist:B,special:C,setSpecial:S,skillA:I,setSkillA:P,skillB:A,setSkillB:_,skillC:T,setSkillC:M,seal:E,setSeal:N,setDefaultWeapon:R,setDefaultAssist:H,setDefaultSpecial:W,setDefaultSkillA:F,setDefaultSkillB:L,setDefaultSkillC:V,setAllSkillDefault:z,lv1:U,toggleLv1:Y,maxSkill:J,toggleMaxSkill:q,closeEditor:Z})})]})})]})};var Lr=!0;t.default=function(e){var t=e.db;return Object(r.jsx)(i.a.Provider,{value:t,children:Object(r.jsx)(Fr,{})})}},LMmd:function(e,t,n){e.exports={container:"UnitEditor_container__1PG6T",viewer:"UnitEditor_viewer__2ZQQp",editor:"UnitEditor_editor__36g2J"}},XJgP:function(e,t,n){e.exports={container:"styles_container__3csrI","neutral-button":"styles_neutral-button__2Xm3a","iv-button":"styles_iv-button__2PgFW"}},dLxW:function(e,t,n){e.exports={container:"styles_container__1uNtQ","neutral-button":"styles_neutral-button__HXZYg","blessing-button":"styles_blessing-button__m41R8"}},jsgU:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uniteditor",function(){return n("4NHs")}])},oYQy:function(e,t,n){e.exports={button:"editor_button__2bje7",title:"editor_title__38fof","title-textgroup":"editor_title-textgroup__1ohLJ",content:"editor_content__1OtHF",section:"editor_section__f2th3","section-group":"editor_section-group__242gp","hero-header":"editor_hero-header__rwTMX","button-content":"editor_button-content__3umvY","editor-img":"editor_editor-img__1daYT","close-button":"editor_close-button__3FeSO",container:"editor_container__3yfjQ",input:"editor_input__16kLJ",options:"editor_options__2QYDS"}},vzA3:function(e,t,n){e.exports={label:"labelcheckbox_label__1h2GM","label-checkbox":"labelcheckbox_label-checkbox__3dshW"}},wwxT:function(e,t,n){e.exports={canvas:"UnitViewer_canvas__ZU91i",container:"UnitViewer_container__2EDNF",button:"UnitViewer_button__1Aa1C",download:"UnitViewer_download__2J1oh",menu:"UnitViewer_menu__3HcnP"}}},[["jsgU",0,1,2,4,5]]]);