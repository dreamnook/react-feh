(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{1152:function(e,n,t){"use strict";var s=t(5893),r=t(7294),l=t(2204);n.Z=function(e){let{ascended:n,rearmed:t,style:a={}}=e,i=(0,l.Z)("/assets/Diabolos.png"),o=(0,r.useMemo)(()=>{let e={background:"no-repeat url('".concat(i,"')"),backgroundSize:"cover",transform:"rotate(-90deg)",width:"55px",height:"52px",...a};return n&&(e.backgroundPosition="-1px 0px"),t&&(e.backgroundPosition="-58px 0px"),e},[n,t,i,a]);return n||t?(0,s.jsx)("div",{style:o}):null}},5307:function(e,n,t){"use strict";var s=t(5893),r=t(2204),l=t(9298),a=t.n(l);n.Z=function(e){let{style:n={}}=e,t=(0,r.Z)("/assets/attuned.png");return(0,s.jsx)("div",{className:a().icon,style:{backgroundImage:"url('".concat(t,"')"),...n}})}},463:function(e,n,t){"use strict";var s=t(5893),r=t(2204),l=t(2978),a=t.n(l);n.Z=function(e){let{style:n={}}=e,t=(0,r.Z)("/assets/unit-duo.png");return(0,s.jsx)("div",{className:a().icon,style:{backgroundImage:"url('".concat(t,"')"),...n}})}},9004:function(e,n,t){"use strict";var s=t(5893),r=t(2204),l=t(3773),a=t.n(l);n.Z=function(e){let{style:n={}}=e,t=(0,r.Z)("/assets/Heroic_Grail.png");return(0,s.jsx)("div",{className:a().icon,style:{backgroundImage:"url('".concat(t,"')"),...n}})}},2983:function(e,n,t){"use strict";var s=t(5893),r=t(2204),l=t(5243),a=t.n(l);n.Z=function(e){let{style:n={}}=e,t=(0,r.Z)("/assets/harmonized.png");return(0,s.jsx)("div",{className:a().icon,style:{backgroundImage:"url('".concat(t,"')"),...n}})}},200:function(e,n,t){"use strict";var s=t(5893),r=t(7294),l=t(6858),a=t(2204);let i=e=>"".concat(-56*e,"px 0");n.Z=function(e){let{moveType:n}=e,t=(0,a.Z)("/assets/move-type.png"),o=(0,r.useMemo)(()=>{let e=l.dM.indexOf(n);return{background:"no-repeat url('".concat(t,"')"),backgroundPosition:i(e),width:"52px",height:"55px"}},[n,t]);return(0,s.jsx)("div",{style:o})}},9165:function(e,n,t){"use strict";var s=t(5893),r=t(2204),l=t(1946),a=t.n(l);n.Z=function(e){let{style:n={}}=e,t=(0,r.Z)("/assets/rarity4.png");return(0,s.jsx)("div",{className:a().icon,style:{backgroundImage:"url('".concat(t,"')"),...n}})}},7561:function(e,n,t){"use strict";var s=t(5893),r=t(2204),l=t(6115),a=t.n(l);n.Z=function(e){let{style:n={}}=e,t=(0,r.Z)("/assets/rarity5.png");return(0,s.jsx)("div",{className:a().icon,style:{backgroundImage:"url('".concat(t,"')"),...n}})}},5642:function(e,n,t){"use strict";var s=t(5893),r=t(7294),l=t(6858),a=t(2204);let i=e=>"".concat(-56*e-2,"px -2px");n.Z=function(e){let{weaponType:n}=e,t=(0,a.Z)("/assets/weapon-type.png"),o=(0,r.useMemo)(()=>{let e=l.s6.indexOf(n);return{background:"no-repeat url('".concat(t,"')"),backgroundPosition:i(e),width:"52px",height:"55px"}},[t,n]);return(0,s.jsx)("div",{style:o})}},3321:function(e,n,t){"use strict";var s=t(5893),r=t(7294),l=t(5642),a=t(200),i=t(1152),o=t(4530),c=t(8252),u=t.n(c);n.Z=(0,r.memo)(function(e){let{hidden:n,faceSrc:t,title:c,name:d,weaponType:g,moveType:h,blessingSrc:p,bst:f,hp:v,atk:b,spd:k,def:m,res:x,pool:j,ascended:w,rearmed:_,attuned:D,order:B}=e,y=(0,r.useMemo)(()=>n?{display:"none",order:B}:{order:B},[n,B]);return(0,s.jsxs)("div",{className:u().container,style:y,children:[(0,s.jsxs)("div",{className:u()["img-container"],children:[(0,s.jsx)(o.Z,{src:t,loading:"lazy"}),f&&(0,s.jsx)("div",{className:u().bst,children:f})]}),(0,s.jsxs)("div",{className:u().right,children:[(0,s.jsx)("div",{className:u()["title-and-name"],children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:u().title,children:c}),(0,s.jsx)("div",{className:u().name,children:d})]})}),(0,s.jsxs)("div",{className:u().types,children:[(0,s.jsx)(l.Z,{weaponType:g}),(0,s.jsx)(a.Z,{moveType:h}),"duo"===j&&(0,s.jsx)(o.Z,{src:"/assets/unit-duo.png",loading:"lazy",className:u().blessing}),"harmonized"===j&&(0,s.jsx)(o.Z,{src:"/assets/harmonized.png",loading:"lazy",className:u().blessing}),"grail"===j&&(0,s.jsx)(o.Z,{src:"/assets/Heroic_Grail.png",loading:"lazy",className:u().blessing}),(w||_)&&(0,s.jsx)(i.Z,{ascended:w,rearmed:_}),p&&(0,s.jsx)(o.Z,{src:p,loading:"lazy",className:u().blessing}),D&&(0,s.jsx)(o.Z,{src:"/assets/attuned.png",loading:"lazy",className:u().blessing})]}),(0,s.jsxs)("div",{className:u().stats,children:[v&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:u().statLabel,children:"HP"})," ",v]}),b&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:u().statLabel,children:"攻擊"})," ",b]}),k&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:u().statLabel,children:"速度"})," ",k]}),m&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:u().statLabel,children:"防守"})," ",m]}),x&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:u().statLabel,children:"魔防"}),x]})]})]})]})})},4530:function(e,n,t){"use strict";var s=t(5893),r=t(2204);n.Z=function(e){let{src:n,...t}=e;n.endsWith(".jpg")||n.endsWith(".png")||n.endsWith(".webp")||(n+=".webp");let l=(0,r.Z)(n);return(0,s.jsx)("img",{src:l,...t})}},163:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var s=t(5893),r=t(7294),l=t(4530),a=t(2204),i=t(6308),o={getDB:function(e){let n=localStorage.getItem("".concat(e,"-db"));return n?JSON.parse(n):n},saveDB:function(e,n){localStorage.setItem("".concat(e,"-db"),JSON.stringify(n))},getRev:function(e){return localStorage.getItem("".concat(e,"-rev"))},saveRev:function(e,n){localStorage.setItem("".concat(e,"-rev"),n)}};function c(e,n){return!!e&&!!n&&e===n}var u=function(e){let{children:n}=e,[t,u]=(0,r.useState)(null),[d,g]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),[f,v]=(0,r.useState)(!1),b=(0,r.useRef)(null),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=o.getDB("rule2"),n=o.getDB("heroes"),t=o.getDB("dragonflowers"),s=o.getDB("weapon"),r=o.getDB("assist"),l=o.getDB("special"),a=o.getDB("skillA"),i=o.getDB("skillB"),c=o.getDB("skillC"),d=o.getDB("skillX"),h=o.getDB("seal"),p=o.getDB("defaultSkills"),f=o.getDB("resplendent"),v=o.getDB("inheritables");u({rule2:e,heroes:n,dragonflowers:t,weapon:s,assist:r,special:l,skillA:a,skillB:i,skillC:c,skillX:d,seal:h,defaultSkills:p,resplendent:f,inheritables:v});let b=o.getRev("rule2"),k=o.getRev("heroes"),m=o.getRev("dragonflowers"),x=o.getRev("weapon"),j=o.getRev("assist"),w=o.getRev("special"),_=o.getRev("skillA"),D=o.getRev("skillB"),B=o.getRev("skillC"),y=o.getRev("skillX"),Z=o.getRev("seal"),S=o.getRev("defaultSkills"),N=o.getRev("resplendent"),R=o.getRev("inheritables");g({rule2:b,heroes:k,dragonflowers:m,weapon:x,assist:j,special:w,skillA:_,skillB:D,skillC:B,skillX:y,seal:Z,defaultSkills:S,resplendent:N,inheritables:R})},[]);let m=(0,a.Z)("/rev/rev.json"),[x,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{function e(){k.current||"visible"!==document.visibilityState||(k.current=!0,fetch(m+"?t=".concat(Date.now())).then(async e=>{let n=await e.json();k.current=!1,j(n)}))}return e(),document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[m]);let w=(0,a.Z)("/fehdb/"),_=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(b.current=Date.now(),!x||!t||!d||_.current)return;let e=null,n=null,s=null,r=null,l=null,a=null,i=null,u=null,g=null,h=null,f=null,k=null,m=null,j=null,D=[];return e=t.rule2,c(x["ruleHash2.json"],d.rule2)||D.push("ruleHash2.json"),n=t.heroes,c(x["heroes.json"],d.heroes)||D.push("heroes.json"),s=t.dragonflowers,c(x["dragonflowers.json"],d.dragonflowers)||D.push("dragonflowers.json"),r=t.weapon,c(x["weapon.json"],d.weapon)||D.push("weapon.json"),l=t.assist,c(x["assist.json"],d.assist)||D.push("assist.json"),a=t.special,c(x["special.json"],d.special)||D.push("special.json"),i=t.skillA,c(x["skillA.json"],d.skillA)||D.push("skillA.json"),u=t.skillB,c(x["skillB.json"],d.skillB)||D.push("skillB.json"),g=t.skillC,c(x["skillC.json"],d.skillC)||D.push("skillC.json"),h=t.skillX,c(x["skillX.json"],d.skillX)||D.push("skillX.json"),f=t.seal,c(x["seal.json"],d.seal)||D.push("seal.json"),k=t.defaultSkills,c(x["defaultSkills.json"],d.defaultSkills)||D.push("defaultSkills.json"),m=t.resplendent,c(x["resplendent.json"],d.resplendent)||D.push("resplendent.json"),j=t.inheritables,c(x["inheritables.json"],d.inheritables)||D.push("inheritables.json"),p({rules2DB:e,heroDB:n,dragonflowersDB:s,weaponDB:r,assistDB:l,specialDB:a,skillADB:i,skillBDB:u,skillCDB:g,skillXDB:h,sealDB:f,defaultSkillDB:k,resplendentDB:m,inheritablesDB:j}),D.length>0?(_.current=!0,D.forEach(e=>{fetch("".concat(w).concat(e)).then(async e=>{let n=await e.json(),t=e.url.split(w)[1];D=D.filter(e=>e!==t);let s=t.replace(".json","").replace("Hash","");switch(o.saveDB(s,n),o.saveRev(s,x[t]),s){default:break;case"rule2":p(e=>{let t={...e,rules2DB:n};return t});break;case"heroes":p(e=>{let t={...e,heroDB:n};return t});break;case"dragonflowers":p(e=>{let t={...e,dragonflowersDB:n};return t});break;case"weapon":p(e=>{let t={...e,weaponDB:n};return t});break;case"assist":p(e=>{let t={...e,assistDB:n};return t});break;case"special":p(e=>{let t={...e,specialDB:n};return t});break;case"skillA":p(e=>{let t={...e,skillADB:n};return t});break;case"skillB":p(e=>{let t={...e,skillBDB:n};return t});break;case"skillC":p(e=>{let t={...e,skillCDB:n};return t});break;case"skillX":p(e=>{let t={...e,skillXDB:n};return t});break;case"seal":p(e=>{let t={...e,sealDB:n};return t});break;case"defaultSkills":p(e=>{let t={...e,defaultSkillDB:n};return t});break;case"resplendent":p(e=>{let t={...e,resplendentDB:n};return t});break;case"inheritables":p(e=>{let t={...e,inheritablesDB:n};return t})}v(0===D.length),_.current=!D.length})})):v(!0),()=>{b.current=null}},[w,x,t,d]);let D=(0,r.useMemo)(()=>!!f&&["rules2DB","heroDB","weaponDB","assistDB","specialDB","skillADB","skillBDB","skillCDB","skillXDB","sealDB","defaultSkillDB","resplendentDB","inheritablesDB"].every(e=>!!h[e]),[f,h]);return D?(0,s.jsx)(i.Q.Provider,{value:h,children:n}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{src:"/error.png",style:{maxWidth:"100vw",margin:"0 auto",padding:"2em 0.5em 0",display:"block",boxSizing:"border-box"}})})}},6308:function(e,n,t){"use strict";t.d(n,{K:function(){return l},Q:function(){return r}});var s=t(7294);let r=(0,s.createContext)(null),l=()=>(0,s.useContext)(r)},3851:function(e,n,t){"use strict";t.d(n,{QJ:function(){return g},S5:function(){return d},YM:function(){return p},aG:function(){return h},nY:function(){return u}});var s=t(6858);let r={fire:"火之祝福",water:"水之祝福",wind:"風之祝福",earth:"地之祝福",light:"光之祝福",dark:"闇之祝福",astra:"天之祝福",anima:"理之祝福"},l={fire:"火之傳承",water:"水之傳承",wind:"風之傳承",earth:"地之傳承",light:"光之傳承",dark:"闇之傳承",astra:"天之傳承",anima:"理之傳承"},a={hp:"死鬥",atk:"攻擊",spd:"速度",def:"防守",res:"魔防"},i=s.$0.reduce((e,n)=>{let[t,s]=n.split("-");return{...e,[n]:"".concat(l[t]," - ").concat(a[s])}},{}),o=new RegExp(/(\w+-\w+)(?:-\d)?/);function c(e){var n;return(null===(n=e.match(o))||void 0===n?void 0:n[1])||e}function u(e){if(!e||"-"===e)return"";let n=c(e);return r[n]||i[n]?"/assets/blessing-".concat(e,".png"):""}function d(e){if(!e||"-"===e)return"";let n=c(e);return r[n]||i[n]||"無祝福"}function g(e){return{src:u(e),name:d(e)}}function h(e){return e&&"-"!==e?e.split("-")[0]:""}let p=Object.entries(r).map(e=>{let[n,t]=e;return{value:n,name:t}})},6858:function(e,n,t){"use strict";t.d(n,{$0:function(){return a},dM:function(){return s},s6:function(){return r}});let s=["infantry","armored","cavalry","flying"],r=["red-sword","blue-lance","green-axe","red-bow","blue-bow","green-bow","white-bow","red-dagger","blue-dagger","green-dagger","white-dagger","red-tome","blue-tome","green-tome","white-tome","white-staff","red-dragon","blue-dragon","green-dragon","white-dragon","red-beast","blue-beast","green-beast","white-beast"],l=["hp","atk","spd","def","res"],a=["fire","water","wind","earth","light","dark","astra","anima"].reduce((e,n)=>(l.forEach(t=>{e.push("".concat(n,"-").concat(t))}),e),[])},5869:function(e,n,t){"use strict";t.d(n,{$f:function(){return i},_u:function(){return o},cK:function(){return r},eM:function(){return l},gO:function(){return a},oc:function(){return c}});var s=t(3851);function r(e,n){return e[n]?e[n]:e.Feh}function l(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{id:t,title:r,name:l,rarity:a,colorType:i,weaponType:o,moveType:c,blessing:u,bst:d,statMax:g,statMin:h,stats:p,pool:f,ascended:v,rearmed:b,attuned:k,blesser:m,dfKey:x=0}=e,j=(0,s.nY)(u),w=p[5].hp[1],_=p[5].atk[1],D=p[5].spd[1],B=p[5].def[1],y=p[5].res[1],Z="".concat(t.toLowerCase(),"|").concat(r,"|").concat(l);return n&&(w=void 0,_=void 0,D=void 0,B=void 0,y=void 0),{id:t,title:r,name:l,rarity:a,colorType:i,weaponType:o,moveType:c,bst:Math.max(d||0,("story"===f?h:g)||0)||void 0,hp:w,atk:_,spd:D,def:B,res:y,pool:f,query:Z,faceSrc:"/faces/".concat(t,".png"),blessingSrc:j,ascended:v,rearmed:b,attuned:k,blesser:m,blessing:u,dfKey:x,dfDelta:0}}function a(e){let{heroDB:n,dragonflowersDB:t,assistDB:s,resplendentDB:r,heroId:a,noStat:i}=e,o=n[a],c=t[o.dfKey]||0,u=s.Dance.exclusive,d=s.Play.exclusive,g=s.Sing.exclusive,h=[...u,...d,...g],p=l(o,i);return p.dfDelta=c/5,p.isDancer=h.includes(o.id),p.hasResplendent=r.includes(o.id),p.faceSrcR=p.hasResplendent?"/faces/".concat(o.id,"(R).png"):p.faceSrc,p}function i(e){let{heroDB:n,dragonflowersDB:t,assistDB:s,resplendentDB:r,noStat:a}=e,i=s.Dance.exclusive,o=s.Play.exclusive,c=s.Sing.exclusive,u=[...i,...o,...c];return Object.values(n).map((e,n)=>{let s=l(e,a);return s.dfDelta=(t[e.dfKey]||0)/5,s.isDancer=u.includes(e.id),s.hasResplendent=r.includes(e.id),s.faceSrcR=s.hasResplendent?"/faces/".concat(e.id,"(R).png"):s.faceSrc,s.index=n,s})}function o(e,n){let{filter:t,moveTypeFilter:s,weaponTypeFilter:r,isRarity5:l,isRarity4:a,isLegendary:i,isMythic:o,isAscended:c,isRearmed:u,isDuo:d,isHar:g,isAttuned:h,isGrail:p,isDancer:f}=n;return!!t&&!e.query.includes(t.toLowerCase())||!!s&&"Feh"!==e.id&&!s[e.moveType]||!!r&&"Feh"!==e.id&&!r[e.weaponType]||!!i&&(-1===i?"legendary"===e.pool:"legendary"!==e.pool)||!!o&&(-1===o?"mythic"===e.pool:"mythic"!==e.pool)||!!c&&(-1===c?e.ascended:!e.ascended)||!!u&&(-1===u?e.rearmed:!e.rearmed)||!!d&&(-1===d?"duo"===e.pool:"duo"!==e.pool)||!!g&&(-1===g?"harmonized"===e.pool:"harmonized"!==e.pool)||!!h&&(-1===h?e.attuned:!e.attuned)||!!p&&(-1===p?"grail"===e.pool:"grail"!==e.pool)||!!f&&(-1===f?e.isDancer:!e.isDancer)||!l&&"Feh"!==e.id&&1===e.rarity.length||!a&&"Feh"!==e.id&&e.rarity.length>1}function c(e){let{heroDB:n,heroIds:t}=e;return n&&t?t.map(e=>n[e]).filter(e=>!!e):[]}},9298:function(e){e.exports={icon:"icon_icon__p1BzG"}},2978:function(e){e.exports={icon:"icon_icon__VOOfL"}},3773:function(e){e.exports={icon:"icon_icon__OwxYW"}},5243:function(e){e.exports={icon:"icon_icon__fhHb8"}},1946:function(e){e.exports={icon:"icon_icon__krVQC"}},6115:function(e){e.exports={icon:"icon_icon__6Nyq8"}},8252:function(e){e.exports={container:"heroheader_container__AiL87",right:"heroheader_right__SDHOu","img-container":"heroheader_img-container__05uiQ",bst:"heroheader_bst__XYRRG","title-and-name":"heroheader_title-and-name__8NpNg",title:"heroheader_title__yVKA9",name:"heroheader_name__QoRZr",types:"heroheader_types__1zcg3",blessing:"heroheader_blessing__vK5Kr",stats:"heroheader_stats__O1qvu",statLabel:"heroheader_statLabel__aC4iM"}}}]);